!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Urpflanze=e():t.Urpflanze=e()}(window,(function(){return(()=>{var __webpack_modules__={1723:(t,e,n)=>{"use strict";function r(t){var e=i(t);if(e){if("hsl"===e.type){var n=function(t,e,n){var r,i,o;if(t/=360,n/=100,0==(e/=100))r=i=o=n;else{var a=function(t,e,n){return(n+=n<0?1:n>1?-1:0)<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t},s=n<.5?n*(1+e):n+e-n*e,p=2*n-s;r=a(p,s,t+1/3),i=a(p,s,t),o=a(p,s,t-1/3)}return[.5+255*r<<0,.5+255*i<<0,.5+255*o<<0]}(e.a,e.b,e.c);return{r:n[0],g:n[1],b:n[2],h:e.a,s:e.b,l:e.c,alpha:e.alpha}}var r=function(t,e,n){t/=255,e/=255,n/=255;var r,i,o=Math.max(t,e,n),a=Math.min(t,e,n),s=(o+a)/2;if(o==a)r=i=0;else{var p=o-a;switch(i=s>.5?p/(2-o-a):p/(o+a),o){case t:r=(e-n)/p+(e<n?6:0);break;case e:r=(n-t)/p+2;break;case n:r=(t-e)/p+4}r/=6}return[.5+360*r<<0,.5+100*i<<0,.5+100*s<<0]}(e.a,e.b,e.c);return{h:r[0],s:r[1],l:r[2],r:e.a,g:e.b,b:e.c,alpha:e.alpha}}}function i(t){if("number"==typeof t)return t>16777215?{type:"rgb",a:t>>24&255,b:t>>16&255,c:t>>8&255,alpha:(255&t)/255}:{type:"rgb",a:t>>16&255,b:t>>8&255,c:255&t,alpha:1};t=t.replace(/\s/g,"");var e=/^#([0-9a-f]{3,8})$/i.exec(t);if(e){var n=e[1];return 3===n.length?{type:"rgb",a:parseInt(n[0]+n[0],16),b:parseInt(n[1]+n[1],16),c:parseInt(n[2]+n[2],16),alpha:1}:{type:"rgb",a:parseInt(n[0]+n[1],16),b:parseInt(n[2]+n[3],16),c:parseInt(n[4]+n[5],16),alpha:n.length>6?parseInt(n.substring(6),16)/255:1}}if(e=/^((hsl|rgb)a?)\((\d+),(\d+)%?,(\d+)%?,?(.+)?\)$/i.exec(t)){var r=e,i=r[2],o=r[3],a=r[4],s=r[5],p=r[6];return{type:i,a:+o,b:+a,c:+s,alpha:p?+p:1}}}n.d(e,{k0:()=>r,lu:()=>i})},9277:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{zO:()=>now,Ux:()=>toDegrees,Yr:()=>toRadians,qo:()=>toArray,t7:()=>lerp,uZ:()=>clamp,Sr:()=>relativeClamp,tF:()=>noise,aT:()=>angleFromRepetition,B7:()=>angle2FromRepetition,db:()=>distanceFromRepetition});var simplex_noise__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(21),simplex_noise__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(simplex_noise__WEBPACK_IMPORTED_MODULE_0__),_core_types_scene_child__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9835),gl_matrix__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1437),parseFunction={suffix:"$fn:",parse:function(t){return"function"==typeof t&&"SimpleAnimation"!==t.name?parseFunction.suffix+t.toString():t},unparse:function(data){return"string"==typeof data&&0===data.indexOf(parseFunction.suffix)?eval(data.substr(parseFunction.suffix.length)):data}};function cancelablePromise(t){var e=!1,n=!1;return{promise:new Promise((function(r,i){t.then((function(t){e=!0,n?i("canceled"):r(t)})).catch((function(t){e=!0,i(n?"canceled":t)}))})),resolved:function(){return e},canceled:function(){return n},cancel:function(){n=!0}}}function now(){return performance.now()}function toDegrees(t){return 180*t/Math.PI}function toRadians(t){return t*Math.PI/180}function toArray(t){return Array.isArray(t)?t:[t,t]}function lerp(t,e,n){return(1-n)*t+n*e}function clamp(t,e,n){return n<=t?t:n>=e?e:n}function relativeClamp(t,e,n,r,i){return clamp(r,i,(n-t)/(e-t)*(i-r)+r)}var noises={random:new(simplex_noise__WEBPACK_IMPORTED_MODULE_0___default())(Math.random)};function noise(t,e,n,r){return void 0===t&&(t="random"),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===noises[t]&&(noises[t]=new(simplex_noise__WEBPACK_IMPORTED_MODULE_0___default())(t)),noises[t].noise3D(e,n,r)}function angleFromRepetition(t,e){if(void 0===e&&(e=[0,0]),t.type==_core_types_scene_child__WEBPACK_IMPORTED_MODULE_1__.i.Matrix){var n=gl_matrix__WEBPACK_IMPORTED_MODULE_2__.al((t.col.count-1)/2,(t.row.count-1)/2);n[0]+=n[0]*e[0],n[1]+=n[1]*e[1];var r=t.col.index-1-n[0],i=t.row.index-1-n[1];return 0===r?0:Math.atan(i/r)}return(t.angle-Math.PI)/2}function angle2FromRepetition(t,e){if(void 0===e&&(e=[0,0]),t.type==_core_types_scene_child__WEBPACK_IMPORTED_MODULE_1__.i.Matrix){var n=gl_matrix__WEBPACK_IMPORTED_MODULE_2__.al((t.col.count-1)/2,(t.row.count-1)/2);n[0]+=n[0]*e[0],n[1]+=n[1]*e[1];var r=t.col.index-1-n[0],i=t.col.index-1-n[1];return 0===r?0:Math.atan2(i,r)}return t.angle-Math.PI}function distanceFromRepetition(t,e){if(void 0===e&&(e=[0,0]),t.type==_core_types_scene_child__WEBPACK_IMPORTED_MODULE_1__.i.Matrix){var n=gl_matrix__WEBPACK_IMPORTED_MODULE_2__.al(.5,.5);n[0]+=n[0]*e[0],n[1]+=n[1]*e[1];var r=gl_matrix__WEBPACK_IMPORTED_MODULE_2__.al(t.col.offset-.5/t.col.count,t.row.offset-.5/t.row.count);return gl_matrix__WEBPACK_IMPORTED_MODULE_2__.TE(r,n)}return 1}},5631:(t,e,n)=>{"use strict";n.d(e,{Z:()=>c});var r,i=n(817),o=n(9213),a=n(5282),s=n(7329),p=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const c=function(t){function e(e){void 0===e&&(e={});var n=this;return e.type="Group",(n=t.call(this,e)||this).children=[],["id","name","data","order","type"].forEach((function(t){t in e&&delete e[t]})),n.props=e,n}return p(e,t),e.prototype.isStatic=function(){for(var t=this.children,e=0,n=t.length;e<n;e++)if(!t[e].isStatic())return!1;return!0},e.prototype.isStaticIndexed=function(){for(var t=this.children,e=0,n=t.length;e<n;e++)if(!t[e].isStaticIndexed())return!1;return!0},e.prototype.add=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=function(n,r){var a=e[n],s=a.getProps();Object.keys(o.props).forEach((function(e){void 0===s[e]&&a.setProp(e,t.props[e])})),a.order=void 0!==a.order?a.order:o.children.length>0?Math.max.apply(o,o.children.map((function(t){return t.order||0})))+1:0,o.scene&&i.Z.propagateToChilden(a,o.scene),o.children.push(a)},o=this,a=0,s=e.length;a<s;a++)r(a,s);this.sortChildren()},e.prototype.sortChildren=function(){this.children.sort((function(t,e){return t.order-e.order})),this.children=this.children.map((function(t,e){return t.order=e,t})),this.clearBuffer(!0)},e.prototype.getChildren=function(){return this.children},e.prototype.find=function(t){if(this.id===t||this.name===t)return this;for(var e=this.getChildren(),n=0,r=e.length;n<r;n++){var i=e[n].find(t);if(null!==i)return i}return null},e.prototype.get=function(t){return t>=0&&t<this.children.length?this.children[t]:null},e.prototype.remove=function(t){if(t>=0&&t<this.children.length){var e=this.children.splice(t,1);return this.clearBuffer(!0),e}return!1},e.prototype.removeFromId=function(t){for(var e=0,n=this.children.length;e<n;e++)if(this.children[e].id==t)return this.children.splice(e,1),this.clearBuffer(!0)},e.prototype.generate=function(t,e,n){void 0===e&&(e=!1),this.children.forEach((function(r){return r.generate(t,e,n)}))},e.prototype.getBounding=function(){var t=[],e=s.Z.empty();if(this.children.length>0){this.children.forEach((function(e){return t.push(e.getBounding())}));for(var n=0,r=this.children.length;n<r;n++)e.x=e.x>t[n].x?t[n].x:e.x,e.y=e.y>t[n].y?t[n].y:e.y,e.width=e.width<t[n].width?t[n].width:e.width,e.height=e.height<t[n].height?t[n].height:e.height;e.cx=e.x+e.width/2,e.cy=e.y+e.height/2}return e},e.prototype.clearBuffer=function(t,e){if(void 0===t&&(t=!1),void 0===e&&(e=!0),this.children.forEach((function(e){return e.clearBuffer(t,!1)})),this.scene&&e){var n=this.scene.getParentsOfSceneChild(this);n.length>0&&n[n.length-1].clearBuffer(t,e)}},e.prototype.setProp=function(t,e){var n=this;"object"==typeof t?Object.keys(t).forEach((function(e){return n.props[e]=t[e]})):this.props[t]=e,this.children.forEach((function(n){return n.setProp(t,e)}))},e.prototype.setPropUnsafe=function(e,n){t.prototype.setPropUnsafe.call(this,e,n),this.children.forEach((function(t){return t.setPropUnsafe(e,n)}))},e.prototype.getBufferLength=function(t){return this.children.map((function(e){return e.getBufferLength(t)})).reduce((function(t,e){return t+e}),0)},e.prototype.getBuffer=function(){var t=this.children.map((function(t){return t.getBuffer()})).filter((function(t){return void 0!==t})),e=t.reduce((function(t,e){return t+e.length}),0);if(e>0){var n=new Float32Array(e);n.set(t[0],0);for(var r=1,i=0,o=t.length;r<o;r++)i+=t[r-1].length,n.set(t[r],i);return n}return a.Z.EMPTY_BUFFER},e.prototype.getIndexedBuffer=function(){var t=this.children.map((function(t){return t.getIndexedBuffer()})).filter((function(t){return void 0!==t}));return[].concat.apply([],t)},e.prototype.stream=function(t){this.children.forEach((function(e){return e.stream(t)}))},e}(o.Z)},817:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var r=n(9213),i=n(5631),o=n(8227);const a=function(){function t(t){void 0===t&&(t={}),this.width=400,this.height=400,this.background="hsla(0, 0%, 0%, 1)",this.color="hsla(0, 0%, 100%, 1)",this.currentTime=0,void 0!==t.width&&(this.width=t.width),void 0!==t.height&&(this.height=t.height),void 0!==t.background&&(this.background=t.background),void 0!==t.color&&(this.color=t.color),this.children=[],this.center=[this.width/2,this.height/2]}return t.prototype.getWidth=function(t){return void 0===t&&(t=100),this.width*t/100},t.prototype.getHeight=function(t){return void 0===t&&(t=100),this.height*t/100},t.prototype.resize=function(t,e){void 0===e&&(e=t),this.width=t,this.height=e,this.center=[this.width/2,this.height/2],this.children.forEach((function(t){return t.clearBuffer(!0,!1)}))},t.prototype.update=function(t){this.currentTime=t;for(var e=0,n=this.children.length;e<n;e++)this.children[e].generate(this.currentTime,!0)},t.prototype.stream=function(t){this.children.forEach((function(e){return e.stream(t)}))},t.prototype.getChildren=function(){return this.children},t.prototype.add=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r="number"==typeof e[e.length-1]?e[e.length-1]:void 0,i=e.length-(void 0===r?0:1),o=0;o<i;o++){var a=e[o];a.order=void 0!==r?r+o:void 0!==a.order?a.order:this.children.length>0?Math.max.apply(this,this.children.map((function(t){return t.order||0})))+1:0,t.propagateToChilden(a,this),this.children.push(a),a.clearBuffer(!0,!1)}this.sortChildren()},t.prototype.sortChildren=function(){this.children.sort((function(t,e){return t.order-e.order})),this.children=this.children.map((function(t,e){return t.order=e,t}))},t.prototype.find=function(t){for(var e=this.getChildren(),n=0,r=e.length;n<r;n++){var i=e[n].find(t);if(null!==i)return i}return null},t.prototype.get=function(t){return t>=0&&t<this.children.length?this.children[t]:null},t.prototype.remove=function(t){t>=0&&t<this.children.length&&this.children.splice(t,1)},t.prototype.removeChildren=function(){this.children=[]},t.prototype.removeFromId=function(t){for(var e=0,n=this.children.length;e<n;e++)if(this.children[e].id===t||this.children[e].name===t)return void this.children.splice(e,1)},t.prototype.isFirstLevelChild=function(t){for(var e=0,n=this.children.length;e<n;e++)if(this.children[e].id===t.id)return!0;var r=this.getParentsOfSceneChild(t);return 1===r.length&&r[0]instanceof i.Z},t.prototype.getParentsOfSceneChild=function(e){var n=t.getParentsOfSceneChild(this,e);return n?(n.splice(0,1),n):[]},t.getParentsOfSceneChild=function(e,n,a){var s;if(void 0===a&&(a=[]),e instanceof r.Z){if(e.id==n.id)return a;if(e instanceof o.Z&&e.shape){var p=a.slice();if(p.push(e),s=t.getParentsOfSceneChild(e.shape,n,p))return s}}if(e instanceof t||e instanceof i.Z){var c=e.getChildren();a.push(e);for(var u=0,f=c.length;u<f;u++){var l=c[u];if(s=t.getParentsOfSceneChild(l,n,a))return s}a.pop()}return null},t.walk=function(e,n){if(n instanceof r.Z){if(!1===e(n))return!1;if(n instanceof o.Z&&n.shape&&!1===t.walk(e,n.shape))return!1}if(n instanceof t||n instanceof i.Z)for(var a=n.getChildren(),s=0,p=a.length;s<p;s++){var c=a[s];if(!1===t.walk(e,c))return!1}},t.propagateToChilden=function(e,n){e.scene=n,e instanceof i.Z?e.getChildren().forEach((function(e){t.propagateToChilden(e,n)})):e instanceof o.Z&&e.shape&&(e.shape.scene=n,t.propagateToChilden(e.shape,n))},t}()},9213:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=0;const i=function(){function t(t){var e;this.id=null!==(e=t.id)&&void 0!==e?e:++r,this.type=t.type||"SceneChild",this.name=t.name||this.type+"_"+this.id,this.data=t.data||{},this.props={}}return t.prototype.find=function(t){return this.id===t||this.name===t?this:null},t.prototype.getProps=function(){return this.props},t.prototype.getProp=function(t,e,n){var r;return null!==(r=this.props[t])&&void 0!==r?r:n},t.prototype.setPropUnsafe=function(t,e){var n=this;"string"==typeof t?this.props[t]=e:Object.keys(t).forEach((function(e){return n.props[e]=t[e]}))},t}()},212:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=new Array(4),i={create:function(t,e){void 0===t&&(t=0);var n=new Array(2);return"number"==typeof t?(n[0]=t,n[1]=null!=e?e:t):(n[0]=t[0],n[1]=t[1]),n},normalize:function(t){var e=i.length(t);return 0!==e?[t[0]/e,t[1]/e]:[0,0]},distance:function(t,e){return Math.hypot(e[0]-t[0],e[1]-t[1])},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]},length:function(t){return Math.hypot(t[0],t[1])},angle:function(t,e){return t=i.normalize(t),e=i.normalize(e),Math.acos(i.dot(t,e))},skewX:function(t,e){t[0]+=Math.tan(e)*t[1]},skewY:function(t,e){t[1]+=Math.tan(e)*t[0]},squeezeX:function(t,e){t[1]+=t[1]*(t[0]*-e)},squeezeY:function(t,e){t[0]+=t[0]*(t[1]*e)},rotate:function(t,e,n){var r=t[0]-n[0],i=t[1]-n[1];t[0]=r*e[0]+i*e[1]+n[0],t[1]=r*e[2]+i*e[3]+n[1]},rotateX:function(t,e,n){r[0]=1,r[1]=0,r[2]=0,r[3]=Math.cos(n),i.rotate(t,r,e)},rotateY:function(t,e,n){r[0]=Math.cos(n),r[1]=0,r[2]=0,r[3]=1,i.rotate(t,r,e)},rotateZ:function(t,e,n){r[0]=Math.cos(n),r[1]=-Math.sin(n),r[2]=Math.sin(n),r[3]=Math.cos(n),i.rotate(t,r,e)},translate:function(t,e){t[0]+=e[0],t[1]+=e[1]},scale:function(t,e){t[0]*=e[0],t[1]*=e[1]},divide:function(t,e){t[0]/=e[0],t[1]/=e[1]},toString:function(t){return"x: "+t[0]+", y: "+t[1]},ZERO:Array.from([0,0]),ONE:Array.from([1,1])};const o=i},7329:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r={empty:function(){return{cx:0,cy:0,x:-1,y:-1,width:2,height:2}},clear:function(t){t[0]=void 0,t[1]=void 0,t[2]=void 0,t[3]=void 0},add:function(t,e,n){(void 0===t[0]||e<t[0])&&(t[0]=e),(void 0===t[2]||e>t[2])&&(t[2]=e),(void 0===t[1]||n<t[1])&&(t[1]=n),(void 0===t[3]||n>t[3])&&(t[3]=n)},sum:function(t,e){void 0!==e[0]&&void 0!==e[1]&&void 0!==e[2]&&void 0!==e[3]?void 0===t[0]||void 0===t[1]||void 0===t[2]||void 0===t[3]?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]):(t[0]<e[0]&&(t[0]=e[0]),t[2]>e[2]&&(t[2]=e[2]),t[1]<e[1]&&(t[1]=e[1]),t[3]>e[3]&&(t[3]=e[3])):console.warn("[Urplfanze:Bounding] cannot sum bounding")},bind:function(t,e){void 0!==e[0]&&void 0!==e[1]&&void 0!==e[2]&&void 0!==e[3]?(t.x=e[0],t.y=e[1],t.width=e[2]-e[0],t.height=e[3]-e[1],t.cx=t.x+t.width/2,t.cy=t.y+t.height/2):console.warn("[Urplfanze:Bounding] cannot bind bounding")}}},2727:(t,e,n)=>{"use strict";n.d(e,{Gt:()=>i,hp:()=>o,uP:()=>a,s8:()=>s,pn:()=>p,$2:()=>c});var r=n(9685),i=[0,0,0],o=[0,0],a=[1,1];function s(t,e){return t[0]=1,t[1]=Math.tan(e[1]),t[2]=0,t[3]=0,t[4]=Math.tan(e[0]),t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function p(t){return Array.isArray(t)?[t[0],t[1]]:[t,t]}function c(t,e){return void 0===e&&(e=0),Array.isArray(t)?[t[0],t[1],e]:[t,t,e]}r.ZR(Array)},4426:(t,e,n)=>{"use strict";n.d(e,{cM:()=>r,yo:()=>i,Q_:()=>o,$B:()=>a});var r=function(t,e){return Math.log(t)/Math.log(e)},i=2*Math.PI,o=(1+Math.sqrt(5))/2,a=function(t,e){var n=t%e;return n<0?n+e:n}},8227:(t,e,n)=>{"use strict";n.d(e,{Z:()=>c});var r,i=n(5282),o=n(9213),a=n(817),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(){return(p=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};const c=function(t){function e(e){void 0===e&&(e={});var n=this;return e.type=e.type||"Shape",n=t.call(this,e)||this,e.shape instanceof o.Z?n.shape=e.shape:console.warn("[Urpflanze:Shape] requires the 'shape' property to be instance of SceneChild,\nYou passed:",e.shape),n.bStatic=n.isStatic(),n.bStaticIndexed=n.isStaticIndexed(),n}return s(e,t),e.prototype.isStatic=function(){return t.prototype.isStatic.call(this)&&(!this.shape||this.shape.isStatic())},e.prototype.isStaticIndexed=function(){return t.prototype.isStaticIndexed.call(this)&&(!this.shape||this.shape.isStaticIndexed())},e.prototype.find=function(t){return this.id===t||this.name===t?this:this.shape?this.shape.find(t):null},e.prototype.getBufferLength=function(t){return this.bStatic&&this.buffer&&this.buffer.length>0?this.buffer.length:(this.shape?this.shape.getBufferLength(t):0)*this.getRepetitionCount()},e.prototype.generateBuffer=function(t,n){return this.shape?(this.shape.generate(t,!1,n),this.shape.getBuffer()||e.EMPTY_BUFFER):e.EMPTY_BUFFER},e.prototype.getShapeBounding=function(){return this.shape?this.shape.getBounding():this.bounding},e.prototype.addIndex=function(t,n,r){if(this.shape){var i=this.shape.getIndexedBuffer()||[],o={shape:this,frameLength:t,repetition:{type:n.type,angle:n.angle,index:n.index,count:n.count,offset:n.offset,row:{index:n.row.index,count:n.row.count,offset:n.row.offset},col:{index:n.col.index,count:n.col.count,offset:n.col.offset}}};void 0!==r&&(o.recursion={index:r.index,offset:r.offset,count:r.offset,level:r.level});for(var a=0,s=i.length;a<s;a++){var c=p({},i[a]);c.parent=c.parent?e.setIndexedParent(c.parent,o):o,this.indexedBuffer.push(c)}}},e.setIndexedParent=function(t,n){var r={shape:t.shape,repetition:{type:t.repetition.type,angle:t.repetition.angle,index:t.repetition.index,count:t.repetition.count,offset:t.repetition.offset,row:{index:t.repetition.row.index,count:t.repetition.row.count,offset:t.repetition.row.offset},col:{index:t.repetition.col.index,count:t.repetition.col.count,offset:t.repetition.col.offset}},frameLength:t.frameLength};return void 0!==t.recursion&&(r.recursion={index:t.recursion.index,offset:t.recursion.offset,count:t.recursion.offset,level:t.recursion.level}),r.parent=t.parent?e.setIndexedParent(t.parent,n):n,r},e.prototype.setShape=function(t){void 0===t?(this.shape=void 0,this.clearBuffer(!0,!0)):(this.scene&&a.Z.propagateToChilden(t,this.scene),this.shape=t,this.shape.clearBuffer(!0,!0))},e}(i.Z)},5282:(t,e,n)=>{"use strict";n.d(e,{Z:()=>R});var r=n(9685);function i(){var t=new r.WT(16);return r.WT!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function o(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function a(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],p=e[5],c=e[6],u=e[7],f=e[8],l=e[9],h=e[10],d=e[11],v=e[12],y=e[13],m=e[14],g=e[15],_=n[0],b=n[1],w=n[2],x=n[3];return t[0]=_*r+b*s+w*f+x*v,t[1]=_*i+b*p+w*l+x*y,t[2]=_*o+b*c+w*h+x*m,t[3]=_*a+b*u+w*d+x*g,_=n[4],b=n[5],w=n[6],x=n[7],t[4]=_*r+b*s+w*f+x*v,t[5]=_*i+b*p+w*l+x*y,t[6]=_*o+b*c+w*h+x*m,t[7]=_*a+b*u+w*d+x*g,_=n[8],b=n[9],w=n[10],x=n[11],t[8]=_*r+b*s+w*f+x*v,t[9]=_*i+b*p+w*l+x*y,t[10]=_*o+b*c+w*h+x*m,t[11]=_*a+b*u+w*d+x*g,_=n[12],b=n[13],w=n[14],x=n[15],t[12]=_*r+b*s+w*f+x*v,t[13]=_*i+b*p+w*l+x*y,t[14]=_*o+b*c+w*h+x*m,t[15]=_*a+b*u+w*d+x*g,t}function s(t,e,n){var r,i,o,a,s,p,c,u,f,l,h,d,v=n[0],y=n[1],m=n[2];return e===t?(t[12]=e[0]*v+e[4]*y+e[8]*m+e[12],t[13]=e[1]*v+e[5]*y+e[9]*m+e[13],t[14]=e[2]*v+e[6]*y+e[10]*m+e[14],t[15]=e[3]*v+e[7]*y+e[11]*m+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],p=e[5],c=e[6],u=e[7],f=e[8],l=e[9],h=e[10],d=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=p,t[6]=c,t[7]=u,t[8]=f,t[9]=l,t[10]=h,t[11]=d,t[12]=r*v+s*y+f*m+e[12],t[13]=i*v+p*y+l*m+e[13],t[14]=o*v+c*y+h*m+e[14],t[15]=a*v+u*y+d*m+e[15]),t}function p(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function c(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],p=e[7],c=e[8],u=e[9],f=e[10],l=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+c*r,t[5]=a*i+u*r,t[6]=s*i+f*r,t[7]=p*i+l*r,t[8]=c*i-o*r,t[9]=u*i-a*r,t[10]=f*i-s*r,t[11]=l*i-p*r,t}function u(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],p=e[3],c=e[8],u=e[9],f=e[10],l=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-c*r,t[1]=a*i-u*r,t[2]=s*i-f*r,t[3]=p*i-l*r,t[8]=o*r+c*i,t[9]=a*r+u*i,t[10]=s*r+f*i,t[11]=p*r+l*i,t}function f(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],p=e[3],c=e[4],u=e[5],f=e[6],l=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+c*r,t[1]=a*i+u*r,t[2]=s*i+f*r,t[3]=p*i+l*r,t[4]=c*i-o*r,t[5]=u*i-a*r,t[6]=f*i-s*r,t[7]=l*i-p*r,t}function l(t,e,n,r,i){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=(i+r)*o,t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t}function h(t,e,n){var i=new r.WT(3);return i[0]=t,i[1]=e,i[2]=n,i}function d(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function v(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function y(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t}function m(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}var g,_,b=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t},w=(g=new r.WT(3),r.WT!=Float32Array&&(g[0]=0,g[1]=0,g[2]=0),g,n(1437)),x=n(9835),S=n(9277),O=n(2727),M=n(212),P=n(4426),Z=n(7329),C=n(9213),I=(_=function(t,e){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}_(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),A=function(){return(A=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},T=i(),B=i(),k=i(),L=i();const R=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.generateId=-1,n.bIndexed=!1,n.indexedBuffer=[],n.bounding={cx:0,cy:0,x:-1,y:-1,width:2,height:2},n.props={distance:e.distance,repetitions:e.repetitions,rotateX:e.rotateX,rotateY:e.rotateY,rotateZ:e.rotateZ,skewX:e.skewX,skewY:e.skewY,squeezeX:e.squeezeX,squeezeY:e.squeezeY,displace:e.displace,translate:e.translate,scale:e.scale,transformOrigin:e.transformOrigin,perspective:e.perspective,perspectiveOrigin:e.perspectiveOrigin},n.bUseParent=!!e.bUseParent,n.bUseRecursion=!!e.bUseRecursion,n.vertexCallback=e.vertexCallback,n}return I(e,t),e.prototype.isStatic=function(){var t=this.props;return"function"!=typeof t.distance&&"function"!=typeof t.repetitions&&"function"!=typeof t.rotateX&&"function"!=typeof t.rotateY&&"function"!=typeof t.rotateZ&&"function"!=typeof t.displace&&"function"!=typeof t.skewX&&"function"!=typeof t.skewY&&"function"!=typeof t.squeezeX&&"function"!=typeof t.squeezeY&&"function"!=typeof t.translate&&"function"!=typeof t.scale&&"function"!=typeof t.transformOrigin},e.prototype.isStaticIndexed=function(){return"function"!=typeof this.props.repetitions},e.prototype.getProp=function(t,e,n){var r=this.props[t];return"function"==typeof r&&(r=r(e)),void 0===r||Number.isNaN(r)?n:r},e.prototype.setProp=function(t,e,n){var r=this;void 0===n&&(n=!1),"string"==typeof t?(n=n||"repetitions"==t,this.props[t]=e):(n=n||"repetitions"in t,Object.keys(t).forEach((function(e){return r.props[e]=t[e]}))),this.clearBuffer(n,!0)},e.prototype.clearBuffer=function(t,e){if(void 0===t&&(t=!1),void 0===e&&(e=!0),this.buffer=void 0,t&&(this.bIndexed=!1,this.indexedBuffer=[]),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed(),e&&this.scene&&!this.scene.isFirstLevelChild(this)){var n=this.scene.getParentsOfSceneChild(this);n.length>0&&n[n.length-1].clearBuffer(t,e)}},e.prototype.generate=function(t,n,r){var i,g;if(void 0===n&&(n=!1),!this.buffer||!this.bStatic&&(t!==this.generateId||this.bUseParent||this.bUseRecursion)){this.generateId=t,this.bStaticIndexed&&this.bIndexed||(this.indexedBuffer=[]);var _=e.getEmptyPropArguments(this,r),C=_.repetition,I=this.getProp("repetitions",_,1),A=Array.isArray(I)?x.i.Matrix:x.i.Ring,R=Array.isArray(I)?I[0]*(null!==(i=I[1])&&void 0!==i?i:I[0]):I,E=Array.isArray(I)?I[0]:R,F=Array.isArray(I)?null!==(g=I[1])&&void 0!==g?g:I[0]:1,D=C.row;D.count=E;var q=C.col;q.count=F,C.count=R,C.col.count=F,C.row.count=E,C.type=A;for(var j=0,U=[],z=0,V=w.al((F-1)/2,(E-1)/2),Y=this.scene?[this.scene.center[0],this.scene.center[1],0]:[0,0,0],N=[void 0,void 0,void 0,void 0],W=[void 0,void 0,void 0,void 0],G=0;G<E;G++)for(var H=0;H<F;H++,z++){C.index=z+1,C.offset=R>1?z/(R-1):1,C.angle=A===x.i.Ring?P.yo/R*z:0,q.index=H+1,q.offset=F>1?H/(F-1):1,D.index=G+1,D.offset=E>1?G/(E-1):1;var X=this.generateBuffer(t,_),K=X.length,$=this.getShapeBounding();U[z]=new Float32Array(K),j+=K;var J=O.pn(this.getProp("distance",_,O.hp)),Q=this.getProp("displace",_,0),tt=O.$2(this.getProp("scale",_,O.uP),1),et=O.$2(this.getProp("translate",_,O.hp),0),nt=this.getProp("skewX",_,0),rt=this.getProp("skewY",_,0),it=this.getProp("squeezeX",_,0),ot=this.getProp("squeezeY",_,0),at=this.getProp("rotateX",_,0),st=this.getProp("rotateY",_,0),pt=this.getProp("rotateZ",_,0),ct=(0,S.uZ)(0,1,this.getProp("perspective",_,0)),ut=O.$2(this.getProp("perspectiveOrigin",_,O.hp),0),ft=O.$2(this.getProp("transformOrigin",_,O.hp),0),lt=void 0;switch(A){case x.i.Ring:m(lt=h(J[0],0,0),lt,O.Gt,C.angle+Q);break;case x.i.Matrix:lt=h(J[1]*(H-V[0]),J[0]*(G-V[1]),0)}var ht=ct>0?Math.max($.width,$.height)/2:1,dt=ct>0?ht+10*ht*(1-ct):0,vt=0!==ct||0!==ft[0]||0!==ft[1],yt=0!==ut[0]||0!==ut[1];vt&&(ft[0]*=$.width/2,ft[1]*=$.height/2,ft[2]=dt),o(B),vt&&s(B,B,ft),0===et[0]&&0===et[1]||s(B,B,et),0===nt&&0===rt||(O.s8(T,[nt,rt]),a(B,B,T)),0!==at&&c(B,B,at),0!==st&&u(B,B,st),0!==pt&&f(B,B,pt),1===tt[0]&&1===tt[1]||p(B,B,tt),vt&&s(B,B,v(ft,ft,-1)),dt>0&&(yt&&(ut[0]*=$.width/2,ut[1]*=$.height/2,ut[2]=0),l(k,-Math.PI/2,1,0,1/0)),o(L),s(L,L,lt),n&&s(L,L,Y),A===x.i.Ring&&f(L,L,C.angle+Q),Z.Z.clear(W);for(var mt=0;mt<K;mt+=2){var gt=[X[mt],X[mt+1],dt];if(0!==it&&M.Z.squeezeX(gt,it),0!==ot&&M.Z.squeezeY(gt,ot),y(gt,gt,B),dt>0&&(yt&&d(gt,gt,ut),y(gt,gt,k),v(gt,gt,dt),yt&&b(gt,gt,ut)),this.vertexCallback){var _t=mt/2,bt=K/2,wt={index:_t+1,count:bt,offset:bt>1?_t/(bt-1):1};this.vertexCallback(gt,wt,_)}y(gt,gt,L),U[z][mt]=gt[0],U[z][mt+1]=gt[1],Z.Z.add(N,gt[0],gt[1])}this.bStaticIndexed&&this.bIndexed||this.addIndex(K,C)}Z.Z.bind(this.bounding,N),this.buffer=new Float32Array(j);for(var xt=0,St=(lt=0,U.length);xt<St;lt+=U[xt].length,xt++)this.buffer.set(U[xt],lt);this.bIndexed=!0}},e.prototype.getBounding=function(){return this.bounding},e.prototype.getRepetitionCount=function(){var t,e=this.getProp("repetitions",void 0,1);return Array.isArray(e)?e[0]*(null!==(t=e[1])&&void 0!==t?t:e[0]):e},e.prototype.getBuffer=function(){return this.buffer},e.prototype.getIndexedBuffer=function(){return this.indexedBuffer},e.getIndexParentLevel=function(t){if(void 0===t.parent)return 0;for(var e=t.parent,n=1;void 0!==e.parent;)n++,e=e.parent;return n},e.prototype.stream=function(t){if(this.buffer&&this.indexedBuffer)for(var e=0,n=0,r=this.indexedBuffer.length;e<r;e++){var i=this.indexedBuffer[e];t({buffer:this.buffer,frameLength:i.frameLength,frameBufferIndex:n,currentIndexing:i,currentShapeIndex:e,totalShapes:r}),n+=i.frameLength}},e.getEmptyPropArguments=function(t,e){return{repetition:{type:x.i.Ring,angle:0,index:1,offset:1,count:1,row:{index:1,offset:1,count:1},col:{index:1,offset:1,count:1}},shape:t,parent:e}},e.EMPTY_BUFFER=new Float32Array(0),e.getEmptySimpleRepetition=function(){return{index:1,offset:1,count:1}},e.getEmptyRepetition=function(){return A(A({type:x.i.Ring,angle:0},e.getEmptySimpleRepetition()),{row:e.getEmptySimpleRepetition(),col:e.getEmptySimpleRepetition()})},e}(C.Z)},3969:(t,e,n)=>{"use strict";n.d(e,{Z:()=>p});var r,i=n(7329),o=n(6591),a=n(6669),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const p=function(t){function e(n){var r;void 0===n&&(n={});var i=this;return n.type=n.type||"ShapeBuffer",n.adaptMode=null!==(r=n.adaptMode)&&void 0!==r?r:a._.Scale,i=t.call(this,n)||this,void 0===n.shape?(console.warn("[Urpflanze:ShapeBuffer] ShapeBuffer require a buffer passed from `shape` property"),i.shape=e.EMPTY_BUFFER):i.shape=Float32Array.from(n.shape),i.bStatic=i.isStatic(),i.bStaticIndexed=i.isStaticIndexed(),i}return s(e,t),e.prototype.clearBuffer=function(e,n){void 0===e&&(e=!1),void 0===n&&(n=!0),t.prototype.clearBuffer.call(this,e,n),this.shapeBuffer=void 0},e.prototype.bindBuffer=function(t){for(var e=this.getRepetitionSideLength(t),n=this.adaptMode!==a._.None?o.Z.adaptBuffer(this.shape,this.adaptMode):Float32Array.from(this.shape),r=[void 0,void 0,void 0,void 0],s=0,p=n.length;s<p;s+=2)n[s]*=e[0],n[s+1]*=e[1],i.Z.add(r,n[s],n[s+1]);i.Z.bind(this.currentGenerationPrimitiveBounding,r),this.shapeBuffer=n},e.prototype.getBufferLength=function(t){return this.buffer&&this.buffer.length>0?this.buffer.length:this.shape.length*this.getRepetitionCount()},e.prototype.generateBuffer=function(t,e){return void 0!==this.shapeBuffer&&"function"!=typeof this.props.sideLength||this.bindBuffer(e),this.shapeBuffer},e.prototype.setShape=function(t){this.shape=t,this.clearBuffer(!0)},e.prototype.subdivide=function(t){void 0===t&&(t=1);var n=this.shape;if(n&&n.length>0){for(var r=0;r<t;r++)n=e.subdivide(n,this.bClosed);this.setShape(n)}},e.subdivide=function(t,e){void 0===e&&(e=!0);for(var n=t.length,r=new Float32Array(2*n-(e?0:2)),i=0;i<n;i+=2)if(0===i)r[0]=t[0],r[1]=t[1];else{var o=t[i-2],a=t[i-1],s=t[i],p=t[i+1],c=(s+o)/2,u=(p+a)/2;r[2*(i-1)]=c,r[2*(i-1)+1]=u,r[2*i]=s,r[2*i+1]=p}return e&&(r[2*(n-1)]=(t[0]+t[n-2])/2,r[2*(n-1)+1]=(t[1]+t[n-1])/2),r},e}(o.Z)},1315:(t,e,n)=>{"use strict";n.d(e,{Z:()=>f});var r,i=n(6669),o=n(7329),a=n(4426),s=n(6591),p=n(5282),c=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(){return(u=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};const f=function(t){function e(e,n){void 0===e&&(e={}),void 0===n&&(n=!1);var r=this;return e.type=e.type||"ShapeLoop",(r=t.call(this,e)||this).loopDependencies=(e.loopDependencies||[]).concat("sideLength"),r.props.loop=e.loop,n||(r.loop={start:0,end:a.yo,inc:a.yo/10,vertex:function(){return[0,0]}},r.bStaticLoop=r.isStaticLoop(),r.bStatic=r.isStatic(),r.bStaticIndexed=r.isStaticIndexed()),r}return c(e,t),e.prototype.isStaticLoop=function(){if(this.loopDependencies.includes("propArguments"))return!1;for(var t=0,e=this.loopDependencies.length;t<e;t++)if("function"==typeof this.props[this.loopDependencies[t]])return!1;return!0},e.prototype.isStatic=function(){return this.bStaticLoop&&t.prototype.isStatic.call(this)},e.prototype.isStaticIndexed=function(){return this.bStaticLoop&&t.prototype.isStaticIndexed.call(this)},e.prototype.clearBuffer=function(e,n){void 0===e&&(e=!1),void 0===n&&(n=!0),this.bStaticLoop=this.isStaticLoop(),e&&(this.currentOrSingleLoopBuffer=void 0),t.prototype.clearBuffer.call(this,e,n)},e.prototype.setProp=function(e,n){for(var r,i=!1,o="string"==typeof e?((r={})[e]=n,r):e,a=this.loopDependencies.length-1;a>=0;a--)if(this.loopDependencies[a]in o){i=!0;break}"loop"in o&&(o.loop=u(u({},this.props.loop),o.loop),i=!0),t.prototype.setProp.call(this,o,n,i)},e.prototype.getBufferLength=function(t){if(this.bStatic&&void 0!==this.buffer)return this.buffer.length;if(this.bStaticLoop&&void 0!==this.currentOrSingleLoopBuffer)return this.currentOrSingleLoopBuffer.length*this.getRepetitionCount();var e=this.getLoop(t||p.Z.getEmptyPropArguments(this)).count;return this.getRepetitionCount()*e*2},e.prototype.generateBuffer=function(t,e){return this.bStaticLoop?("function"!=typeof this.props.sideLength&&void 0!==this.currentOrSingleLoopBuffer||(this.currentOrSingleLoopBuffer=this.generateLoopBuffer(e)),this.currentOrSingleLoopBuffer):this.generateLoopBuffer(e)},e.prototype.generateLoopBuffer=function(t){for(var e=this.getLoop(t),n=e.start,r=e.inc,a=(e.end,e.count),p=this.getRepetitionSideLength(t),c=this.props.loop&&this.props.loop.vertex?this.props.loop.vertex:this.loop.vertex,u={index:0,offset:0,angle:0,count:a},f=u.count,l=2*f,h=new Float32Array(l),d=this.adaptMode===i._.None,v=[void 0,void 0,void 0,void 0],y=0,m=0;y<f;y++,m+=2){var g=n+r*y,_=u.count>1?y/(u.count-1):1;u.angle=g,u.index=y+1,u.offset=_;var b=Float32Array.from(c(u,t));h[m]=b[0],h[m+1]=b[1],d&&(h[m]*=p[0],h[m+1]*=p[1],o.Z.add(v,h[m],h[m+1]))}if(!d){var w=s.Z.adaptBuffer(h,this.adaptMode);for(o.Z.clear(v),y=0;y<l;y+=2)w[y]=w[y]*p[0],w[y+1]=w[y+1]*p[1],o.Z.add(v,w[y],w[y+1]);return o.Z.bind(this.currentGenerationPrimitiveBounding,v),w}return o.Z.bind(this.currentGenerationPrimitiveBounding,v),h},e.prototype.getLoop=function(t){var e,n,r,i,o,a,s=null!==(n=null===(e=this.props.loop)||void 0===e?void 0:e.start)&&void 0!==n?n:this.loop.start,p=null!==(i=null===(r=this.props.loop)||void 0===r?void 0:r.end)&&void 0!==i?i:this.loop.end,c=null!==(a=null===(o=this.props.loop)||void 0===o?void 0:o.inc)&&void 0!==a?a:this.loop.inc;s="function"==typeof s?s(t):s,p="function"==typeof p?p(t):p,c="function"==typeof c?c(t):c;var u=Math.ceil((p-s)/c);return{start:s,end:p,inc:c,count:u<=0?0:u}},e.prototype.subdivide=function(t){void 0===t&&(t=1);var e=this.props.loop||this.loop;"number"==typeof e.inc&&(e.inc=(e.inc||1)/Math.pow(2,t),this.setProp("loop",e))},e.prototype.setShape=function(t){this.setProp("loop",t)},e.PId2=Math.PI/2,e}(s.Z)},6591:(t,e,n)=>{"use strict";n.d(e,{Z:()=>c});var r,i=n(5282),o=n(6669),a=n(2727),s=n(7329),p=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const c=function(t){function e(e){var n,r;void 0===e&&(e={});var i=t.call(this,e)||this;return i.currentGenerationPrimitiveBounding=s.Z.empty(),i.props.sideLength=void 0===e.sideLength?void 0:"function"==typeof e.sideLength?e.sideLength:a.pn(e.sideLength),i.style=e.style||{},i.adaptMode=null!==(n=e.adaptMode)&&void 0!==n?n:o._.None,i.bClosed=null===(r=e.bClosed)||void 0===r||r,i}return p(e,t),e.prototype.isStatic=function(){return"function"!=typeof this.props.sideLength&&t.prototype.isStatic.call(this)},e.prototype.getRepetitionSideLength=function(t){return this.bStatic?(void 0===this.props.sideLength?this.props.sideLength=[50,50]:"number"==typeof this.props.sideLength&&(this.props.sideLength=[this.props.sideLength,this.props.sideLength]),this.props.sideLength):a.pn(this.getProp("sideLength",t,[50,50]))},e.prototype.getShapeBounding=function(){return this.currentGenerationPrimitiveBounding},e.prototype.addIndex=function(t,e,n){var r={shape:this,frameLength:t,repetition:{type:e.type,angle:e.angle,index:e.index,count:e.count,offset:e.offset,row:{index:e.row.index,count:e.row.count,offset:e.row.offset},col:{index:e.col.index,count:e.col.count,offset:e.col.offset}}};void 0!==n&&(r.recursion={index:n.index,offset:n.offset,count:n.offset,level:n.level}),this.indexedBuffer.push(r)},e.prototype.isClosed=function(){return this.bClosed},e.prototype.setClosed=function(t){this.bClosed=t},e.prototype.getAdaptMode=function(){return this.adaptMode},e.prototype.adapt=function(t){this.adaptMode=t,this.clearBuffer(!0)},e.getBounding=function(t,e){void 0===e&&(e=s.Z.empty());for(var n=[void 0,void 0,void 0,void 0],r=0,i=t.length;r<i;r+=2)s.Z.add(n,t[r],t[r+1]);return s.Z.bind(e,n),e},e.adaptBuffer=function(t,n,r){if(n===o._.None)return Float32Array.from(t);var i=new Float32Array(t.length);r||(r=e.getBounding(t));for(var a=r.width>=2||r.height>=2||n>=o._.Fill&&(r.width<2||r.height<2)?2/Math.max(r.width,r.height):1,s=n>=o._.Center?r.cx:0,p=n>=o._.Center?r.cy:0,c=0,u=t.length;c<u;c+=2)i[c]=(t[c]-s)*a,i[c+1]=(t[c+1]-p)*a;return i},e}(i.Z)},1029:(t,e,n)=>{"use strict";n.d(e,{Z:()=>p});var r,i=n(7329),o=n(8227),a=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};const p=function(t){function e(e){void 0===e&&(e={});var n=this;return e.type=e.type||"ShapeRecursive",(n=t.call(this,e)||this).props.recursions=e.recursions||1,n.props.recursionScale=e.recursionScale||2,n.props.recursionVertex=e.recursionVertex||0,n.bStatic=n.isStatic(),n.bStaticIndexed=n.isStaticIndexed(),n.currentGenerationRecursiveBounding=i.Z.empty(),n}return a(e,t),e.prototype.clearBuffer=function(e,n){void 0===e&&(e=!1),void 0===n&&(n=!0),e&&(this.shapeRecursiveBuffer=void 0),t.prototype.clearBuffer.call(this,e,n)},e.prototype.isStatic=function(){return"function"!=typeof this.props.recursions&&"function"!=typeof this.props.recursionScale&&"function"!=typeof this.props.recursionVertex&&t.prototype.isStatic.call(this)},e.prototype.isStaticIndexed=function(){return"function"!=typeof this.props.recursions&&t.prototype.isStaticIndexed.call(this)},e.prototype.generateBuffer=function(t,e){return this.isStatic()&&void 0!==this.shapeRecursiveBuffer||this.bindBuffer(t,e),this.shapeRecursiveBuffer},e.prototype.bindBuffer=function(t,n){if(void 0!==this.shape){var r=Math.floor(this.getProp("recursions",n,1)),a=Math.floor(this.getProp("recursionVertex",n,0)),s=this.getProp("recursionScale",n,2),p={index:1,offset:1,count:1,level:{index:1,offset:r>1?0:1,count:1}};if(r<=1){var c=this.generateShapeBuffer(n,t,p);return this.currentGenerationRecursiveBounding=this.shape.getBounding(),void(this.shapeRecursiveBuffer=c)}for(var u=this.generateShapeBuffer(n,t,p),f=[p],l=0,h=1,d=[void 0,void 0,void 0,void 0],v=u.length,y=v/2,m=a<=0?y:Math.min(a,y),g=0===a?1:y/Math.min(a,y),_=new Float32Array(e.summmation(r,m)*v),b=0;b<v;b+=2)_[b]=u[b],_[b+1]=u[b+1],i.Z.add(d,_[b],_[b+1]);for(var w=1;w<r;w++)for(var x=r>1?w/(r-1):1,S=e.summmation(w,m)*v,O=w-1,M=0===O?0:e.summmation(O,m)*v,P=0,Z=Math.pow(m,w);P<Z;P++,h++){p={index:P+1,offset:Z>1?P/(Z-1):1,count:Z,level:{index:w+1,offset:x,count:r},parent:f[l]},u=this.generateShapeBuffer(n,t,p),f.push(p);for(var C=S+P*v,I=Math.floor(M+2*P*g),A=_[I=I%2==0?I:I+1],T=_[I+1],B=(b=0,v);b<B;b+=2){var k=u[b]/Math.pow(s,w),L=u[b+1]/Math.pow(s,w);_[C+b]=A+k,_[C+b+1]=T+L,i.Z.add(d,_[C+b],_[C+b+1])}h%m==0&&(l+=1)}i.Z.bind(this.currentGenerationRecursiveBounding,d),this.shapeRecursiveBuffer=_}else this.shapeRecursiveBuffer=o.Z.EMPTY_BUFFER},e.prototype.generateShapeBuffer=function(e,n,r){return e.recursion=r,t.prototype.generateBuffer.call(this,n,e)},e.prototype.addIndex=function(t,e,n){if(this.shape){var r={repetition:e,shape:this},i=Math.floor(this.getProp("recursions",r,1)),a=Math.floor(this.getProp("recursionVertex",r,0)),p={shape:this,frameLength:t,repetition:{type:e.type,angle:e.angle,index:e.index,count:e.count,offset:e.offset,row:{index:e.row.index,count:e.row.count,offset:e.row.offset},col:{index:e.col.index,count:e.col.count,offset:e.col.offset}}};void 0!==n&&(p.recursion={index:n.index,offset:n.offset,count:n.offset,level:n.level});for(var c=this.shape.getIndexedBuffer()||[],u=0,f=c.length;u<f;u++){var l=s({},c[u]),h={index:1,offset:1,count:1,level:{index:1,offset:i>1?0:1,count:i}},d=s(s({},p),{recursion:h});l.parent=l.parent?o.Z.setIndexedParent(l.parent,d):d,this.indexedBuffer.push(l)}if(i>1)for(var v=this.shape.getBufferLength(r)/2,y=a<=0?v:Math.min(a,v),m=this.indexedBuffer.map((function(t){return[t.parent.recursion]})),g=0,_=1,b=1;b<i;b++)for(var w=i>1?b/(i-1):1,x=0,S=Math.pow(y,b);x<S;x++,_++){var O=S>1?x/(S-1):1;for(u=0,f=c.length;u<f;u++)l=s({},c[u]),h={index:x+1,offset:O,count:S,level:{index:b+1,offset:w,count:i},parent:m[u][g]},d=s(s({},p),{recursion:h}),l.parent=l.parent?o.Z.setIndexedParent(l.parent,d):d,this.indexedBuffer.push(l),m[u].push(h),_%y==0&&(g+=1)}}},e.summmation=function(t,e){if(1===t)return 1;for(var n=1,r=1;r<t;r++)n+=Math.pow(e,r);return n},e.getEmptyRecursion=function(){return{index:1,offset:1,count:1,level:{index:1,offset:1,count:1}}},e}(o.Z)},9668:(t,e,n)=>{"use strict";n.d(e,{Z:()=>p});var r,i=n(4426),o=n(1315),a=n(6669),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const p=function(t){function e(e){void 0===e&&(e={});var n=this;return e.type="Circle",e.adaptMode=a._.None,(n=t.call(this,e,!0)||this).loop={start:0,end:i.yo,inc:function(t){var e=n.getRepetitionSideLength(t);return 1/Math.pow(e[0]*e[1],.25)*o.Z.PId2},vertex:function(t){return[Math.cos(t.angle),Math.sin(t.angle)]}},n.bStaticLoop=n.isStaticLoop(),n.bStatic=n.isStatic(),n.bStaticIndexed=n.isStaticIndexed(),n}return s(e,t),e}(o.Z)},1010:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r,i=n(6669),o=n(3969),a=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const s=function(t){function e(e){return void 0===e&&(e={}),e.type="Line",e.shape=[-1,0,1,0],e.adaptMode=i._.None,e.bClosed=!1,t.call(this,e)||this}return a(e,t),e}(o.Z)},6863:(t,e,n)=>{"use strict";n.d(e,{Z:()=>p});var r,i=n(4426),o=n(1315),a=n(6669),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const p=function(t){function e(e){void 0===e&&(e={});var n=this;return e.type="Lissajous",e.loopDependencies=(e.loopDependencies||[]).concat(["wx","wy","wz"]),e.adaptMode=a._.None,(n=t.call(this,e,!0)||this).props.wx=e.wx||1,n.props.wy=e.wy||2,n.props.wz=e.wz||0,n.loop={start:0,end:i.yo,inc:function(t){var e=n.getProp("wx",t),r=n.getProp("wy",t),i=e==r?o.Z.PId2:.5-.01*Math.min(49,e+r),a=n.getRepetitionSideLength(t);return 1/Math.pow(a[0]*a[1],.25)*i},vertex:function(t){return n.wx===n.wy?[Math.cos(t.angle+n.wz),Math.sin(t.angle)]:[Math.cos(n.wx*t.angle+n.wz),Math.sin(n.wy*t.angle)]}},n.bStaticLoop=n.isStaticLoop(),n.bStatic=n.isStatic(),n.bStaticIndexed=n.isStaticIndexed(),n}return s(e,t),e.prototype.generateLoopBuffer=function(e){return this.wx=this.getProp("wx",e,1),this.wy=this.getProp("wy",e,2),this.wz=this.getProp("wz",e,2),t.prototype.generateLoopBuffer.call(this,e)},e}(o.Z)},2868:(t,e,n)=>{"use strict";n.d(e,{Z:()=>p});var r,i=n(1315),o=n(6669),a=n(4426),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const p=function(t){function e(e){var n;void 0===e&&(e={});var r=this;return e.type=e.type||"Polygon",e.loopDependencies=(e.loopDependencies||[]).concat(["sideNumber"]),e.adaptMode=null!==(n=e.adaptMode)&&void 0!==n?n:o._.None,(r=t.call(this,e,!0)||this).props.sideNumber=e.sideNumber,r.loop={start:0,end:a.yo,inc:function(t){return a.yo/r.getProp("sideNumber",t,5)},vertex:function(t){return[Math.cos(t.angle),Math.sin(t.angle)]}},r.bStaticLoop=r.isStaticLoop(),r.bStatic=r.isStatic(),r.bStaticIndexed=r.isStaticIndexed(),r}return s(e,t),e}(i.Z)},178:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r,i=n(6669),o=n(3969),a=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const s=function(t){function e(e){return void 0===e&&(e={}),e.type="Rect",e.shape=[-1,-1,1,-1,1,1,-1,1],e.adaptMode=i._.None,t.call(this,e)||this}return a(e,t),e}(o.Z)},5589:(t,e,n)=>{"use strict";n.d(e,{Z:()=>p});var r,i=n(1315),o=n(6669),a=n(4426),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const p=function(t){function e(n){var r,i,s;void 0===n&&(n={});var p=this;return n.type="Rose",n.loopDependencies=(n.loopDependencies||[]).concat(["n","d"]),n.adaptMode=null!==(r=n.adaptMode)&&void 0!==r?r:o._.Scale,(p=t.call(this,n,!0)||this).props.n=null!==(i=n.n)&&void 0!==i?i:1,p.props.d=null!==(s=n.d)&&void 0!==s?s:2,p.loop={start:0,end:function(t){return e.getFinalAngleFromK(p.getProp("n",t),p.getProp("d",t))},inc:function(t){var e=p.getProp("n",t),n=p.getProp("d",t),r=p.getRepetitionSideLength(t),i=Math.pow(r[0]*r[1],.45),o=n<e?e/n:1.5;return a.yo/(i*o)},vertex:function(t){var e=Math.cos(p.k*t.angle);return[e*Math.cos(t.angle),e*Math.sin(t.angle)]}},p.bStaticLoop=p.isStaticLoop(),p.bStatic=p.isStatic(),p.bStaticIndexed=p.isStaticIndexed(),p}return s(e,t),e.prototype.generateLoopBuffer=function(e){return this.k=this.getProp("n",e)/this.getProp("d",e),t.prototype.generateLoopBuffer.call(this,e)},e.getFinalAngleFromK=function(t,e){if(t==e)return a.yo;var n=t/e,r=t*e;return Number.isInteger(n)||n%.5!=0?Math.PI*e*(r%2==0?2:1):4*Math.PI},e}(i.Z)},1590:(t,e,n)=>{"use strict";n.d(e,{Z:()=>p});var r,i=n(1315),o=n(6669),a=n(4426),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const p=function(t){function e(n){var r,i,s,p;void 0===n&&(n={});var c=this;return n.type="Spiral",n.bClosed=!1,n.adaptMode=null!==(r=n.adaptMode)&&void 0!==r?r:o._.None,n.loopDependencies=(n.loopDependencies||[]).concat(["twists","twistsStart","spiral"]),(c=t.call(this,n,!0)||this).props.spiral=null!==(i=n.spiral)&&void 0!==i?i:e.types.ARCHIMEDE,c.props.twists=null!==(s=n.twists)&&void 0!==s?s:2,c.props.twistsStart=null!==(p=n.twistsStart)&&void 0!==p?p:0,c.loop={start:function(t){return a.yo*c.getProp("twistsStart",t)},end:function(t){return a.yo*(c.getProp("twistsStart",t)+c.getProp("twists",t))},inc:function(t){var e=c.getProp("twists",t),n=a.yo*e,r=c.getRepetitionSideLength(t);return n/((4+Math.sqrt(r[0]*r[1]))*e)},vertex:function(t){var e=c.r(t.angle);return[e*Math.cos(t.angle),e*Math.sin(t.angle)]}},c.bStaticLoop=c.isStaticLoop(),c.bStatic=c.isStatic(),c.bStaticIndexed=c.isStaticIndexed(),c}return s(e,t),e.prototype.generateLoopBuffer=function(n){return this.spiral=this.getProp("spiral",n),this.r=e.getRFromTSpiralType(this.spiral),t.prototype.generateLoopBuffer.call(this,n)},e.getRFromTSpiralType=function(t){switch(t){case e.types.ARCHIMEDE:return function(t){return t/10};case e.types.HYPERBOLIC:return function(t){return 1/t*3};case e.types.FERMAT:return function(t){return Math.pow(t,.5)/3};case e.types.LITUUS:return function(t){return Math.pow(t,-.5)};case e.types.LOGARITHMIC:return function(t){return Math.pow(Math.E,.2*t)/10}}return function(t){return t}},e.types={ARCHIMEDE:"ARCHIMEDE",HYPERBOLIC:"HYPERBOLIC",FERMAT:"FERMAT",LITUUS:"LITUUS",LOGARITHMIC:"LOGARITHMIC"},e}(i.Z)},6817:(t,e,n)=>{"use strict";n.d(e,{Z:()=>p});var r,i=n(1315),o=n(6669),a=n(4426),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const p=function(t){function e(e){var n,r,i,s,p,c,u;void 0===e&&(e={});var f=this;return e.type="SuperShape",e.loopDependencies=(e.loopDependencies||[]).concat(["a","b","m","n1","n2","n3"]),e.adaptMode=null!==(n=e.adaptMode)&&void 0!==n?n:o._.Scale,(f=t.call(this,e,!0)||this).props.a=null!==(r=e.a)&&void 0!==r?r:1,f.props.b=null!==(i=e.b)&&void 0!==i?i:1,f.props.m=null!==(s=e.m)&&void 0!==s?s:6,f.props.n1=null!==(p=e.n1)&&void 0!==p?p:1,f.props.n2=null!==(c=e.n2)&&void 0!==c?c:1,f.props.n3=null!==(u=e.n3)&&void 0!==u?u:1,f.loop={start:0,end:a.yo,inc:function(t){var e=f.getRepetitionSideLength(t);return Math.PI/Math.pow(e[0]*e[1],.5)},vertex:function(t){var e=t.angle,n=f.m*e/4,r=Math.pow(Math.abs(Math.cos(n)/f.a),f.n2),i=Math.pow(Math.abs(Math.sin(n)/f.b),f.n3),o=Math.pow(r+i,1/f.n1),a=0===o?1:1/o;return[a*Math.cos(e),a*Math.sin(e)]}},f.bStaticLoop=f.isStaticLoop(),f.bStatic=f.isStatic(),f.bStaticIndexed=f.isStaticIndexed(),f}return s(e,t),e.prototype.generateLoopBuffer=function(e){return this.a=this.getProp("a",e),this.b=this.getProp("b",e),this.m=this.getProp("m",e),this.n1=this.getProp("n1",e),this.n2=this.getProp("n2",e),this.n3=this.getProp("n3",e),t.prototype.generateLoopBuffer.call(this,e)},e}(i.Z)},4068:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r,i=n(6669),o=n(3969),a=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const s=function(t){function e(e){return void 0===e&&(e={}),e.type="Triangle",e.shape=[-1,-1,1,0,-1,1],e.adaptMode=i._.None,t.call(this,e)||this}return a(e,t),e}(o.Z)},9835:(t,e,n)=>{"use strict";var r;n.d(e,{i:()=>r}),function(t){t[t.Ring=1]="Ring",t[t.Matrix=2]="Matrix"}(r||(r={}))},6669:(t,e,n)=>{"use strict";var r;n.d(e,{_:()=>r}),function(t){t[t.None=0]="None",t[t.Scale=2]="Scale",t[t.Center=4]="Center",t[t.Fill=8]="Fill"}(r||(r={}))},522:(t,e,n)=>{"use strict";n.r(e),n.d(e,{version:()=>r.i8,author:()=>r.v,license:()=>r.Vl,Scene:()=>o.Z,SceneChild:()=>a.Z,Group:()=>s.Z,ShapePrimitive:()=>p.Z,ShapeLoop:()=>c.Z,ShapeBuffer:()=>u.Z,Shape:()=>f.Z,ShapeRecursive:()=>l.Z,Line:()=>h.Z,Triangle:()=>d.Z,Rect:()=>v.Z,Polygon:()=>y.Z,Circle:()=>m.Z,Rose:()=>g.Z,Spiral:()=>_.Z,Lissajous:()=>b.Z,SuperShape:()=>w.Z,lerp:()=>x.t7,clamp:()=>x.uZ,relativeClamp:()=>x.Sr,toDegrees:()=>x.Ux,toRadians:()=>x.Yr,now:()=>x.zO,noise:()=>x.tF,angleFromRepetition:()=>x.aT,angle2FromRepetition:()=>x.B7,distanceFromRepetition:()=>x.db,Vec2:()=>S.Z,PHI:()=>O.Q_,PI2:()=>O.yo,log:()=>O.cM,DrawerCanvas:()=>M.Z,Animation:()=>P.Z,Easings:()=>Z.Z});var r=n(7629),i=n(9685),o=n(817),a=n(9213),s=n(5631),p=n(6591),c=n(1315),u=n(3969),f=n(8227),l=n(1029),h=n(1010),d=n(4068),v=n(178),y=n(2868),m=n(9668),g=n(5589),_=n(1590),b=n(6863),w=n(6817),x=n(9277),S=n(212),O=n(4426),M=n(4789),P=n(9465),Z=n(3996);i.ZR(Array)},7629:(t,e,n)=>{"use strict";n.d(e,{i8:()=>r,v:()=>i,Vl:()=>o});var r="%VERSION%",i="Gennaro Bosone <gennaro.bs@gmail.com>",o="%LICENSE%"},3996:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r={linear:function(t,e,n,r){return n*t/r+e},quadraticIn:function(t,e,n,r){return n*(t/=r)*t+e},quadraticOut:function(t,e,n,r){return-n*(t/=r)*(t-2)+e},quadraticInOut:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},cubicIn:function(t,e,n,r){return n*(t/=r)*t*t+e},cubicOut:function(t,e,n,r){return t/=r,n*(--t*t*t+1)+e},cubicInOut:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e},quarticIn:function(t,e,n,r){return n*(t/=r)*t*t*t+e},quarticOut:function(t,e,n,r){return t/=r,-n*(--t*t*t*t-1)+e},quarticInOut:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e},quinticIn:function(t,e,n,r){return n*(t/=r)*t*t*t*t+e},quinticOut:function(t,e,n,r){return t/=r,n*(--t*t*t*t*t+1)+e},quinticInOut:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},sinusoidalIn:function(t,e,n,r){return-n*Math.cos(t/r*(Math.PI/2))+n+e},sinusoidalOut:function(t,e,n,r){return n*Math.sin(t/r*(Math.PI/2))+e},sinusoidalInOut:function(t,e,n,r){return-n/2*(Math.cos(Math.PI*t/r)-1)+e},exponentialIn:function(t,e,n,r){return n*Math.pow(2,10*(t/r-1))+e},exponentialOut:function(t,e,n,r){return n*(1-Math.pow(2,-10*t/r))+e},exponentialInOut:function(t,e,n,r){return(t/=r/2)<1?n/2*Math.pow(2,10*(t-1))+e:(t--,n/2*(2-Math.pow(2,-10*t))+e)},circularIn:function(t,e,n,r){return t/=r,-n*(Math.sqrt(1-t*t)-1)+e},circularOut:function(t,e,n,r){return t/=r,t--,n*Math.sqrt(1-t*t)+e},circularInOut:function(t,e,n,r){return(t/=r/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+e:(t-=2,n/2*(Math.sqrt(1-t*t)+1)+e)},elasticIn:function(t,e,n,r,i,o){if(0==t)return e;if(1==(t/=r))return e+n;o||(o=.3*r);var a=0;return!i||i<Math.abs(n)?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),-i*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o)+e},elasticOut:function(t,e,n,r,i,o){if(0==t)return e;if(1==(t/=r))return e+n;o||(o=.3*r);var a=0;return!i||i<Math.abs(n)?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*t)*Math.sin((t*r-a)*(2*Math.PI)/o)+n+e},elasticInOut:function(t,e,n,r,i,o){if(0==t)return e;if(2==(t/=r/2))return e+n;o||(o=r*(.3*1.5));var a=0;return!i||i<Math.abs(n)?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),t<1?i*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o)*-.5+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o)*.5+n+e},backIn:function(t,e,n,r,i){return void 0===i&&(i=1.70158),n*(t/=r)*t*((i+1)*t-i)+e},backOut:function(t,e,n,r,i){return void 0===i&&(i=1.70158),n*((t=t/r-1)*t*((i+1)*t+i)+1)+e},backInOut:function(t,e,n,r,i){return void 0===i&&(i=1.70158),(t/=r/2)<1?n/2*(t*t*((1+(i*=1.525))*t-i))+e:n/2*((t-=2)*t*((1+(i*=1.525))*t+i)+2)+e},bounceIn:function(t,e,n,i){return n-r.bounceOut(i-t,0,n,i)+e},bounceOut:function(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},bounceInOut:function(t,e,n,i){return t<i/2?.5*r.bounceIn(2*t,0,n,i)+e:.5*r.bounceOut(2*t-i,0,n,i)+.5*n+e}};const i=r},9465:(t,e,n)=>{"use strict";n.d(e,{Z:()=>f});var r=n(1723),i=n(9277),o=n(3996),a=function(){return(a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},s={loop:function(t){return s.compose(a(a({mode:"sinusoidal",modeFunction:"cos"},t),{type:"loop",delay:void 0}))},uncontrolledLoop:function(t){return s.compose(a(a({mode:"easing",modeFunction:"linear"},t),{type:"uncontrolled-loop"}))},static:function(t){return s.compose(a(a({mode:"easing",modeFunction:"linear"},t),{type:"static"}))},compose:function(t){if("string"!=typeof t.from&&"string"!=typeof t.to){var e=Array.isArray(t.from)||Array.isArray(t.to),n=e?(0,i.qo)(t.from):t.from,o=e?(0,i.qo)(t.to):t.to,a=e?function(e,r){var i=t.invertOdd&&e%2==1?o:n,a=t.invertOdd&&e%2==1?n:o;return"int"===t.typeValue?[Math.round(i[0]+r*(a[0]-i[0])),Math.round(i[1]+r*(a[1]-i[1]))]:[i[0]+r*(a[0]-i[0]),i[1]+r*(a[1]-i[1])]}:function(e,r){var i=t.invertOdd&&e%2==1?o:n,a=t.invertOdd&&e%2==1?n:o;return"int"===t.typeValue?Math.round(i+r*(a-i)):i+r*(a-i)};return p(t,(function(t,e){return a(t.repetition.index,e)}))}var s=(0,r.k0)(t.from),f=(0,r.k0)(t.to),l="hue"==t.colorTransitionMode?u:c;return void 0!==s&&void 0!==f?p(t,(function(e,n){var r=t.invertOdd&&e.repetition.index%2==1?f:s,i=t.invertOdd&&e.repetition.index%2==1?s:f;return l(r,i,n)})):function(){return 0}}};function p(t,e){var n=t,r=n.duration,i=n.type,a=n.mode,s=n.modeFunction,p=n.delay;return"static"===i?p&&p>0?function(t){var n,i,a;return e(t,((null===(n=t.shape.scene)||void 0===n?void 0:n.currentTime)||0)<=p?0:((null===(i=t.shape.scene)||void 0===i?void 0:i.currentTime)||0)-p>=r?1:o.Z[s](((null===(a=t.shape.scene)||void 0===a?void 0:a.currentTime)||0)-p,0,1,r))}:function(t){var n,i;return e(t,((null===(n=t.shape.scene)||void 0===n?void 0:n.currentTime)||0)<=r?o.Z[s]((null===(i=t.shape.scene)||void 0===i?void 0:i.currentTime)||0,0,1,r):1)}:"loop"===i?"sinusoidal"==a?function(t){var n,i=2*((null===(n=t.shape.scene)||void 0===n?void 0:n.currentTime)||0)*Math.PI/r;return e(t,.5+.5*Math[s](i))}:function(t){var n,i=r/2,a=((null===(n=t.shape.scene)||void 0===n?void 0:n.currentTime)||0)%r;return e(t,a<=i?o.Z[s](a,0,1,i):o.Z[s](i-(a-i),0,1,i))}:"sinusoidal"==a?function(t){var n,i=((null===(n=t.shape.scene)||void 0===n?void 0:n.currentTime)||0)%(r+p),o=2*((i=i<=p?0:i-p)||0)*Math.PI/r;return e(t,.5+.5*Math[s](o))}:p&&p>0?function(t){var n,i=((null===(n=t.shape.scene)||void 0===n?void 0:n.currentTime)||0)%(r+p);return e(t,i<=p?0:i-p>=r?1:o.Z[s](i-p,0,1,r))}:function(t){var n,i=((null===(n=t.shape.scene)||void 0===n?void 0:n.currentTime)||0)%r;return e(t,i<=r?o.Z[s](i,0,1,r):1)}}function c(t,e,n){var r=t.r+n*(e.r-t.r),i=t.g+n*(e.g-t.g),o=t.b+n*(e.b-t.b),a=t.alpha+n*(e.alpha-t.alpha);return"rgba("+Math.floor(r)+","+Math.floor(i)+","+Math.floor(o)+","+a+")"}function u(t,e,n){return"hsla("+(t.h+n*(e.h-t.h))+","+(t.s+n*(e.s-t.s))+"%,"+(t.l+n*(e.l-t.l))+"%,"+(t.alpha+n*(e.alpha-t.alpha))+")"}const f=s},3448:(t,e,n)=>{"use strict";n.d(e,{Z:()=>v});var r,i=n(817),o=n(4426),a=n(7131),s=n(9277),p=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(){return(c=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};const u=function(t){function e(e,n){void 0===e&&(e=6e4),void 0===n&&(n=60);var r=t.call(this)||this;return r.fps_samples_size=30,r.fps_samples=[],r.fps_samples_index=0,r.paused_time=0,r.sequence={duration:e,framerate:n,frames:Math.round(e/1e3*n)},r.tick_time=1e3/r.sequence.framerate,r.fps=r.sequence.framerate,r.b_sequence_started=!1,r.current_frame=0,r.current_time=0,r.last_tick=0,r.start_time=0,r}return p(e,t),e.prototype.getSequence=function(){return c({},this.sequence)},e.prototype.setSequence=function(t,e){this.sequence.duration=t,this.sequence.framerate=e,this.tick_time=1e3/this.sequence.framerate,this.sequence.frames=Math.round(this.sequence.duration/1e3*this.sequence.framerate),this.dispatch("timeline:update_sequence",this.getSequence())},e.prototype.setDuration=function(t){this.setSequence(t,this.sequence.framerate)},e.prototype.getDuration=function(){return this.sequence.duration},e.prototype.getFramerate=function(){return this.sequence.framerate},e.prototype.setFramerate=function(t){this.setSequence(this.sequence.duration,t)},e.prototype.getFramesCount=function(){return this.sequence.frames},e.prototype.bSequenceStarted=function(){return this.b_sequence_started},e.prototype.start=function(){this.b_sequence_started||(this.b_sequence_started=!0,this.start_time=this.paused_time,this.dispatch("timeline:change_status",e.START))},e.prototype.pause=function(){this.b_sequence_started&&(this.paused_time=(0,s.zO)(),this.b_sequence_started=!1,this.dispatch("timeline:change_status",e.PAUSE))},e.prototype.stop=function(){this.b_sequence_started&&(this.b_sequence_started=!1,this.current_time=0,this.current_frame=0,this.start_time=0,this.paused_time=0,this.dispatch("timeline:change_status",e.STOP))},e.prototype.tick=function(t){if(this.b_sequence_started){this.start_time||(this.start_time=t,this.last_tick=-this.tick_time);var e=t-this.start_time,n=e-this.last_tick;if(n>=this.tick_time)return this.calculateFPS(1/(n/1e3)),this.last_tick=e,this.current_time=(e-n%this.tick_time)%this.sequence.duration,this.current_frame=this.getFrameAtTime(this.current_time),this.dispatch("timeline:progress",{current_frame:this.current_frame,current_time:this.current_time,fps:this.fps}),!0}return!1},e.prototype.calculateFPS=function(t){var e=this.fps_samples.length;if(e>0){for(var n=0,r=0;r<e;r++)n+=this.fps_samples[r];this.fps=Math.round(n/e)}this.fps_samples[this.fps_samples_index]=Math.round(t),this.fps_samples_index=(this.fps_samples_index+1)%this.fps_samples_size},e.prototype.getCurrentFrame=function(){return this.current_frame},e.prototype.getFrameTime=function(t){return(t=(0,o.$B)(t,this.sequence.frames))*this.tick_time%this.sequence.duration},e.prototype.getFrameAtTime=function(t){return Math.round(t%this.sequence.duration/this.tick_time)},e.prototype.setFrame=function(t){this.current_frame=(0,o.$B)(t,this.sequence.frames),this.current_time=this.getFrameTime(this.current_frame),this.dispatch("timeline:progress",{current_frame:this.current_frame,current_time:this.current_time,fps:this.fps})},e.prototype.getTickTime=function(){return this.tick_time},e.prototype.getTime=function(){return this.current_time},e.prototype.setTime=function(t){t=(0,o.$B)(t,this.sequence.duration),this.current_time=t,this.current_frame=this.getFrameAtTime(t),this.dispatch("timeline:progress",{current_frame:this.current_frame,current_time:this.current_time,fps:this.fps})},e.START="start",e.PAUSE="pause",e.STOP="stop",e}(a.Z);var f=n(464),l=n(1723),h=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=function(){return(d=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};const v=function(t){function e(e,n,r,i){void 0===e&&(e=void 0),void 0===n&&(n=void 0);var o=t.call(this)||this;if(o.timeline=new u(r,i),o.ratio=n||(e&&e.width&&e.height?e.width/e.height:1),e){var a=Math.max(e.width,e.height),s=o.ratio>=1?a:a*o.ratio,p=o.ratio>=1?a/o.ratio:a;e.resize(s,p),o.setScene(e)}return o.draw_id=null,o.redraw_id=null,o.animation_id=null,o.draw=o.draw.bind(o),o.animate=o.animate.bind(o),o.startAnimation=o.startAnimation.bind(o),o}return h(e,t),e.prototype.setScene=function(t){this.scene=t},e.prototype.getScene=function(){return this.scene},e.prototype.getTimeline=function(){return this.timeline},e.prototype.resize=function(t,e,n){var r=this;n=n||this.ratio||t/e;var o=Math.max(t,e);t=n>=1?o:o*n,e=n>=1?o/n:o,this.ratio=n,this.scene&&(this.scene.resize(t,e),i.Z.walk((function(t){if(t.data){if(t.data.props){var e=t.data.props;Object.keys(e).forEach((function(n){f.Z.setProp(t,n,e[n],r.scene)}))}if(t.data.style){var n=t.data.style;Object.keys(n).forEach((function(e){f.Z.setDrawerProp(t,e,n[e],r.scene)}))}}}),this.scene))},e.prototype.setRatio=function(t){this.scene&&this.resize(this.scene.width,this.scene.height,t)},e.prototype.getRatio=function(){return this.ratio},e.prototype.setOption=function(t,e){if("object"==typeof t)for(var n=Object.keys(t),r=0,i=n.length;r<i;r++)this.drawerOptions[n[r]]=t[n[r]];else this.drawerOptions[t]=e},e.prototype.getOption=function(t,e){var n;return null!==(n=this.drawerOptions[t])&&void 0!==n?n:e},e.prototype.getOptions=function(){return this.drawerOptions},e.prototype.animate=function(t){this.timeline.bSequenceStarted()&&(this.animation_id=requestAnimationFrame(this.animate),this.timeline.tick(t)&&this.draw())},e.prototype.startAnimation=function(){this.stopAnimation(),this.timeline.start(),this.animation_id=requestAnimationFrame(this.animate)},e.prototype.stopAnimation=function(){this.timeline.stop(),this.animation_id&&cancelAnimationFrame(this.animation_id)},e.prototype.pauseAnimation=function(){this.timeline.pause(),this.animation_id&&cancelAnimationFrame(this.animation_id)},e.prototype.playAnimation=function(){this.timeline.start(),requestAnimationFrame(this.animate)},e.prototype.redraw=function(){this.timeline.bSequenceStarted()?void 0!==typeof this.drawerOptions.ghosts&&0!==this.drawerOptions.ghosts||(this.stopAnimation(),this.redraw_id&&cancelAnimationFrame(this.redraw_id),this.redraw_id=requestAnimationFrame(this.startAnimation)):(this.draw_id&&cancelAnimationFrame(this.draw_id),void 0!==typeof this.drawerOptions.ghosts&&0!==this.drawerOptions.ghosts||this.timeline.stop(),this.draw_id=requestAnimationFrame(this.draw))},e.getStreamDrawerProp=function(t,e,n,r){var i=t.style[e];return"function"==typeof i&&(i=i(n)),null!=i?i:r},e.eachGhosts=function(t,e,n){if(t.ghosts)for(var r=d({},t),i=e.getTime(),a=e.getDuration(),s={offset:0,index:0,count:t.ghosts},p=1;p<=t.ghosts;p++){s.index=p,s.offset=s.index/s.count;var c=i-(t.ghostSkipFunction?t.ghostSkipFunction(s,i):p*t.ghostSkipTime);r.ghostIndex=p,r.time=(0,o.$B)(c,a),n(r)}},e.ghostifyColor=function(t,e){if("string"==typeof t||"number"==typeof t){var n=(0,l.lu)(t);if(n){var r=n.alpha*e;return"rgb"===n.type?"rgba("+n.a+","+n.b+","+n.c+","+r+")":"hsla("+n.a+","+n.b+"%,"+n.c+"%,"+r+")"}}return t},e}(a.Z)},4789:(t,e,n)=>{"use strict";n.d(e,{Z:()=>u});var r=n(3448);const i=function(){function t(){this.frames={}}return t.prototype.exist=function(t){return void 0!==this.frames[t]},t.prototype.get=function(t){return this.exist(t)?this.frames[t]:null},t.prototype.count=function(){return Object.keys(this.frames).length},t.prototype.push=function(t,e){this.frames[t]=e.getImageData(0,0,e.canvas.width,e.canvas.height)},t.prototype.flush=function(){this.frames={}},t.prototype.getStoredFrames=function(){return Object.keys(this.frames).map((function(t){return+t}))},t}();var o,a=n(9277),s=n(212),p=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(){return(c=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};const u=function(t){function e(e,n,r,o,a,s,p){var c,u,f,l,h;void 0===o&&(o=void 0),void 0===p&&(p=!1);var d=t.call(this,e,o,a,s)||this;if(d.bBuffering=!1,d.drawerOptions={},d.drawerOptions.clear=null===(c=null==r?void 0:r.clear)||void 0===c||c,d.drawerOptions.time=null!==(u=null==r?void 0:r.time)&&void 0!==u?u:0,d.drawerOptions.simmetricLines=null!==(f=null==r?void 0:r.simmetricLines)&&void 0!==f?f:0,d.drawerOptions.noBackground=null!==(l=null==r?void 0:r.noBackground)&&void 0!==l&&l,d.drawerOptions.ghosts=(null==r?void 0:r.ghosts)||0,d.drawerOptions.ghostAlpha=!1!==(null==r?void 0:r.ghostAlpha),d.drawerOptions.ghostSkipTime=null!==(h=null==r?void 0:r.ghostSkipTime)&&void 0!==h?h:30,d.drawerOptions.ghostSkipFunction=null==r?void 0:r.ghostSkipFunction,d.drawerOptions.backgroundImage=null==r?void 0:r.backgroundImage,d.drawerOptions.backgroundImageFit=(null==r?void 0:r.backgroundImageFit)||"cover",d.bBuffering=p,d.buffer=new i,"undefined"!=typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!=typeof OffscreenCanvas&&n instanceof OffscreenCanvas){var v=n;d.setCanvas(v)}else n&&(v=document.createElement("canvas"),n.appendChild(v),d.setCanvas(v));return d}return p(e,t),e.prototype.setBuffering=function(t){this.bBuffering=t,this.flushBuffer()},e.prototype.getBBuffering=function(){return this.bBuffering},e.prototype.setScene=function(e){t.prototype.setScene.call(this,e),this.canvas&&this.setCanvas(this.canvas)},e.prototype.setCanvas=function(t){var e;if("undefined"!=typeof HTMLElement&&t instanceof HTMLElement)if("undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement)e=t;else{for(e=this.canvas||document.createElement("canvas");t.lastChild;)t.removeChild(t.lastChild);t.appendChild(e)}else e=t;this.canvas=e,this.context=this.canvas.getContext("2d",{alpha:!0,desynchronized:!0!==this.bBuffering}),this.scene&&this.resize(this.scene.width,this.scene.height)},e.prototype.getCanvas=function(){return this.canvas},e.prototype.getContext=function(){return this.context},e.prototype.resize=function(e,n,r){t.prototype.resize.call(this,e,n,r),this.canvas&&this.scene&&(this.canvas.width=this.scene.width,this.canvas.height=this.scene.height,"undefined"!=typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement&&(this.canvas.style.width=this.scene.width+"px",this.canvas.style.height=this.scene.height+"px")),this.flushBuffer(),this.dispatch("drawer-canvas:resize"),this.redraw()},e.prototype.flushBuffer=function(){this.bBuffering&&(this.buffer.flush(),this.dispatch("drawer-canvas:buffer_flush"))},e.prototype.getStoredFrames=function(){return this.bBuffering?this.buffer.getStoredFrames():[]},e.prototype.setOption=function(e,n){t.prototype.setOption.call(this,e,n),this.flushBuffer()},e.prototype.draw=function(){var t,e=this;if(void 0===this.scene)return-1;var n=0,i=this.timeline,o=i.getTime(),a=c(c({},this.drawerOptions),{ghostIndex:void 0,clear:this.drawerOptions.clear||i.getCurrentFrame()<=1,time:o}),s=i.getFrameAtTime(o);return this.dispatch("drawer-canvas:before_draw",{currentFrame:s,currentTime:o}),this.bBuffering&&this.buffer.exist(s)?null===(t=this.context)||void 0===t||t.putImageData(this.buffer.get(s),0,0):(a.ghosts&&(r.Z.eachGhosts(a,i,(function(t){t.clear=a.clear&&1===t.ghostIndex,n+=e.applyDraw(t)})),a.clear=!1),n+=this.applyDraw(a),this.bBuffering&&this.context&&(this.buffer.push(s,this.context),this.buffer.count()>=this.timeline.getFramesCount()&&this.dispatch("drawer-canvas:buffer_loaded"))),n},e.prototype.redraw=function(){this.timeline.bSequenceStarted()?this.drawerOptions.clear||void 0!==typeof this.drawerOptions.ghosts&&0!==this.drawerOptions.ghosts||(this.stopAnimation(),this.redraw_id&&cancelAnimationFrame(this.redraw_id),this.redraw_id=requestAnimationFrame(this.startAnimation)):(this.draw_id&&cancelAnimationFrame(this.draw_id),!this.drawerOptions.clear&&(void 0===typeof this.drawerOptions.ghosts||0===this.drawerOptions.ghosts)&&this.timeline.stop(),this.draw_id=requestAnimationFrame(this.draw))},e.prototype.applyDraw=function(t){var n,i,o=(0,a.zO)(),s=this.scene,p=this.context;p.globalCompositeOperation="source-over";var c=null!==(n=t.time)&&void 0!==n?n:0,u=null!==(i=t.simmetricLines)&&void 0!==i?i:0,f=t.clear,l=t.noBackground,h=t.backgroundImage,d=void 0!==t.ghosts&&t.ghosts>0&&void 0!==t.ghostIndex&&t.ghostIndex>0,v=d?1-t.ghostIndex/(t.ghosts+.5):0,y=!0===t.ghostAlpha,m=s.width,g=s.height,_=m/g;if(f){if(l)p.clearRect(0,0,m,g);else if(p.fillStyle=s.background,p.fillRect(0,0,m,g),h){var b=h instanceof SVGImageElement?h.width.baseVal.value:h.width,w=h instanceof SVGImageElement?h.height.baseVal.value:h.height,x=b/w,S=0,O=0,M=m,P=g;x!==_&&("contain"===t.backgroundImageFit?(M=_>x?b*g/w:m,P=_>x?g:w*m/b):(M=_<x?b*g/w:m,P=_<x?g:w*m/b),S=(m-M)/2,O=(g-P)/2),p.drawImage(h,S,O,M,P)}u>0&&e.drawSimmetricLines(p,u,m,g,s.color)}var Z=!1,C=!1;return s.currentTime=c,s.getChildren().forEach((function(t){t.data&&(!1===t.data.visible||d&&!0===t.data.disableGhost)||(t.generate(c,!0),p.save(),t.stream((function(t){var e=t.currentIndexing,n=e.shape,i={canvasContext:p,shape:n,repetition:{type:e.repetition.type,angle:e.repetition.angle,index:e.repetition.index,count:e.repetition.count,offset:e.repetition.offset,row:{index:e.repetition.row.index,count:e.repetition.row.count,offset:e.repetition.row.offset},col:{index:e.repetition.col.index,count:e.repetition.col.count,offset:e.repetition.col.offset}},parent:e.parent},o=r.Z.getStreamDrawerProp(n,"composite",i,"source-over");p.globalCompositeOperation=o,p.beginPath(),p.moveTo(t.buffer[t.frameBufferIndex],t.buffer[t.frameBufferIndex+1]);for(var a=2;a<t.frameLength;a+=2)p.lineTo(t.buffer[t.frameBufferIndex+a],t.buffer[t.frameBufferIndex+a+1]);e.shape.isClosed()&&p.closePath();var c=r.Z.getStreamDrawerProp(n,"opacity",i,1);p.globalAlpha=c;var u=r.Z.getStreamDrawerProp(n,"shadowColor",i),f=r.Z.getStreamDrawerProp(n,"shadowBlur",i),l=r.Z.getStreamDrawerProp(n,"shadowOffsetX",i),h=r.Z.getStreamDrawerProp(n,"shadowOffsetY",i);p.shadowColor=u,p.shadowBlur=f,l&&(p.shadowOffsetX=l),h&&(p.shadowOffsetY=h);var m=r.Z.getStreamDrawerProp(n,"fill",i);void 0!==m&&(d&&y&&((b=r.Z.ghostifyColor(m,v))?m=b:Z||(console.warn("[Urpflanze:DrawerCanvas] Unable ghost fill color '"+m+"',\n\t\t\t\t\t\t\t\t\tplease enter a rgba or hsla color"),Z=!0)),p.fillStyle=m,p.fill());var g=r.Z.getStreamDrawerProp(n,"stroke",i,void 0===m?s.color:void 0),_=r.Z.getStreamDrawerProp(n,"lineWidth",i,1);if(g){var b;d&&y&&((b=r.Z.ghostifyColor(g,v))?g=b:C||(console.warn("[Urpflanze:DrawerCanvas] Unable ghost stroke color '"+g+"',\n\t\t\t\t\t\t\t\t\tplease enter a rgba or hsla color"),C=!0),_*=v);var w=r.Z.getStreamDrawerProp(n,"lineJoin",i),x=r.Z.getStreamDrawerProp(n,"lineCap",i),S=r.Z.getStreamDrawerProp(n,"lineDash",i),O=r.Z.getStreamDrawerProp(n,"lineDashOffset",i),M=r.Z.getStreamDrawerProp(n,"miterLimit",i);p.setLineDash.call(p,S||[]),p.lineJoin=w,p.lineCap=x,p.lineDashOffset=O,p.miterLimit=M,p.lineWidth=_,p.strokeStyle=g,p.stroke()}})),p.restore())})),(0,a.zO)()-o},e.drawSimmetricLines=function(t,e,n,r,i){for(var o=Math.PI/e,a=Math.max(n,r),p=[a/2,a/2],c=0;c<e;c++){var u=[-a,-a],f=[2*a,2*a],l=c*o+Math.PI/4;s.Z.rotateZ(u,p,l),s.Z.rotateZ(f,p,l),t.beginPath(),t.strokeStyle=i,t.lineWidth=1,t.moveTo(u[0],u[1]),t.lineTo(f[0],f[1]),t.stroke()}},e}(r.Z)},7131:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=function(){function t(){this.callbacks={}}return t.prototype.attach=function(t,e){t in this.callbacks||(this.callbacks[t]=[]),this.callbacks[t].push(e)},t.prototype.detach=function(t,e){if(t in this.callbacks){var n=this.callbacks[t].indexOf(e);n>=0&&this.callbacks[t].splice(n,1)}},t.prototype.dispatch=function(t,e){if(t in this.callbacks)for(var n=0,r=this.callbacks[t].length;n<r&&!1!==this.callbacks[t][n](e);n++);},t}()},1118:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=n(1590),i=n(6669);const o={repetitions:{animable:!0,name:"repetitions",label:"Repetitions",type:"range",min:1,max:200,step:1,default:1,default_animate:20,canBArray:!0,transformation:"none",dataType:"props",type_value:"int"},distance:{animable:!0,name:"distance",label:"Distance",type:"range",min:-100,max:100,step:.1,default:0,canBArray:!0,default_animate:25,transformation:"scene-size-percentage",dataType:"props"},displace:{animable:!0,name:"displace",label:"Displace",type:"range",min:-360,max:360,step:1,default:0,default_animate:360,transformation:"angle",dataType:"props"},squeezeX:{animable:!0,name:"squeezeX",label:"SqueezeX",type:"range",min:-.2,max:.2,step:.01,default:0,default_animate:.1,transformation:"scene-size-percentage-inverse",dataType:"props"},squeezeY:{animable:!0,name:"squeezeY",label:"SqueezeY",type:"range",min:-.2,max:.2,step:.01,default:0,default_animate:.1,transformation:"scene-size-percentage-inverse",dataType:"props"},rotateX:{animable:!0,name:"rotateX",label:"RotateX",type:"range",min:-360,max:360,step:1,default:0,default_animate:360,transformation:"angle",dataType:"props"},rotateY:{animable:!0,name:"rotateY",label:"RotateY",type:"range",min:-360,max:360,step:1,default:0,default_animate:360,transformation:"angle",dataType:"props"},rotateZ:{animable:!0,name:"rotateZ",label:"RotateZ",type:"range",min:-360,max:360,step:1,default:0,default_animate:360,transformation:"angle",dataType:"props"},skewX:{animable:!0,name:"skewX",label:"SkewX",type:"range",min:-90,max:90,step:1,default:0,default_animate:1,transformation:"angle",dataType:"props"},skewY:{animable:!0,name:"skewY",label:"SkewY",type:"range",min:-90,max:90,step:1,default:0,default_animate:1,transformation:"angle",dataType:"props"},translate:{animable:!0,name:"translate",label:"Translate",type:"multiple-range",min:-100,max:100,step:.1,default:0,default_animate:0,initialArray:!0,transformation:"scene-size-percentage",dataType:"props"},scale:{animable:!0,name:"scale",label:"Scale",type:"multiple-range",min:-5,max:5,step:.01,default:1,default_animate:3,transformation:"none",dataType:"props"},transformOrigin:{animable:!0,name:"transformOrigin",label:"Transform Origin",type:"multiple-range",min:-1,max:1,step:.01,default:[0,0],default_animate:[-1,1],initialArray:!0,transformation:"none",dataType:"props"},perspective:{animable:!0,name:"perspective",label:"Perspective",type:"range",min:0,max:1,step:.01,default:0,default_animate:.8,transformation:"none",dataType:"props"},perspectiveOrigin:{animable:!0,name:"perspectiveOrigin",label:"Perspective Origin",type:"multiple-range",min:-1,max:1,step:.01,default:[0,0],default_animate:[-1,1],initialArray:!0,transformation:"none",dataType:"props"},fill:{animable:!0,name:"fill",label:"Fill",type:"color",default:"#000",default_animate:"#fff",transformation:"none",dataType:"drawer"},stroke:{animable:!0,name:"stroke",label:"Stroke",type:"color",default:"#fff",default_animate:"#000",transformation:"none",dataType:"drawer"},lineWidth:{animable:!0,name:"lineWidth",label:"Stroke weight",type:"slider",min:0,max:30,step:.01,default:.1,default_animate:3,transformation:"scene-size-percentage",dataType:"drawer"},bClosed:{name:"bClosed",label:"Closed",type:"checkbox",default:void 0,transformation:"none",dataType:"settings"},bUseParent:{name:"bUseParent",label:"Use parent repetition",type:"checkbox",default:!1,transformation:"none",dataType:"settings"},bUseRecursion:{name:"bUseRecursion",label:"Use recursion repetition",type:"checkbox",default:!1,transformation:"none",dataType:"settings"},vertexCallback:{name:"vertexCallback",label:"vertexCallback",type:"function",default:void 0,transformation:"none",dataType:"settings"},adaptMode:{name:"adaptMode",label:"Adapt",type:"radio",options:[{key:"None",value:i._.None},{key:"Scale",value:i._.Scale},{key:"Center",value:i._.Center},{key:"Fill",value:i._.Fill}],default:void 0,transformation:"none",dataType:"settings"},recursions:{animable:!0,name:"recursion",label:"Recursion",type:"range",min:1,max:8,step:1,default:1,default_animate:2,transformation:"none",dataType:"props",type_value:"int"},recursionScale:{animable:!0,name:"recursionScale",label:"Recursion Scale",type:"range",min:.1,max:5,step:.01,default:1,default_animate:2,transformation:"none",dataType:"props"},recursionVertex:{animable:!0,name:"recursionVertex",label:"Recursion Vertex",type:"range",min:1,max:100,step:1,default:10,default_animate:20,transformation:"none",dataType:"props",type_value:"int"},sideLength:{animable:!0,name:"sideLength",label:"Side Length",type:"multiple-range",min:.01,max:100,step:.1,default:10,default_animate:20,transformation:"scene-size-percentage",dataType:"props"},sideNumber:{animable:!0,name:"sideNumber",label:"Side Number",type:"range",min:1,max:20,step:1,default:5,default_animate:2,transformation:"none",dataType:"props"},n:{animable:!0,name:"n",label:"n",type:"range",min:1,max:10,step:1,default:1,default_animate:3,transformation:"none",dataType:"props"},d:{animable:!0,name:"d",label:"d",type:"range",min:1,max:10,step:1,default:2,default_animate:4,transformation:"none",dataType:"props"},wx:{animable:!0,name:"wx",label:"wx",type:"range",min:1,max:10,step:1,default:1,default_animate:3,transformation:"none",dataType:"props"},wy:{animable:!0,name:"wy",label:"wy",type:"range",min:1,max:10,step:1,default:2,default_animate:4,transformation:"none",dataType:"props"},wz:{animable:!0,name:"wz",label:"wz",type:"range",min:-360,max:360,step:1,default:0,default_animate:360,transformation:"angle",dataType:"props"},twists:{animable:!0,name:"twists",label:"Twists",type:"range",min:1,max:60,step:.1,default:1,default_animate:3,transformation:"none",dataType:"props"},twistsStart:{animable:!0,name:"twists_start",label:"Twists start",type:"range",min:0,max:60,step:.1,default:0,default_animate:1,transformation:"none",dataType:"props"},spiral:{name:"spiral",label:"Spiral type",type:"select",options:[{key:"ARCHIMEDE",value:r.Z.types.ARCHIMEDE},{key:"FERMAT",value:r.Z.types.FERMAT},{key:"HYPERBOLIC",value:r.Z.types.HYPERBOLIC},{key:"LITUUS",value:r.Z.types.LITUUS},{key:"LOGARITHMIC",value:r.Z.types.LOGARITHMIC}],default:r.Z.types.ARCHIMEDE,transformation:"none",dataType:"props"},a:{animable:!0,name:"a",label:"A",type:"range",min:-5,max:5,step:.1,default:1,default_animate:.1,transformation:"none",dataType:"props"},b:{animable:!0,name:"b",label:"B",type:"range",min:-5,max:5,step:.1,default:1,default_animate:.1,transformation:"none",dataType:"props"},m:{animable:!0,name:"m",label:"m",type:"range",min:1,max:20,step:1,default:1,default_animate:6,transformation:"none",dataType:"props",type_value:"int"},n1:{animable:!0,name:"n1",label:"n1",type:"range",min:-3,max:3,step:.01,default:1,default_animate:.1,transformation:"none",dataType:"props"},n2:{animable:!0,name:"n2",label:"n2",type:"range",min:-3,max:3,step:.01,default:1,default_animate:.1,transformation:"none",dataType:"props"},n3:{animable:!0,name:"n3",label:"n3",type:"range",min:-3,max:3,step:.01,default:1,default_animate:.1,transformation:"none",dataType:"props"},"loop.start":{name:"loop.start",label:"start",type:"range",default:void 0,min:0,max:100,step:.01,transformation:"none",dataType:"props"},"loop.end":{name:"loop.end",label:"end",type:"range",default:void 0,min:0,max:100,step:.01,transformation:"none",dataType:"props"},"loop.inc":{name:"loop.inc",label:"inc",type:"range",default:void 0,min:.01,max:100,step:.01,transformation:"none",dataType:"props"}}},464:(t,e,n)=>{"use strict";n.d(e,{Z:()=>I});var r=n(3639),i=n(9213),o=n(1010),a=n(4068),s=n(178),p=n(2868),c=n(9668),u=n(5589),f=n(1590),l=n(6863),h=n(6817),d=n(8227),v=n(1029),y=n(6591),m=n(1315),g=n(3969),_=n(817),b=n(5631),w=n(5282),x=n(9465),S=n(9277),O=n(1118);const M=function(){function t(){}return t.bValueLoop=function(t){return"object"==typeof t&&"start"in t&&"end"in t&&"inc"in t&&"vertex"in t&&t.vertex.raw&&t.vertex.raw.length>0},t.bValueVertexCallback=function(t){return t&&t.raw&&t.raw.length>0},t.composeVertexCallback=function(e){if(e&&e.raw)return new Function("vertex","vertexRepetition",t.RAW_ARGUMENTS,"return "+e.raw)},t.composeLoop=function(e){var n=e.vertex.raw?new Function("shapeLoopRepetition",t.RAW_ARGUMENTS,"return "+e.vertex.raw):void 0;return{start:e.start,end:e.end,inc:e.inc,vertex:n}},t.bValueAnimation=function(t){return t&&"object"==typeof t&&t.type&&("simple"===t.type||"raw"===t.type)},t.bValueTransformable=function(t){return null!==t&&"object"==typeof t&&"string"==typeof t.type&&"transformable-prop"===t.type},t.bPropInSceneChildUtilitiesData=function(t){return void 0!==O.Z[t]&&"none"!==O.Z[t].transformation},t.getTransformedValue=function(e,n,r){var i=O.Z[n];if(t.bPropInSceneChildUtilitiesData(n)&&t.bValueTransformable(r)){r=r.value;var o="distance"===n?e.height:e.width,a="distance"===n?e.width:e.height;switch(i.transformation){case"angle":return Array.isArray(r)?[(0,S.Yr)(r[0]),(0,S.Yr)(r[1])]:(0,S.Yr)(r);case"scene-size-percentage":if(void 0!==e)return Array.isArray(r)?[r[0]*o/100,r[1]*a/100]:r*(e.center[0]+e.center[1])/100;break;case"scene-size-percentage-inverse":if(void 0!==e)return Array.isArray(r)?[100*r[0]/o,100*r[1]/a]:100*r/(e.center[0]+e.center[1])}}return r},t.getTransformedValueInverse=function(e,n,r){var i=O.Z[n];if(t.bPropInSceneChildUtilitiesData(n)&&t.bValueTransformable(r)){r=r.value;var o="distance"===n?e.height:e.width,a="distance"===n?e.width:e.height;switch(i.transformation){case"angle":return Array.isArray(r)?[(0,S.Ux)(r[0]),(0,S.Ux)(r[1])]:(0,S.Ux)(r);case"scene-size-percentage":if(void 0!==e)return Array.isArray(r)?[100*r[0]/o,100*r[1]/a]:100*r/(e.center[0]+e.center[1]);break;case"scene-size-percentage-inverse":if(void 0!==e)return Array.isArray(r)?[r[0]*o/100,r[1]*a/100]:r*(e.center[0]+e.center[1])/100}}return r},t.RAW_ARGUMENTS="{ repetition, recursion, shape }",t.RAW_ARGUMENTS_WITH_PARENT="{ repetition, recursion, shape, parent }",t}();var P=n(522),Z=function(){return(Z=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};const C=function(t,e,n){switch(n.type){case"simple":var r=Z({},n.value);return r.from=M.getTransformedValue(t,e,r.from),r.to=M.getTransformedValue(t,e,r.to),x.Z.compose(r);case"raw":var i=n.value;return new Function("Urpflanze","scene",'"use strict"; return '+i.raw)(P,t)}};const I=new(function(){function t(){this.registeredSceneChilds={},this.registeredSceneChilds={Line:o.Z,Triangle:a.Z,Rect:s.Z,Polygon:p.Z,Circle:c.Z,Rose:u.Z,Spiral:f.Z,Lissajous:l.Z,SuperShape:h.Z,Group:b.Z,Shape:d.Z,ShapeRecursive:v.Z,ShapeLoop:m.Z,ShapeBuffer:g.Z}}return t.prototype.getRegistered=function(){return Object.keys(this.registeredSceneChilds)},t.prototype.register=function(t,e){t in this.registeredSceneChilds?console.warn('SceneUtilities: SceneChild "'+t+'" is already registered'):this.registeredSceneChilds[t]=e},t.prototype.unregister=function(t){t in this.registeredSceneChilds?delete this.registeredSceneChilds[t]:console.warn('SceneUtilities: SceneChild "'+t+'" is not registered')},t.prototype.create=function(t,e,n){var o,a=this;if(n=n||("string"!=typeof t?t.scene:void 0),t instanceof i.Z)return this.getChildren(t).forEach((function(t){return a.create(t,void 0,n)})),t;if(t in this.registeredSceneChilds){e||(e={}),e.id=e.id||(0,r.Z)(),!e.name&&n&&(e.name=t+"_"+(this.getCountSceneChildOfType(n,t)+1)),e.data||(e.data={}),"props"in e.data||(e.data.props={}),"style"in e.data||(e.data.style={}),"visible"in e.data||(e.data.visible=!0);var s=new this.registeredSceneChilds[t](e);return s&&n&&this.isAPrimitive(s)&&this.set(s,"sideLength",{type:"transformable-prop",value:null===(o=O.Z.sideLength)||void 0===o?void 0:o.default},n),this.getChildren(s).forEach((function(t){return a.create(t)})),s}return console.warn('SceneUtilities: Creation failed. SceneChild "'+t+'" is not registered'),null},t.prototype.getCountSceneChildOfType=function(t,e){var n=0;return _.Z.walk((function(t){n+=t.type==e?1:0}),t),n},t.prototype.copy=function(t,e,n){var r=this;void 0===n&&(n=!1);var i=t.getProps();t instanceof w.Z&&(i.bUseParent=t.bUseParent,i.bUseRecursion=t.bUseRecursion),t instanceof g.Z&&(i.shape=t.shape),t instanceof y.Z&&(i.bClosed=t.bClosed,i.adaptMode=t.adaptMode,i.vertexCallback=t.vertexCallback),t instanceof m.Z&&(i.loopDependencies=t.loopDependencies),t instanceof m.Z&&(i.loopDependencies=t.loopDependencies),n&&(i.id=t.id,i.name=t.name,i.order=t.order,i.data=JSON.parse(JSON.stringify(t.data||{})));var o=this.create(t.type,i,e);if(o){if(t instanceof b.Z)t.getChildren().forEach((function(t){var n=r.copy(t,e);n&&o.add(n)}));else if(t instanceof d.Z&&o instanceof d.Z&&t.shape){var a=this.copy(t.shape,e);a&&(o.shape=a)}else t instanceof g.Z&&o instanceof g.Z&&t.shape&&o.setShape(new Float32Array(t.shape));return o}return console.warn("SceneUtilities: Copy failed.",t),null},t.prototype.add=function(t,e,n,r){var i=null;if(t instanceof b.Z||t instanceof _.Z)(i=this.create(e,n,r))&&t.add(i);else if(t instanceof d.Z)if(null==t.shape)(i=this.create(e,n,r))&&t.setShape(i);else if(t.shape instanceof w.Z){if(i=this.create(e,n,r)){var o=this.create("Group",void 0,r),a=t.shape;this.remove(t,a),t.setShape(o),o.add(a),o.add(i)}}else t.shape instanceof b.Z&&this.add(t.shape,e,void 0,r);return i},t.prototype.remove=function(t,e){if(e)t instanceof b.Z?t.removeFromId(e.id):t instanceof d.Z&&t.setShape(void 0);else if(t.scene){var n=this.getParent(t);n?this.remove(n,t):t.scene.removeFromId(t.id)}else console.warn("SceneUtilities: Remove failed. SceneChild is not added into scene",t)},t.prototype.getRootParent=function(t){var e=this.getParents(t);return e.length>0?e[0]:null},t.prototype.getParent=function(t){var e=this.getParents(t);return e.length>0?e[e.length-1]:null},t.prototype.getParents=function(t){return t&&t.scene?t.scene.getParentsOfSceneChild(t):[]},t.prototype.getChildren=function(t){return t instanceof b.Z?t.getChildren():t instanceof d.Z&&t.shape?[t.shape]:[]},t.prototype.getChildrenPrimitives=function(t){for(var e=[],n=this.getChildren(t),r=0,i=n.length;r<i;r++)n[r]instanceof y.Z?e.push(n[r]):e=e.concat.apply(e,this.getChildrenPrimitives(n[r]));return e},t.prototype.getNeighbors=function(t){if(t.scene){var e=this.getParent(t);return null==e?t.scene.getChildren():this.getChildren(e)}return[]},t.prototype.getCountOfSceneChildType=function(t,e){var n=0;return _.Z.walk((function(t){n+=t.type==e?1:0}),t),n},t.prototype.isGroup=function(t){return t instanceof b.Z},t.prototype.hasShapeChild=function(t){return t instanceof d.Z&&void 0!==t.shape},t.prototype.hasShapeBuffer=function(t){return t instanceof g.Z},t.prototype.isAPrimitive=function(t){return t instanceof y.Z},t.prototype.hasLoop=function(t){return t instanceof m.Z},t.prototype.set=function(t,e,n,r){switch(O.Z[e].dataType){case"props":return this.setProp(t,e,n,r);case"drawer":return this.setDrawerProp(t,e,n,r);case"settings":return this.setSetting(t,e,n,r)}},t.prototype.setProp=function(t,e,n,r){if(void 0===t.data?t.data={props:{}}:void 0===t.data.props&&(t.data.props={}),t.clearBuffer(!0,!0),"loop"!==e){if(M.bValueAnimation(n))return t.data.props[e]=n,void t.setProp(e,C(r,e,n));if(M.bPropInSceneChildUtilitiesData(e)&&M.bValueTransformable(n))return t.data.props[e]=n,void t.setProp(e,M.getTransformedValue(r,e,n));t.setProp(e,n,!0),delete t.data.props[e]}else if(t instanceof m.Z&&M.bValueLoop(n)){var i=n;t.data.props.loop=n,t.setProp("loop",M.composeLoop(i));var o=i.dynamyc;if(o!==t.loopDependencies.indexOf("propArguments")>=0){var a=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}(t.loopDependencies);o?!(a.indexOf("propArguments")>=0)&&a.push("propArguments"):a.indexOf("propArguments")>=0&&a.splice(a.indexOf("propArguments",1)),t.loopDependencies=a}}},t.prototype.setDrawerProp=function(t,e,n,r){if(this.isAPrimitive(t)){if(void 0===t.data?t.data={style:{}}:void 0===t.data.style&&(t.data.style={}),M.bValueAnimation(n))return t.data.style[e]=n,void(t.style[e]=C(r,e,n));if(M.bPropInSceneChildUtilitiesData(e)&&M.bValueTransformable(n))return t.data.style[e]=n,void(t.style[e]=M.getTransformedValue(r,e,n));t.style[e]=n,delete t.data.style[e]}},t.prototype.setSetting=function(t,e,n,r){if(t.clearBuffer(!0,!0),"vertexCallback"!==e)switch(e){case"bUseParent":t instanceof w.Z&&(t.bUseParent=n);break;case"bUseRecursion":t instanceof w.Z&&(t.bUseRecursion=n);break;case"bClosed":t instanceof y.Z&&t.setClosed(n);break;case"adaptMode":t instanceof y.Z&&t.adapt(n);break;default:void 0!==t[e]&&(t[e]=n)}else t instanceof w.Z&&M.bValueVertexCallback(n)&&(t.data.vertexCallback=n,t.vertexCallback=M.composeVertexCallback(n))},t}())},9685:(t,e,n)=>{"use strict";n.d(e,{WT:()=>r,ZR:()=>i});var r="undefined"!=typeof Float32Array?Float32Array:Array;function i(t){r=t}Math.random,Math.PI,Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)})},1437:(t,e,n)=>{"use strict";n.d(e,{al:()=>o,TE:()=>a});var r,i=n(9685);function o(t,e){var n=new i.WT(2);return n[0]=t,n[1]=e,n}function a(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.hypot(n,r)}r=new i.WT(2),i.WT!=Float32Array&&(r[0]=0,r[1]=0)},21:(t,e,n)=>{var r;!function(){"use strict";var i=.5*(Math.sqrt(3)-1),o=(3-Math.sqrt(3))/6,a=1/6,s=(Math.sqrt(5)-1)/4,p=(5-Math.sqrt(5))/20;function c(t){var e;e="function"==typeof t?t:t?function(){var t=0,e=0,n=0,r=1,i=f();t=i(" "),e=i(" "),n=i(" ");for(var o=0;o<arguments.length;o++)(t-=i(arguments[o]))<0&&(t+=1),(e-=i(arguments[o]))<0&&(e+=1),(n-=i(arguments[o]))<0&&(n+=1);return i=null,function(){var i=2091639*t+2.3283064365386963e-10*r;return t=e,e=n,n=i-(r=0|i)}}(t):Math.random,this.p=u(e),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var n=0;n<512;n++)this.perm[n]=this.p[255&n],this.permMod12[n]=this.perm[n]%12}function u(t){var e,n=new Uint8Array(256);for(e=0;e<256;e++)n[e]=e;for(e=0;e<255;e++){var r=e+~~(t()*(256-e)),i=n[e];n[e]=n[r],n[r]=i}return n}function f(){var t=4022871197;return function(e){e=e.toString();for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)}}c.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(t,e){var n,r,a=this.permMod12,s=this.perm,p=this.grad3,c=0,u=0,f=0,l=(t+e)*i,h=Math.floor(t+l),d=Math.floor(e+l),v=(h+d)*o,y=t-(h-v),m=e-(d-v);y>m?(n=1,r=0):(n=0,r=1);var g=y-n+o,_=m-r+o,b=y-1+2*o,w=m-1+2*o,x=255&h,S=255&d,O=.5-y*y-m*m;if(O>=0){var M=3*a[x+s[S]];c=(O*=O)*O*(p[M]*y+p[M+1]*m)}var P=.5-g*g-_*_;if(P>=0){var Z=3*a[x+n+s[S+r]];u=(P*=P)*P*(p[Z]*g+p[Z+1]*_)}var C=.5-b*b-w*w;if(C>=0){var I=3*a[x+1+s[S+1]];f=(C*=C)*C*(p[I]*b+p[I+1]*w)}return 70*(c+u+f)},noise3D:function(t,e,n){var r,i,o,s,p,c,u,f,l,h,d=this.permMod12,v=this.perm,y=this.grad3,m=.3333333333333333*(t+e+n),g=Math.floor(t+m),_=Math.floor(e+m),b=Math.floor(n+m),w=(g+_+b)*a,x=t-(g-w),S=e-(_-w),O=n-(b-w);x>=S?S>=O?(p=1,c=0,u=0,f=1,l=1,h=0):x>=O?(p=1,c=0,u=0,f=1,l=0,h=1):(p=0,c=0,u=1,f=1,l=0,h=1):S<O?(p=0,c=0,u=1,f=0,l=1,h=1):x<O?(p=0,c=1,u=0,f=0,l=1,h=1):(p=0,c=1,u=0,f=1,l=1,h=0);var M=x-p+a,P=S-c+a,Z=O-u+a,C=x-f+2*a,I=S-l+2*a,A=O-h+2*a,T=x-1+.5,B=S-1+.5,k=O-1+.5,L=255&g,R=255&_,E=255&b,F=.6-x*x-S*S-O*O;if(F<0)r=0;else{var D=3*d[L+v[R+v[E]]];r=(F*=F)*F*(y[D]*x+y[D+1]*S+y[D+2]*O)}var q=.6-M*M-P*P-Z*Z;if(q<0)i=0;else{var j=3*d[L+p+v[R+c+v[E+u]]];i=(q*=q)*q*(y[j]*M+y[j+1]*P+y[j+2]*Z)}var U=.6-C*C-I*I-A*A;if(U<0)o=0;else{var z=3*d[L+f+v[R+l+v[E+h]]];o=(U*=U)*U*(y[z]*C+y[z+1]*I+y[z+2]*A)}var V=.6-T*T-B*B-k*k;if(V<0)s=0;else{var Y=3*d[L+1+v[R+1+v[E+1]]];s=(V*=V)*V*(y[Y]*T+y[Y+1]*B+y[Y+2]*k)}return 32*(r+i+o+s)},noise4D:function(t,e,n,r){var i,o,a,c,u,f,l,h,d,v,y,m,g,_,b,w,x,S=this.perm,O=this.grad4,M=(t+e+n+r)*s,P=Math.floor(t+M),Z=Math.floor(e+M),C=Math.floor(n+M),I=Math.floor(r+M),A=(P+Z+C+I)*p,T=t-(P-A),B=e-(Z-A),k=n-(C-A),L=r-(I-A),R=0,E=0,F=0,D=0;T>B?R++:E++,T>k?R++:F++,T>L?R++:D++,B>k?E++:F++,B>L?E++:D++,k>L?F++:D++;var q=T-(f=R>=3?1:0)+p,j=B-(l=E>=3?1:0)+p,U=k-(h=F>=3?1:0)+p,z=L-(d=D>=3?1:0)+p,V=T-(v=R>=2?1:0)+2*p,Y=B-(y=E>=2?1:0)+2*p,N=k-(m=F>=2?1:0)+2*p,W=L-(g=D>=2?1:0)+2*p,G=T-(_=R>=1?1:0)+3*p,H=B-(b=E>=1?1:0)+3*p,X=k-(w=F>=1?1:0)+3*p,K=L-(x=D>=1?1:0)+3*p,$=T-1+4*p,J=B-1+4*p,Q=k-1+4*p,tt=L-1+4*p,et=255&P,nt=255&Z,rt=255&C,it=255&I,ot=.6-T*T-B*B-k*k-L*L;if(ot<0)i=0;else{var at=S[et+S[nt+S[rt+S[it]]]]%32*4;i=(ot*=ot)*ot*(O[at]*T+O[at+1]*B+O[at+2]*k+O[at+3]*L)}var st=.6-q*q-j*j-U*U-z*z;if(st<0)o=0;else{var pt=S[et+f+S[nt+l+S[rt+h+S[it+d]]]]%32*4;o=(st*=st)*st*(O[pt]*q+O[pt+1]*j+O[pt+2]*U+O[pt+3]*z)}var ct=.6-V*V-Y*Y-N*N-W*W;if(ct<0)a=0;else{var ut=S[et+v+S[nt+y+S[rt+m+S[it+g]]]]%32*4;a=(ct*=ct)*ct*(O[ut]*V+O[ut+1]*Y+O[ut+2]*N+O[ut+3]*W)}var ft=.6-G*G-H*H-X*X-K*K;if(ft<0)c=0;else{var lt=S[et+_+S[nt+b+S[rt+w+S[it+x]]]]%32*4;c=(ft*=ft)*ft*(O[lt]*G+O[lt+1]*H+O[lt+2]*X+O[lt+3]*K)}var ht=.6-$*$-J*J-Q*Q-tt*tt;if(ht<0)u=0;else{var dt=S[et+1+S[nt+1+S[rt+1+S[it+1]]]]%32*4;u=(ht*=ht)*ht*(O[dt]*$+O[dt+1]*J+O[dt+2]*Q+O[dt+3]*tt)}return 27*(i+o+a+c+u)}},c._buildPermutationTable=u,void 0===(r=function(){return c}.call(e,n,e,t))||(t.exports=r),e.SimplexNoise=c,t.exports=c}()},3639:(t,e,n)=>{"use strict";n.d(e,{Z:()=>d});var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),i=new Uint8Array(16);function o(){if(!r)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}const a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,s=function(t){return"string"==typeof t&&a.test(t)};for(var p=[],c=0;c<256;++c)p.push((c+256).toString(16).substr(1));var u,f,l=0,h=0;const d=function(t,e,n){var r=e&&n||0,i=e||new Array(16),a=(t=t||{}).node||u,c=void 0!==t.clockseq?t.clockseq:f;if(null==a||null==c){var d=t.random||(t.rng||o)();null==a&&(a=u=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==c&&(c=f=16383&(d[6]<<8|d[7]))}var v=void 0!==t.msecs?t.msecs:Date.now(),y=void 0!==t.nsecs?t.nsecs:h+1,m=v-l+(y-h)/1e4;if(m<0&&void 0===t.clockseq&&(c=c+1&16383),(m<0||v>l)&&void 0===t.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=v,h=y,f=c;var g=(1e4*(268435455&(v+=122192928e5))+y)%4294967296;i[r++]=g>>>24&255,i[r++]=g>>>16&255,i[r++]=g>>>8&255,i[r++]=255&g;var _=v/4294967296*1e4&268435455;i[r++]=_>>>8&255,i[r++]=255&_,i[r++]=_>>>24&15|16,i[r++]=_>>>16&255,i[r++]=c>>>8|128,i[r++]=255&c;for(var b=0;b<6;++b)i[r+b]=a[b];return e||function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(p[t[e+0]]+p[t[e+1]]+p[t[e+2]]+p[t[e+3]]+"-"+p[t[e+4]]+p[t[e+5]]+"-"+p[t[e+6]]+p[t[e+7]]+"-"+p[t[e+8]]+p[t[e+9]]+"-"+p[t[e+10]]+p[t[e+11]]+p[t[e+12]]+p[t[e+13]]+p[t[e+14]]+p[t[e+15]]).toLowerCase();if(!s(n))throw TypeError("Stringified UUID is invalid");return n}(i)}}},__webpack_module_cache__={};function __webpack_require__(t){if(__webpack_module_cache__[t])return __webpack_module_cache__[t].exports;var e=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](e,e.exports,__webpack_require__),e.exports}return __webpack_require__.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=(t,e)=>{for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__(522)})()}));