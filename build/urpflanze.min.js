!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Urpflanze=t():e.Urpflanze=t()}(window,(function(){return(()=>{var __webpack_modules__={9277:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{dL:()=>parseFunction,Oi:()=>cancelablePromise,zO:()=>now,Ux:()=>toDegrees,Yr:()=>toRadians,qo:()=>toArray,uZ:()=>clamp,Sr:()=>relativeClamp});const parseFunction={suffix:"$fn:",parse:e=>"function"==typeof e&&"SimpleAnimation"!==e.name?parseFunction.suffix+e.toString():e,unparse:data=>"string"==typeof data&&0===data.indexOf(parseFunction.suffix)?eval(data.substr(parseFunction.suffix.length)):data};function cancelablePromise(e){let t=!1,r=!1;return{promise:new Promise(((i,n)=>{e.then((e=>{t=!0,r?n("canceled"):i(e)})).catch((e=>{t=!0,n(r?"canceled":e)}))})),resolved:()=>t,canceled:()=>r,cancel:()=>{r=!0}}}function now(){return performance.now()}function toDegrees(e){return 180*e/Math.PI}function toRadians(e){return e*Math.PI/180}function toArray(e){return Array.isArray(e)?e:[e,e]}function clamp(e,t,r){return r<=e?e:r>=t?t:r}function relativeClamp(e,t,r,i,n){return clamp(i,n,(r-e)/(t-e)*(n-i)+i)}},2024:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var i=r(21),n=r.n(i),s=r(9835),a=r(1437);const o={random:new(n())(Math.random)},h={noise:(e="random",t=0,r=0,i=0)=>(o[e]||(o[e]=new(n())(e)),o[e].noise3D(t,r,i)),angle:(e,t=[0,0])=>{if(e.type==s.i.Matrix){const r=a.al((e.col.count-1)/2,(e.row.count-1)/2);r[0]+=r[0]*t[0],r[1]+=r[1]*t[1];const i=e.col.index-1-r[0],n=e.row.index-1-r[1];return 0===i?0:Math.atan(n/i)}return e.angle},angle2:(e,t=[0,0])=>{if(e.type==s.i.Matrix){const r=a.al((e.col.count-1)/2,(e.row.count-1)/2);r[0]+=r[0]*t[0],r[1]+=r[1]*t[1];const i=e.col.index-1-r[0],n=e.col.index-1-r[1];return 0===i?0:Math.atan2(n,i)}return e.angle},distance:(e,t=[0,0])=>{if(e.type==s.i.Matrix){const r=a.al(.5,.5);r[0]+=r[0]*t[0],r[1]+=r[1]*t[1];const i=a.al(e.col.offset-.5/e.col.count,e.row.offset-.5/e.row.count);return a.TE(i,r)}return 1},percW:(e,t)=>t&&t.scene?t.scene.width*e/100:e,percH:(e,t)=>t&&t.scene?t.scene.height*e/100:e}},5631:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var i=r(817),n=r(9213),s=r(5282),a=r(6591);class o extends n.Z{constructor(e={}){e.type="Group",super(e),this.children=[],["id","name","data","order","type"].forEach((t=>{t in e&&delete e[t]})),this.props=e}isStatic(){const e=this.children;for(let t=0,r=e.length;t<r;t++)if(!e[t].isStatic())return!1;return!0}isStaticIndexed(){const e=this.children;for(let t=0,r=e.length;t<r;t++)if(!e[t].isStaticIndexed())return!1;return!0}add(e){const t=e.getProps();Object.keys(this.props).forEach((r=>{void 0===t[r]&&e.setProp(r,this.props[r])})),e.order=void 0!==e.order?e.order:this.children.length>0?Math.max.apply(this,this.children.map((e=>e.order||0)))+1:0,this.scene&&i.Z.propagateToChilden(e,this.scene),this.children.push(e),this.sortChildren()}sortChildren(){this.children.sort(((e,t)=>e.order-t.order)),this.children=this.children.map(((e,t)=>(e.order=t,e))),this.clearBuffer(!0)}getChildren(){return this.children}find(e){if(this.id===e||this.name===e)return this;const t=this.getChildren();for(let r=0,i=t.length;r<i;r++){const i=t[r].find(e);if(null!==i)return i}return null}get(e){return e>=0&&e<this.children.length?this.children[e]:null}remove(e){if(e>=0&&e<this.children.length){const t=this.children.splice(e,1);return this.clearBuffer(!0),t}return!1}removeFromId(e){for(let t=0,r=this.children.length;t<r;t++)if(this.children[t].id==e)return this.children.splice(t,1),this.clearBuffer(!0)}generate(e,t=!1,r){this.children.forEach((i=>i.generate(e,t,r)))}getBounding(e){const t=[],r=Object.assign({},a.Z.EMPTY_BOUNDING);if(this.children.length>0){this.children.forEach((r=>t.push(r.getBounding(e))));for(let e=0,i=this.children.length;e<i;e++)r.x=r.x>t[e].x?t[e].x:r.x,r.y=r.y>t[e].y?t[e].y:r.y,r.width=r.width<t[e].width?t[e].width:r.width,r.height=r.height<t[e].height?t[e].height:r.height;r.cx=r.x+r.width/2,r.cy=r.y+r.height/2}return r}clearBuffer(e=!1,t=!0){if(this.children.forEach((t=>t.clearBuffer(e,!1))),this.scene&&t){const r=this.scene.getParentsOfSceneChild(this);r.length>0&&r[r.length-1].clearBuffer(e,t)}}setProp(e,t){"object"==typeof e?Object.keys(e).forEach((t=>this.props[t]=e[t])):this.props[e]=t,this.children.forEach((r=>r.setProp(e,t)))}setPropUnsafe(e,t){super.setPropUnsafe(e,t),this.children.forEach((r=>r.setPropUnsafe(e,t)))}getBufferLength(e){return this.children.map((t=>t.getBufferLength(e))).reduce(((e,t)=>e+t),0)}getBuffer(){const e=this.children.map((e=>e.getBuffer())).filter((e=>void 0!==e)),t=e.reduce(((e,t)=>e+t.length),0);if(t>0){const r=new Float32Array(t);r.set(e[0],0);for(let t=1,i=0,n=e.length;t<n;t++)i+=e[t-1].length,r.set(e[t],i);return r}return s.Z.EMPTY_BUFFER}getIndexedBuffer(){const e=this.children.map((e=>e.getIndexedBuffer())).filter((e=>void 0!==e));return[].concat.apply([],e)}stream(e){this.children.forEach((t=>t.stream(e)))}}const h=o},817:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(9213),n=r(5631),s=r(8227);class a{constructor(e={}){this.width=400,this.height=400,this.background="hsla(0, 0%, 0%, 1)",this.mainColor="hsla(0, 0%, 100%, 1)",this.current_time=0,void 0!==e.width&&(this.width=e.width),void 0!==e.height&&(this.height=e.height),void 0!==e.background&&(this.background=e.background),void 0!==e.mainColor&&(this.mainColor=e.mainColor),this.children=[],this.center=[this.width/2,this.height/2]}resize(e,t=e){this.width=e,this.height=t,this.center=[this.width/2,this.height/2],this.children.forEach((e=>e.clearBuffer(!0,!1)))}update(e){this.current_time=e,this.children.forEach((e=>e.generate(this.current_time,!0)))}stream(e){this.children.forEach((t=>t.stream(e)))}getChildren(){return this.children}add(e,t){e.order=void 0!==t?t:void 0!==e.order?e.order:this.children.length>0?Math.max.apply(this,this.children.map((e=>e.order)))+1:0,a.propagateToChilden(e,this),this.children.push(e),e.clearBuffer(!0,!1),this.sortChildren()}sortChildren(){this.children.sort(((e,t)=>e.order-t.order)),this.children=this.children.map(((e,t)=>(e.order=t,e)))}find(e){const t=this.getChildren();for(let r=0,i=t.length;r<i;r++){const i=t[r].find(e);if(null!==i)return i}return null}get(e){return e>=0&&e<this.children.length?this.children[e]:null}remove(e){e>=0&&e<this.children.length&&this.children.splice(e,1)}removeChildren(){this.children=[]}removeFromId(e){for(let t=0,r=this.children.length;t<r;t++)if(this.children[t].id===e||this.children[t].name===e)return void this.children.splice(t,1)}isFirstLevelChild(e){for(let t=0,r=this.children.length;t<r;t++)if(this.children[t].id==e.id)return!0;const t=this.getParentsOfSceneChild(e);return 1==t.length&&t[0]instanceof n.Z}getParentsOfSceneChild(e){const t=a.getParentsOfSceneChild(this,e);return t?(t.splice(0,1),t):[]}static getParentsOfSceneChild(e,t,r=[]){let o;if(e instanceof i.Z){if(e.id==t.id)return r;if(e instanceof s.Z&&e.shape){const i=r.slice();if(i.push(e),o=a.getParentsOfSceneChild(e.shape,t,i))return o}}if(e instanceof a||e instanceof n.Z){const i=e.getChildren();r.push(e);for(let e=0,n=i.length;e<n;e++){const n=i[e];if(o=a.getParentsOfSceneChild(n,t,r))return o}r.pop()}return null}static walk(e,t){if(t instanceof i.Z){if(!1===e(t))return!1;if(t instanceof s.Z&&t.shape&&!1===a.walk(e,t.shape))return!1}if(t instanceof a||t instanceof n.Z){const r=t.getChildren();for(let t=0,i=r.length;t<i;t++){const i=r[t];if(!1===a.walk(e,i))return!1}}}static propagateToChilden(e,t){e.scene=t,e instanceof n.Z?e.getChildren().forEach((e=>{a.propagateToChilden(e,t)})):e instanceof s.Z&&e.shape&&(e.shape.scene=t,a.propagateToChilden(e.shape,t))}}const o=a},9213:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});let i=0;const n=class{constructor(e){var t;this.id=null!==(t=e.id)&&void 0!==t?t:++i,this.type=e.type||"SceneChild",this.name=e.name||this.type+"_"+this.id,this.data=e.data||{},this.props={}}find(e){return this.id===e||this.name===e?this:null}getProps(){return this.props}getProp(e,t,r){var i;return null!==(i=this.props[e])&&void 0!==i?i:r}setPropUnsafe(e,t){"string"==typeof e?this.props[e]=t:Object.keys(e).forEach((t=>this.props[t]=e[t]))}}},212:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var i=r(9277);const n=new Array(4),s=(e,t)=>e[0]*t[0]+e[1]*t[1],a=e=>Math.hypot(e[0],e[1]),o=(e,t,r)=>{const i=e[0]-r[0],n=e[1]-r[1];e[0]=i*t[0]+n*t[1]+r[0],e[1]=i*t[2]+n*t[3]+r[1]},h=Array.from([0,0]),l=Array.from([1,1]),c={create:(e=0,t)=>{const r=new Array(2);return"number"==typeof e?(r[0]=e,r[1]=null!=t?t:e):(r[0]=e[0],r[1]=e[1]),r},distance:(e,t)=>Math.hypot(t[0]-e[0],t[1]-e[1]),dot:s,length:a,angle:(e,t)=>{const r=a(e)*a(t);return Math.acos((0,i.uZ)(-1,1,r&&s(e,t)/r))},squeezeX:(e,t)=>{e[1]+=e[1]*(e[0]*-t)},squeezeY:(e,t)=>{e[0]+=e[0]*(e[1]*t)},skewX:(e,t)=>{e[0]+=Math.tan(t)*e[1]},skewY:(e,t)=>{e[1]+=Math.tan(t)*e[0]},rotateX:(e,t,r)=>{n[0]=1,n[1]=0,n[2]=0,n[3]=Math.cos(r),o(e,n,t)},rotateY:(e,t,r)=>{n[0]=Math.cos(r),n[1]=0,n[2]=0,n[3]=1,o(e,n,t)},rotateZ:(e,t,r)=>{n[0]=Math.cos(r),n[1]=-Math.sin(r),n[2]=Math.sin(r),n[3]=Math.cos(r),o(e,n,t)},translate:(e,t)=>{e[0]+=t[0],e[1]+=t[1]},scale:(e,t)=>{e[0]*=t[0],e[1]*=t[1]},divide:(e,t)=>{e[0]/=t[0],e[1]/=t[1]},toString:e=>`x: ${e[0]}, y: ${e[1]}`,ZERO:h,ONE:l}},2727:(e,t,r)=>{"use strict";r.d(t,{Gt:()=>i,hp:()=>n,uP:()=>s,s8:()=>a,pn:()=>o,$2:()=>h});const i=[0,0,0],n=[0,0],s=[1,1];function a(e,t){return e[0]=1,e[1]=Math.tan(t[1]),e[2]=0,e[3]=0,e[4]=Math.tan(t[0]),e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function o(e){return Array.isArray(e)?[e[0],e[1]]:[e,e]}function h(e,t=0){return Array.isArray(e)?[e[0],e[1],t]:[e,e,t]}},8227:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(5282),n=r(9213),s=r(817);class a extends i.Z{constructor(e={}){e.type=e.type||"Shape",super(e),e.shape instanceof n.Z?this.shape=e.shape:console.warn("[Urpflanze:Shape] requires the shape property to be instance of SceneChild,\nYou passed:",e.shape),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed()}isStatic(){return super.isStatic()&&(!this.shape||this.shape.isStatic())}isStaticIndexed(){return super.isStaticIndexed()&&(!this.shape||this.shape.isStaticIndexed())}find(e){return this.id===e||this.name===e?this:this.shape?this.shape.find(e):null}getBufferLength(e){return this.bStatic&&this.buffer&&this.buffer.length>0?this.buffer.length:(this.shape?this.shape.getBufferLength(e):0)*this.getRepetitionCount()}generateBuffer(e,t){return this.shape?(this.shape.generate(e,!1,t),this.shape.getBuffer()||a.EMPTY_BUFFER):a.EMPTY_BUFFER}addIndex(e,t){if(this.shape){const r=this.indexed_buffer,i=this.shape.getIndexedBuffer()||[],n={shape:this,frame_length:e,repetition:{type:t.type,angle:t.angle,index:t.index,count:t.count,offset:t.offset,row:{index:t.row.index,count:t.row.count,offset:t.row.offset},col:{index:t.col.index,count:t.col.count,offset:t.col.offset}}};for(let e=0,t=i.length;e<t;e++){const t=i[e];t.parent=n,r.push(t)}}}setShape(e){void 0===e?(this.shape=void 0,this.clearBuffer(!0,!0)):(this.scene&&s.Z.propagateToChilden(e,this.scene),this.shape=e,this.shape.clearBuffer(!0,!0))}getBounding(e){return this.shape?this.shape.getBounding(!1):this.bounding}}const o=a},5282:(e,t,r)=>{"use strict";r.d(t,{Z:()=>T});var i=r(9685);function n(){var e=new i.WT(16);return i.WT!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function s(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function a(e,t,r){var i=t[0],n=t[1],s=t[2],a=t[3],o=t[4],h=t[5],l=t[6],c=t[7],u=t[8],d=t[9],f=t[10],p=t[11],m=t[12],g=t[13],_=t[14],b=t[15],v=r[0],y=r[1],w=r[2],x=r[3];return e[0]=v*i+y*o+w*u+x*m,e[1]=v*n+y*h+w*d+x*g,e[2]=v*s+y*l+w*f+x*_,e[3]=v*a+y*c+w*p+x*b,v=r[4],y=r[5],w=r[6],x=r[7],e[4]=v*i+y*o+w*u+x*m,e[5]=v*n+y*h+w*d+x*g,e[6]=v*s+y*l+w*f+x*_,e[7]=v*a+y*c+w*p+x*b,v=r[8],y=r[9],w=r[10],x=r[11],e[8]=v*i+y*o+w*u+x*m,e[9]=v*n+y*h+w*d+x*g,e[10]=v*s+y*l+w*f+x*_,e[11]=v*a+y*c+w*p+x*b,v=r[12],y=r[13],w=r[14],x=r[15],e[12]=v*i+y*o+w*u+x*m,e[13]=v*n+y*h+w*d+x*g,e[14]=v*s+y*l+w*f+x*_,e[15]=v*a+y*c+w*p+x*b,e}function o(e,t,r){var i,n,s,a,o,h,l,c,u,d,f,p,m=r[0],g=r[1],_=r[2];return t===e?(e[12]=t[0]*m+t[4]*g+t[8]*_+t[12],e[13]=t[1]*m+t[5]*g+t[9]*_+t[13],e[14]=t[2]*m+t[6]*g+t[10]*_+t[14],e[15]=t[3]*m+t[7]*g+t[11]*_+t[15]):(i=t[0],n=t[1],s=t[2],a=t[3],o=t[4],h=t[5],l=t[6],c=t[7],u=t[8],d=t[9],f=t[10],p=t[11],e[0]=i,e[1]=n,e[2]=s,e[3]=a,e[4]=o,e[5]=h,e[6]=l,e[7]=c,e[8]=u,e[9]=d,e[10]=f,e[11]=p,e[12]=i*m+o*g+u*_+t[12],e[13]=n*m+h*g+d*_+t[13],e[14]=s*m+l*g+f*_+t[14],e[15]=a*m+c*g+p*_+t[15]),e}function h(e,t,r){var i=r[0],n=r[1],s=r[2];return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*s,e[9]=t[9]*s,e[10]=t[10]*s,e[11]=t[11]*s,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function l(e,t,r){var i=Math.sin(r),n=Math.cos(r),s=t[4],a=t[5],o=t[6],h=t[7],l=t[8],c=t[9],u=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=s*n+l*i,e[5]=a*n+c*i,e[6]=o*n+u*i,e[7]=h*n+d*i,e[8]=l*n-s*i,e[9]=c*n-a*i,e[10]=u*n-o*i,e[11]=d*n-h*i,e}function c(e,t,r){var i=Math.sin(r),n=Math.cos(r),s=t[0],a=t[1],o=t[2],h=t[3],l=t[8],c=t[9],u=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*n-l*i,e[1]=a*n-c*i,e[2]=o*n-u*i,e[3]=h*n-d*i,e[8]=s*i+l*n,e[9]=a*i+c*n,e[10]=o*i+u*n,e[11]=h*i+d*n,e}function u(e,t,r){var i=Math.sin(r),n=Math.cos(r),s=t[0],a=t[1],o=t[2],h=t[3],l=t[4],c=t[5],u=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*n+l*i,e[1]=a*n+c*i,e[2]=o*n+u*i,e[3]=h*n+d*i,e[4]=l*n-s*i,e[5]=c*n-a*i,e[6]=u*n-o*i,e[7]=d*n-h*i,e}function d(e,t,r,i,n){var s,a=1/Math.tan(t/2);return e[0]=a/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=n&&n!==1/0?(s=1/(i-n),e[10]=(n+i)*s,e[14]=2*n*i*s):(e[10]=-1,e[14]=-2*i),e}function f(e,t,r){var n=new i.WT(3);return n[0]=e,n[1]=t,n[2]=r,n}function p(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function m(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function g(e,t,r){var i=t[0],n=t[1],s=t[2],a=r[3]*i+r[7]*n+r[11]*s+r[15];return a=a||1,e[0]=(r[0]*i+r[4]*n+r[8]*s+r[12])/a,e[1]=(r[1]*i+r[5]*n+r[9]*s+r[13])/a,e[2]=(r[2]*i+r[6]*n+r[10]*s+r[14])/a,e}function _(e,t,r,i){var n=[],s=[];return n[0]=t[0]-r[0],n[1]=t[1]-r[1],n[2]=t[2]-r[2],s[0]=n[0]*Math.cos(i)-n[1]*Math.sin(i),s[1]=n[0]*Math.sin(i)+n[1]*Math.cos(i),s[2]=n[2],e[0]=s[0]+r[0],e[1]=s[1]+r[1],e[2]=s[2]+r[2],e}b=new i.WT(3),i.WT!=Float32Array&&(b[0]=0,b[1]=0,b[2]=0);var b,v=r(1437),y=r(9835),w=r(9213),x=r(2024),k=r(2727),S=r(9277),C=r(212);i.ZR(Array);const A=n(),E=n(),P=n(),O=n();class I extends w.Z{constructor(e={}){super(e),this.generate_id=-1,this.bIndexed=!1,this.bounding={cx:0,cy:0,x:-1,y:-1,width:2,height:2},this.props={distance:e.distance,repetitions:e.repetitions,rotateX:e.rotateX,rotateY:e.rotateY,rotateZ:e.rotateZ,skewX:e.skewX,skewY:e.skewY,squeezeX:e.squeezeX,squeezeY:e.squeezeY,displace:e.displace,translate:e.translate,scale:e.scale,transformOrigin:e.transformOrigin,perspective:e.perspective,perspectiveOrigin:e.perspectiveOrigin},this.bUseParent=!!e.bUseParent,this.vertexCallback=e.vertexCallback}isStatic(){const e=this.props;return"function"!=typeof e.distance&&"function"!=typeof e.repetitions&&"function"!=typeof e.rotateX&&"function"!=typeof e.rotateY&&"function"!=typeof e.rotateZ&&"function"!=typeof e.displace&&"function"!=typeof e.skewX&&"function"!=typeof e.skewY&&"function"!=typeof e.squeezeX&&"function"!=typeof e.squeezeY&&"function"!=typeof e.translate&&"function"!=typeof e.scale&&"function"!=typeof e.transformOrigin}isStaticIndexed(){return"function"!=typeof this.props.repetitions}getProp(e,t,r){var i;let n=this.props[e];return"function"==typeof n&&(void 0===(t=t||I.EMPTY_PROP_ARGUMENTS).shape&&(t.shape=this),t.time=(null===(i=this.scene)||void 0===i?void 0:i.current_time)||0,n=n(t)),void 0===n||Number.isNaN(n)?r:n}setProp(e,t,r=!1){"string"==typeof e?(r=r||"repetitions"==e,this.props[e]=t):(r=r||"repetitions"in e,Object.keys(e).forEach((t=>this.props[t]=e[t]))),this.clearBuffer(r)}clearBuffer(e=!1,t=!0){if(this.buffer=void 0,e&&(this.bIndexed=!1),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed(),t&&this.scene&&!this.scene.isFirstLevelChild(this)){const r=this.scene.getParentsOfSceneChild(this);r.length>0&&r[r.length-1].clearBuffer(e,t)}}generate(e,t=!1,r){var i,n,b;if(!this.scene||this.buffer&&(this.bStatic||e===this.generate_id&&!this.bUseParent))return;this.generate_id=e,this.bStaticIndexed&&this.bIndexed||(this.indexed_buffer=[]);let w=Number.MAX_VALUE,T=Number.MAX_VALUE,M=Number.MIN_VALUE,R=Number.MIN_VALUE;const B=I.getEmptyRepetition(),Z=this.getProp("repetitions",{parent:r,repetition:B,time:1,context:x.Z},1),L=Array.isArray(Z)?y.i.Matrix:y.i.Ring,z=Array.isArray(Z)?Z[0]*(null!==(i=Z[1])&&void 0!==i?i:Z[0]):Z,F=Array.isArray(Z)?Z[0]:z,U=Array.isArray(Z)?null!==(n=Z[1])&&void 0!==n?n:Z[0]:1,N=B.col;N.count=F;const D=B.row;D.count=U,B.count=z,B.col.count=F,B.row.count=U,B.type=L;const q={repetition:B,context:x.Z,time:(null===(b=this.scene)||void 0===b?void 0:b.current_time)||0,shape:this,data:this.data,parent:r};let j=0;const H=[];let $=0;const V=v.al((F-1)/2,(U-1)/2),W=[this.scene.center[0],this.scene.center[1],0];for(let r=0;r<U;r++)for(let i=0;i<F;i++,$++){B.index=$+1,B.offset=B.index/B.count,B.angle=L===y.i.Ring?2*Math.PI/z*$:0,N.index=i+1,N.offset=N.index/N.count,D.index=r+1,D.offset=D.index/D.count;const n=this.generateBuffer(e,q),b=n.length,v=this.getBounding(t);H[$]=new Float32Array(b),j+=b;{const e=k.pn(this.getProp("distance",q,k.uP)),x=this.getProp("displace",q,0),I=k.$2(this.getProp("scale",q,k.uP),1),Z=k.$2(this.getProp("translate",q,k.hp),0),z=this.getProp("skewX",q,0),F=this.getProp("skewY",q,0),U=this.getProp("squeezeX",q,0),N=this.getProp("squeezeY",q,0),D=this.getProp("rotateX",q,0),j=this.getProp("rotateY",q,0),Y=this.getProp("rotateZ",q,0),X=(0,S.uZ)(0,1,this.getProp("perspective",q,0)),G=k.$2(this.getProp("perspectiveOrigin",q,k.hp),0),K=k.$2(this.getProp("transformOrigin",q,k.hp),0);let J;switch(L){case y.i.Ring:J=f(e[0],0,0),_(J,J,k.Gt,B.angle+x);break;case y.i.Matrix:J=f(e[0]*(i-V[0]),e[1]*(r-V[1]),0)}const Q=X>0?Math.max(v.width,v.height)/2:1,ee=X>0?Q+10*Q*(1-X):0,te=0!==ee||0!==K[0]||0!==K[1],re=0!==G[0]||0!==G[1];te&&(K[0]*=v.width/2,K[1]*=v.height/2,K[2]=ee),s(E),te&&o(E,E,K),1===I[0]&&1===I[1]||h(E,E,I),0===z&&0===F||(k.s8(A,[z,F]),a(E,E,A)),0!==D&&l(E,E,D),0!==j&&c(E,E,j),0!==Y&&u(E,E,Y),te&&o(E,E,m(K,K,-1)),0===Z[0]&&0===Z[1]||o(E,E,Z),s(O),o(O,O,J),t&&o(O,O,W),L===y.i.Ring&&u(O,O,B.angle+x),ee>0&&(re&&(G[0]*=v.width/2,G[1]*=v.height/2,G[2]=0),d(P,-Math.PI/2,1,0,1/0));for(let e=0;e<b;e+=2){const t=[n[e],n[e+1],ee];if(g(t,t,E),0!==U&&C.Z.squeezeX(t,U),0!==N&&C.Z.squeezeY(t,N),ee>0&&(re&&p(t,t,G),g(t,t,P),m(t,t,ee),re&&p(t,t,G)),g(t,t,O),this.vertexCallback){const r=e/2+1,i=b/2;this.vertexCallback(t,q,{index:r,count:i,offset:r/i})}H[$][e]=t[0],H[$][e+1]=t[1],t[0]>=M?M=t[0]:t[0]<=w&&(w=t[0]),t[1]>=R?R=t[1]:t[1]<=T&&(T=t[1])}}this.bStaticIndexed&&this.bIndexed||this.addIndex(b,B)}this.bounding.x=w,this.bounding.y=T,this.bounding.width=M-w,this.bounding.height=R-T,this.bounding.cx=this.bounding.x-this.bounding.width/2,this.bounding.cy=this.bounding.y-this.bounding.height/2,this.buffer=new Float32Array(j);for(let e=0,t=0,r=H.length;e<r;t+=H[e].length,e++)this.buffer.set(H[e],t);this.bIndexed=!0}getRepetitionCount(){var e;let t=this.getProp("repetitions",void 0,1);return Array.isArray(t)?t[0]*(null!==(e=t[1])&&void 0!==e?e:t[0]):t}getBuffer(){return this.buffer}getIndexedBuffer(){return this.indexed_buffer}stream(e){if(this.scene&&this.buffer&&this.indexed_buffer)for(let t=0,r=0,i=this.indexed_buffer.length;t<i;t++){const n=this.indexed_buffer[t],s={shape:n.shape,repetition:n.repetition,context:x.Z,time:0,parent:n.parent,data:n.shape.data},a=n.shape.getProp("fillColor",s),o=n.shape.getProp("strokeColor",s,void 0!==a?void 0:this.scene.mainColor),h=n.shape.getProp("lineWidth",s,void 0!==a&&void 0===o?void 0:1);e({buffer:this.buffer,frame_length:n.frame_length,frame_buffer_index:r,shape:n.shape,repetition:n.repetition,current_shape_index:t,total_shapes:i,lineWidth:h,strokeColor:o,fillColor:a}),r+=n.frame_length}}}I.EMPTY_BUFFER=new Float32Array(0),I.getEmptySimpleRepetition=()=>({index:1,offset:1,count:1}),I.getEmptyRepetition=()=>Object.assign(Object.assign({type:y.i.Ring,angle:0},I.getEmptySimpleRepetition()),{row:I.getEmptySimpleRepetition(),col:I.getEmptySimpleRepetition()}),I.EMPTY_PROP_ARGUMENTS={time:0,context:x.Z,repetition:I.getEmptyRepetition()};const T=I},3969:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(6591),n=r(6669);class s extends i.Z{constructor(e={}){var t;e.type=e.type||"ShapeBuffer",e.adaptMode=null!==(t=e.adaptMode)&&void 0!==t?t:n._.Scale,super(e),void 0===e.shape?(console.warn("[Urpflanze:ShapeBuffer] ShapeBuffer require a buffer passed from `shape` property"),this.shape=s.EMPTY_BUFFER):this.shape=Float32Array.from(e.shape),this.bindBuffer(),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed()}clearBuffer(e=!1,t=!0){super.clearBuffer(e,t),this.bindBuffer()}bindBuffer(){const e=this.adaptMode!==n._.None?i.Z.adaptBuffer(this.shape,this.adaptMode):Float32Array.from(this.shape);let t=Number.MAX_VALUE,r=Number.MAX_VALUE,s=Number.MIN_VALUE,a=Number.MIN_VALUE;for(let i=0,n=e.length;i<n;i+=2)e[i]*=this.sideLength[0],e[i+1]*=this.sideLength[1],e[i]>=s?s=e[i]:e[i]<=t&&(t=e[i]),e[i+1]>=a?a=e[i+1]:e[i+1]<=r&&(r=e[i+1]);this.single_bounding.x=t,this.single_bounding.y=r,this.single_bounding.width=s-t,this.single_bounding.height=a-r,this.single_bounding.cx=this.single_bounding.x+this.single_bounding.width/2,this.single_bounding.cy=this.single_bounding.y+this.single_bounding.height/2,this.shape_buffer=e}getBufferLength(){return this.buffer&&this.buffer.length>0?this.buffer.length:this.shape_buffer.length*this.getRepetitionCount()}generateBuffer(e,t){return this.bindSideLength(t)&&this.bindBuffer(),this.shape_buffer}setShape(e){this.shape=e,this.clearBuffer(!0)}subdivide(e=1){let t=this.shape;if(t&&t.length>0){for(let r=0;r<e;r++)t=s.subdivide(t,this.bCloseShape);this.setShape(t)}}static subdivide(e,t=!0){const r=e.length,i=new Float32Array(2*r-(t?0:2));for(let t=0;t<r;t+=2)if(0===t)i[0]=e[0],i[1]=e[1];else{const r=e[t-2],n=e[t-1],s=e[t],a=e[t+1],o=(s+r)/2,h=(a+n)/2;i[2*(t-1)]=o,i[2*(t-1)+1]=h,i[2*t]=s,i[2*t+1]=a}return t&&(i[2*(r-1)]=(e[0]+e[r-2])/2,i[2*(r-1)+1]=(e[1]+e[r-1])/2),i}}const a=s},1315:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(6591),n=r(5282),s=r(6669);class a extends i.Z{constructor(e={},t=!1){e.type=e.type||"ShapeLoop",super(e),this.shapeLoopPropsDependencies=(e.shapeLoopPropsDependencies||[]).concat("bAdaptBuffer"),this.props.loop=e.loop,t||(this.loop={start:0,end:a.PI2,inc:a.PI2/10,vertex:()=>[0,0]},this.bStaticLoop=this.isStaticLoop(),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed())}isStaticLoop(){if(this.shapeLoopPropsDependencies.includes("vertexCallback")&&"function"==typeof this.vertexCallback)return!1;if(this.shapeLoopPropsDependencies.includes("prop_arguments"))return!1;for(let e=0,t=this.shapeLoopPropsDependencies.length;e<t;e++)if("function"==typeof this.props[this.shapeLoopPropsDependencies[e]])return!1;return!0}isStatic(){return this.bStaticLoop&&super.isStatic()}isStaticIndexed(){return this.bStaticLoop&&super.isStaticIndexed()}clearBuffer(e=!1,t=!0){super.clearBuffer(e,t),this.bStaticLoop=this.isStaticLoop(),e&&(this.loop_buffer=void 0)}setProp(e,t){let r=!1;e="string"==typeof e?{[e]:t}:e;for(let t=this.shapeLoopPropsDependencies.length-1;t>=0;t--)if(this.shapeLoopPropsDependencies[t]in e){r=!0;break}"loop"in e&&(e.loop=Object.assign(Object.assign({},this.props.loop),e.loop),r=!0),super.setProp(e,t,r)}getProp(e,t,r){return super.getProp(e,t,r)}getBufferLength(e){if(this.bStatic&&this.buffer&&this.buffer.length>0)return this.buffer.length;if(this.bStaticLoop&&this.loop_buffer&&this.loop_buffer.length>0)return this.loop_buffer.length*this.getRepetitionCount();const{repetition:t}=this.getLoop(e);return this.getRepetitionCount()*t*2}generateBuffer(e,t){return this.bindSideLength(t),this.bStaticLoop?(void 0===this.loop_buffer&&(this.loop_buffer=this.generateLoopBuffer(t)),this.loop_buffer):this.generateLoopBuffer(t)}generateLoopBuffer(e){const{start:t,end:r,inc:n,repetition:a}=this.getLoop(e),o=this.props.loop&&this.props.loop.vertex?this.props.loop.vertex:this.loop.vertex,h={index:0,offset:0,angle:0,count:a},l=h.count,c=2*l,u=new Float32Array(c),d=this.adaptMode===s._.None;let f=Number.MAX_VALUE,p=Number.MAX_VALUE,m=Number.MIN_VALUE,g=Number.MIN_VALUE;for(let i=0,s=0;i<l;i++,s+=2){const a=t+n*i;h.angle=a>=r?r:a,h.index=i+1,h.offset=h.index/h.count;const l=Float32Array.from(o(h,e));u[s]=l[0],u[s+1]=l[1],d&&(u[s]*=this.sideLength[0],u[s+1]*=this.sideLength[1]),u[s]>=m?m=u[s]:u[s]<=f&&(f=u[s]),u[s+1]>=g?g=u[s+1]:u[s+1]<=p&&(p=u[s+1])}if(this.single_bounding.x=f,this.single_bounding.y=p,this.single_bounding.width=m-f,this.single_bounding.height=g-p,this.single_bounding.cx=this.single_bounding.x+this.single_bounding.width/2,this.single_bounding.cy=this.single_bounding.y+this.single_bounding.height/2,!d){const e=i.Z.adaptBuffer(u,this.adaptMode);f=p=Number.MAX_VALUE,m=g=Number.MIN_VALUE;for(let t=0;t<c;t+=2)e[t]=e[t]*this.sideLength[0],e[t+1]=e[t+1]*this.sideLength[1],e[t]>=m?m=e[t]:e[t]<=f&&(f=e[t]),e[t+1]>=g?g=e[t+1]:e[t+1]<=p&&(p=e[t+1]);return this.single_bounding.x=f,this.single_bounding.y=p,this.single_bounding.width=m-f,this.single_bounding.height=g-p,this.single_bounding.cx=this.single_bounding.x+this.single_bounding.width/2,this.single_bounding.cy=this.single_bounding.y+this.single_bounding.height/2,e}return u}getLoop(e=n.Z.EMPTY_PROP_ARGUMENTS){var t,r,i,s,a,o,h;e.time=(null===(t=this.scene)||void 0===t?void 0:t.current_time)||0;let l=null!==(i=null===(r=this.props.loop)||void 0===r?void 0:r.start)&&void 0!==i?i:this.loop.start,c=null!==(a=null===(s=this.props.loop)||void 0===s?void 0:s.end)&&void 0!==a?a:this.loop.end,u=null!==(h=null===(o=this.props.loop)||void 0===o?void 0:o.inc)&&void 0!==h?h:this.loop.inc;l="function"==typeof l?l(e):l,c="function"==typeof c?c(e):c,u="function"==typeof u?u(e):u;const d=Math.ceil((c-l)/u);return{start:l,end:c,inc:u,repetition:d<0?0:d}}setShape(e){this.setProp("loop",e)}}a.PI2=2*Math.PI,a.PId2=Math.PI/2;const o=a},6591:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i=r(5282),n=r(6669),s=r(2727);class a extends i.Z{constructor(e={}){var t,r;super(e),this.single_bounding=Object.assign({},a.EMPTY_BOUNDING);const i="number"==typeof e.sideLength?[e.sideLength,e.sideLength]:Array.isArray(e.sideLength)?e.sideLength:[50,50];this.sideLength=i,this.props.sideLength=e.sideLength,this.props.fillColor=e.fillColor,this.props.lineWidth=e.lineWidth,this.props.strokeColor=e.strokeColor,this.adaptMode=null!==(t=e.adaptMode)&&void 0!==t?t:n._.None,this.bCloseShape=null===(r=e.bCloseShape)||void 0===r||r}isStatic(){return"function"!=typeof this.props.sideLength&&super.isStatic()}getProp(e,t,r){return super.getProp(e,t,r)}bindSideLength(e){const t=(0,s.pn)(this.getProp("sideLength",e,[50,50]));return this.sideLength[0]!==t[0]&&this.sideLength[1]!==t[1]&&(this.sideLength=t,!0)}getBounding(e){return e?this.single_bounding:this.bounding}addIndex(e,t){this.indexed_buffer.push({shape:this,frame_length:e,repetition:{type:t.type,angle:t.angle,index:t.index,count:t.count,offset:t.offset,row:{index:t.row.index,count:t.row.count,offset:t.row.offset},col:{index:t.col.index,count:t.col.count,offset:t.col.offset}}})}isClosed(){return this.bCloseShape}setClosed(e){this.bCloseShape=e}getAdaptMode(){return this.adaptMode}adapt(e){this.adaptMode=e,this.clearBuffer(!0)}static getBounding(e,t){void 0===t&&(t=Object.assign({},a.EMPTY_BOUNDING));let r=Number.MAX_VALUE,i=Number.MAX_VALUE,n=Number.MIN_VALUE,s=Number.MIN_VALUE;for(let t=0,a=e.length;t<a;t+=2){const a=e[t],o=e[t+1];a>n?n=a:a<r&&(r=a),o>s?s=o:o<i&&(i=o)}return t.x=r,t.y=i,t.width=n-r,t.height=s-i,t.cx=t.x-t.width/2,t.cy=t.y-t.height/2,t}static adaptBuffer(e,t,r){if(t===n._.None)return Float32Array.from(e);const i=new Float32Array(e.length);r||(r=a.getBounding(e));let s=r.width>=2||r.height>=2||t>=n._.Fill&&(r.width<2||r.height<2)?2/Math.max(r.width,r.height):1,o=t>=n._.Center?r.cx:0,h=t>=n._.Center?r.cy:0;for(let t=0,r=e.length;t<r;t+=2)i[t]=(e[t]-o)*s,i[t+1]=(e[t+1]-h)*s;return i}}a.EMPTY_BOUNDING={cx:0,cy:0,x:-1,y:-1,width:2,height:2};const o=a},9668:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(1315),n=r(6669);class s extends i.Z{constructor(e={}){e.type="Circle",e.shapeLoopPropsDependencies=(e.shapeLoopPropsDependencies||[]).concat(["sideLength"]),e.adaptMode=n._.None,super(e),this.loop={start:0,end:i.Z.PI2,inc:()=>1/Math.pow(this.sideLength[0]*this.sideLength[1],.25)*i.Z.PId2,vertex:e=>[Math.cos(e.angle),Math.sin(e.angle)]}}}const a=s},1010:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(6669),n=r(3969);class s extends n.Z{constructor(e={}){e.type="Line",e.shape=[-1,0,1,0],e.adaptMode=i._.None,e.bCloseShape=!1,super(e)}}const a=s},6863:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(1315),n=r(6669);class s extends i.Z{constructor(e={}){e.type="Lissajous",e.shapeLoopPropsDependencies=(e.shapeLoopPropsDependencies||[]).concat(["wx","wy","wz","sideLength"]),e.adaptMode=n._.None,super(e,!0),this.props.wx=e.wx||1,this.props.wy=e.wy||2,this.props.wz=e.wz||0,this.loop={start:0,end:i.Z.PI2,inc:e=>{const t=this.getProp("wx",e),r=this.getProp("wy",e),n=t==r?i.Z.PId2:.5-.01*Math.min(49,t+r);return 1/Math.pow(this.sideLength[0]*this.sideLength[1],.25)*n},vertex:(e,t)=>{const r=this.getProp("wx",t),i=this.getProp("wy",t),n=this.getProp("wz",t,0);return r==i?[Math.cos(e.angle+n),Math.sin(e.angle)]:[Math.cos(r*e.angle+n),Math.sin(i*e.angle)]}},this.bStaticLoop=this.isStaticLoop(),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed()}getProp(e,t,r){return super.getProp(e,t,r)}setProp(e,t){super.setProp(e,t)}}const a=s},178:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(6669),n=r(3969);class s extends n.Z{constructor(e={}){e.type="Rect",e.shape=[-1,-1,1,-1,1,1,-1,1],e.adaptMode=i._.None,super(e)}}const a=s},7490:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(1315),n=r(6669);class s extends i.Z{constructor(e={}){var t;e.type=e.type||"RegularPolygon",e.shapeLoopPropsDependencies=(e.shapeLoopPropsDependencies||[]).concat(["sideNumber"]),e.adaptMode=null!==(t=e.adaptMode)&&void 0!==t?t:n._.None,super(e,!0),this.props.sideNumber=e.sideNumber,this.loop={start:0,end:i.Z.PI2,inc:e=>i.Z.PI2/this.getProp("sideNumber",e,5),vertex:e=>[Math.cos(e.angle),Math.sin(e.angle)]},this.bStaticLoop=this.isStaticLoop(),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed()}getProp(e,t,r){return super.getProp(e,t,r)}setProp(e,t){super.setProp(e,t)}}const a=s},5589:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(1315),n=r(6669);class s extends i.Z{constructor(e={}){var t,r,a;e.type="Rose",e.shapeLoopPropsDependencies=(e.shapeLoopPropsDependencies||[]).concat(["n","d","sideLength"]),e.adaptMode=null!==(t=e.adaptMode)&&void 0!==t?t:n._.Scale,super(e,!0),this.props.n=null!==(r=e.n)&&void 0!==r?r:1,this.props.d=null!==(a=e.d)&&void 0!==a?a:2,this.loop={start:0,end:e=>s.getFinalAngleFromK(this.getProp("n",e),this.getProp("d",e)),inc:e=>{const t=this.getProp("n",e),r=this.getProp("d",e),n=Math.pow(this.sideLength[0]*this.sideLength[1],.45),s=r<t?t/r:1.5;return i.Z.PI2/(n*s)},vertex:(e,t)=>{const r=this.getProp("n",t)/this.getProp("d",t),i=Math.cos(r*e.angle);return[i*Math.cos(e.angle),i*Math.sin(e.angle)]}},this.bStaticLoop=this.isStaticLoop(),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed()}getProp(e,t,r){return super.getProp(e,t,r)}setProp(e,t){super.setProp(e,t)}static getFinalAngleFromK(e,t){if(e==t)return i.Z.PI2;const r=e/t,n=e*t;return Number.isInteger(r)||r%.5!=0?Math.PI*t*(n%2==0?2:1):4*Math.PI}}const a=s},1590:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(1315),n=r(6669);class s extends i.Z{constructor(e={}){var t,r,a,o;e.type="Spiral",e.bCloseShape=!1,e.adaptMode=null!==(t=e.adaptMode)&&void 0!==t?t:n._.None,e.shapeLoopPropsDependencies=(e.shapeLoopPropsDependencies||[]).concat(["twists","twists_start","spiral","sideLength"]),super(e,!0),this.props.spiral=null!==(r=e.spiral)&&void 0!==r?r:s.types.ARCHIMEDE,this.props.twists=null!==(a=e.twists)&&void 0!==a?a:2,this.props.twists_start=null!==(o=e.twists_start)&&void 0!==o?o:0,this.loop={start:e=>i.Z.PI2*this.getProp("twists_start",e),end:e=>i.Z.PI2*(this.getProp("twists_start",e)+this.getProp("twists",e)),inc:e=>{const t=this.getProp("twists",e);return i.Z.PI2*t/((4+Math.sqrt(this.sideLength[0]*this.sideLength[1]))*t)},vertex:(e,t)=>{const r=s.getRFromTSpiralType(this.getProp("spiral",t),e.angle);return[r*Math.cos(e.angle),r*Math.sin(e.angle)]}},this.bStaticLoop=this.isStaticLoop(),this.bStatic=this.isStatic(),this.bStaticIndexed=this.isStaticIndexed()}getProp(e,t,r){return super.getProp(e,t,r)}setProp(e,t){("twists"in(e="string"==typeof e?{[e]:t}:e)||"twists_start"in e)&&this.props.loop&&(this.props.loop.start=void 0,this.props.loop.end=void 0),super.setProp(e,t)}static getRFromTSpiralType(e,t){switch(e){case s.types.ARCHIMEDE:return t/10;case s.types.HYPERBOLIC:return 1/t*3;case s.types.FERMAT:return Math.pow(t,.5)/3;case s.types.LITUUS:return Math.pow(t,-.5);case s.types.LOGARITHMIC:return Math.pow(Math.E,.2*t)/10}return 1}}s.types={ARCHIMEDE:"ARCHIMEDE",HYPERBOLIC:"HYPERBOLIC",FERMAT:"FERMAT",LITUUS:"LITUUS",LOGARITHMIC:"LOGARITHMIC"};const a=s},4068:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(6669),n=r(3969);class s extends n.Z{constructor(e={}){e.type="Triangle",e.shape=[-1,-1,1,0,-1,1],e.adaptMode=i._.None,super(e)}}const a=s},9835:(e,t,r)=>{"use strict";var i;r.d(t,{i:()=>i}),function(e){e[e.Ring=1]="Ring",e[e.Matrix=2]="Matrix"}(i||(i={}))},6669:(e,t,r)=>{"use strict";var i;r.d(t,{_:()=>i}),function(e){e[e.None=0]="None",e[e.Scale=2]="Scale",e[e.Center=4]="Center",e[e.Fill=8]="Fill"}(i||(i={}))},522:(e,t,r)=>{"use strict";r.d(t,{Scene:()=>i.Z,SceneChild:()=>n.Z,Group:()=>s.Z,Line:()=>a.Z,Triangle:()=>o.Z,Rect:()=>h.Z,RegularPolygon:()=>l.Z,Circle:()=>c.Z,Rose:()=>u.Z,Spiral:()=>d.Z,Lissajous:()=>f.Z,Shape:()=>p.Z,ShapePrimitive:()=>m.Z,ShapeLoop:()=>g.Z,ShapeBuffer:()=>_.Z,clamp:()=>b.uZ,relativeClamp:()=>b.Sr,toDegrees:()=>b.Ux,toRadians:()=>b.Yr,Vec2:()=>k,Context:()=>y.Z,DrawerCanvas:()=>w.Z,Animation:()=>x.Z});var i=r(817),n=r(9213),s=r(5631),a=r(1010),o=r(4068),h=r(178),l=r(7490),c=r(9668),u=r(5589),d=r(1590),f=r(6863),p=r(8227),m=r(6591),g=r(1315),_=r(3969),b=r(9277),v=r(212),y=r(2024),w=r(1710),x=r(4471);const k=v.Z},4206:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Animation:()=>s.Animation,Circle:()=>s.Circle,Context:()=>s.Context,DrawerCanvas:()=>s.DrawerCanvas,ERepetitionType:()=>i.i,EShapePrimitiveAdaptMode:()=>n._,Group:()=>s.Group,JSONExporter:()=>C,JSONImporter:()=>v,Line:()=>s.Line,Lissajous:()=>s.Lissajous,Rect:()=>s.Rect,RegularPolygon:()=>s.RegularPolygon,Renderer:()=>p,Rose:()=>s.Rose,SVGExporter:()=>P,Scene:()=>s.Scene,SceneChild:()=>s.SceneChild,SceneUtilities:()=>a.Z,Shape:()=>s.Shape,ShapeBuffer:()=>s.ShapeBuffer,ShapeLoop:()=>s.ShapeLoop,ShapePrimitive:()=>s.ShapePrimitive,Spiral:()=>s.Spiral,Triangle:()=>s.Triangle,Vec2:()=>s.Vec2,clamp:()=>s.clamp,relativeClamp:()=>s.relativeClamp,toDegrees:()=>s.toDegrees,toRadians:()=>s.toRadians});var i=r(9835),n=r(6669),s=r(522),a=r(4559),o=r(6085),h=r(9277),l=r(7131);class c{constructor(e={}){this.type=e.type||"image/jpeg",this.encoder="image/png"===this.type?"png":"jpeg",this.extension="jpeg"===this.encoder?".jpg":".png",this.quality=e&&e.quality?e.quality:1,this.started=!1,this.promises=[],this.chunks=[]}setSettings(e){this.type=e.type||"image/jpeg",this.encoder="image/png"===this.type?"png":"jpeg",this.extension="jpeg"===this.encoder?".jpg":".png",this.quality=e&&e.quality?e.quality:1}start(e){this.chunks=new Array(e),this.promises=new Array(e),this.started=!0}stop(){this.chunks=[],this.promises=[],this.started=!1}capture(e,t){if(this.started){const r=this.type,i=this.quality,n=this.chunks,s=new Promise(((s,a)=>{c.render(e,r,i).then((e=>{n[t]=e,s(t)})).catch((e=>a([t,e])))}));return this.promises[t]=s,s}return Promise.reject()}save(){return this.started?new Promise(((e,t)=>{Promise.all(this.promises).then((()=>{e(this.chunks)}),(e=>{t(e)}))})):Promise.reject("not started")}static getRenderTime(e,t,r){const i=performance.now();return c.render(e,t,r).then((()=>performance.now()-i))}static getBlob(e,t,r){return new Promise(((i,n)=>e instanceof OffscreenCanvas?e.convertToBlob({type:t,quality:r}).then(i).catch(n):e instanceof HTMLCanvasElement?e.toBlob((e=>e?i(e):n()),t,r):void 0))}static render(e,t,r){return new Promise(((i,n)=>{c.getBlob(e,t,r).then((e=>{const t=new FileReader;t.addEventListener("load",(()=>{t.result&&t.result instanceof ArrayBuffer?i(new Uint8Array(t.result)):n()}),{passive:!0}),t.readAsArrayBuffer(e)})).catch((e=>n(e)))}))}}const u=c;var d=function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function a(e){try{h(i.next(e))}catch(e){s(e)}}function o(e){try{h(i.throw(e))}catch(e){s(e)}}function h(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,o)}h((i=i.apply(e,t||[])).next())}))};class f extends l.Z{constructor(){super(),this.capturer=new u}renderImage(e,t){this.started=!0,this.capturer.setSettings(t),this.capturer.stop(),this.capturer.start(1);const r=new Promise(((r,i)=>{const n=e.getOption("clearCanvas",!0),s=e.getTimeline(),a=s.getSequence();if(n)e.draw();else{const r=t.time>=a.end?a.frames:s.getFrameAtTime(t.time);for(let t=0;t<=r;t++)s.setFrame(t),e.draw()}this.capturer.capture(e.getCanvas(),0),this.capturer.save().then((e=>{r(e[0]),this.started=!1})).catch(i)}));return this.renderPromise=(0,h.Oi)(r),r}prepareRenderAnimation(e,t){return d(this,void 0,void 0,(function*(){const r=(0,h.zO)();e.setOption("time",0),e.draw();const i=(0,h.zO)()-r,n=e.getTimeline().getSequence(),s=((yield u.getRenderTime(e.getCanvas(),t.type,t.quality))+i)*n.frames,a=1+Math.floor(s/1e3/60),o=Math.floor(n.frames/a);return{estimated_time:s,total_frames:n.frames,total_parts:a,forPart:o}}))}stop(){this.started=!1,this.renderPromise&&this.renderPromise.cancel(),this.capturer.stop()}renderAnimation(e,t){this.stop(),this.started=!0;const r=e.getTimeline().getSequence(),i=new Promise(((i,n)=>{this.prepareRenderAnimation(e,t).then((s=>d(this,void 0,void 0,(function*(){this.dispatch("renderer:start",s);const a=[];for(let i=0;i<s.total_parts;i++)if(this.started)try{const o=yield this.renderAnimationPart(e,t,i*s.forPart,s.forPart,i,r.frames,s.total_parts);o?a.push(o):n()}catch(e){n(e)}else n();i(a),this.started=!1}))))}));return this.renderPromise=(0,h.Oi)(i),i}renderAnimationPart(e,t,r,i,n,s,a){return d(this,void 0,void 0,(function*(){this.capturer.setSettings(t),this.capturer.stop(),this.capturer.start(i);const l=e.getTimeline(),c=l.getSequence(),u=l.getTickTime();let d=0;for(let t=0;t<i;t++){if(!this.started)return;const o=t+r,f=(0,h.zO)();l.setTime((c.start+o*u)%c.end),e.draw(),yield this.capturer.capture(e.getCanvas(),t),d=(0,h.zO)()-f,this.dispatch("renderer:render-frame",{frame:o,part:n,forPart:i,total_frames:s,total_parts:a,render_time:d})}const f=yield this.capturer.save();if(this.started){const e=new o;for(let t=0,i=f.length;t<i;t++){const i=(t+r).toString();let n="";for(let e=i.length;e<=4;e++)n+="0";n+=i,e.file(n+this.capturer.extension,f[t])}const t=yield e.generateAsync({type:"blob"});if(!this.started)return;return this.capturer.stop(),t}}))}}const p=f;var m=r(817),g=r(1710),_=r(3639);class b{parse(e){var t,r,i,n,s,a,o,l,c,u,d,f;if(!e)return null;const p=e&&e.length>0?JSON.parse(e):{};if(!("scene"in p))return null;const _=b.createEmptyProject(),v={id:null!==(t=p.id)&&void 0!==t?t:_.id,name:null!==(r=p.name)&&void 0!==r?r:_.name,width:null!==(i=p.width)&&void 0!==i?i:_.width,height:null!==(n=p.height)&&void 0!==n?n:_.height,resolution:null!==(s=p.resolution)&&void 0!==s?s:_.resolution,background:null!==(a=p.background)&&void 0!==a?a:_.background,mainColor:null!==(o=p.mainColor)&&void 0!==o?o:_.mainColor,clearCanvas:null!==(l=p.clearCanvas)&&void 0!==l?l:_.clearCanvas,ghosts:null!==(c=p.ghosts)&&void 0!==c?c:_.ghosts,ghost_skip_time:null!==(u=p.ghost_skip_time)&&void 0!==u?u:_.ghost_skip_time,ghost_skip_function:null!==(d=p.ghost_skip_function)&&void 0!==d?d:_.ghost_skip_function,ratio:null!==(f=p.ratio)&&void 0!==f?f:_.ratio,scene:p.scene||_.scene,sequence:Object.assign(Object.assign({},_.sequence),p.sequence)};v.sequence.durate=v.sequence.end-v.sequence.start;const y={clearCanvas:v.clearCanvas,ghosts:v.ghosts,ghost_skip_time:h.dL.unparse(v.ghost_skip_time)},w=new m.Z({mainColor:v.mainColor,background:v.background,width:v.width,height:v.height}),x=new g.Z(w,void 0,y,v.ratio,v.resolution);x.getTimeline().setSequence(v.sequence.start,v.sequence.end,v.sequence.framerate);const k=Object.values(v.scene||[]);for(let e=0,t=k.length;e<t;e++){const t=this.parseSceneChild(k[e],x);t&&w.add(t)}return x}parseSceneChild(e,t){const r=void 0!==e.shape?Float32Array.from(Object.values(e.shape)):void 0,i={id:e.id,name:e.name,order:e.order,data:e.data,bUseParent:e.bUseParent,adaptMode:e.adaptMode,bCloseShape:e.bCloseShape,vertexCallback:h.dL.unparse(e.vertexCallback),shape:r},n=Object.assign({},e.props),s=a.Z.create(e.type,i);if(s){if(Object.keys(n).forEach((e=>{a.Z.setProp(s,e,h.dL.unparse(n[e]),t)})),e.children&&e.children.length>0)for(let r=0,i=e.children.length;r<i;r++){const i=this.parseSceneChild(e.children[r],t);i&&a.Z.add(s,i)}return s}return console.warn("JSONImporter: can't import",[e]),null}}b.createEmptyProject=()=>({id:(0,_.Z)(),name:"",width:600,height:600,resolution:600,background:"#000",mainColor:"#fff",clearCanvas:!0,ghosts:0,ghost_skip_time:30,ratio:1,scene:{},sequence:{start:0,end:6e3,durate:6e3,framerate:60}});const v=b;var y=r(5631),w=r(8227),x=r(5282),k=r(3969),S=r(6591);const C=class{parse(e,t="EmptyProject"){return this.toString(this.parseAsProject(e,t))}toString(e){return JSON.stringify(e)}parseAsProject(e,t="EmptyProject"){const r=e.getScene(),i=e.getTimeline(),n=v.createEmptyProject();n.name=t,n.width=r.width,n.height=r.height,n.resolution=e.getResolution(),n.mainColor=r.mainColor,n.background=r.background,n.clearCanvas=e.getOption("clearCanvas",!0),n.ghosts=e.getOption("ghosts",0),n.ghost_skip_time=h.dL.parse(e.getOption("ghost_skip_time",30)),n.ratio=e.getRatio();const{start:s,end:a,framerate:o}=i.getSequence();n.sequence={start:s,end:a,framerate:o,durate:a-s},n.scene={};const l=r.getChildren();for(let e=0,t=l.length;e<t;e++)n.scene[l[e].id]=this.parseSceneChild(l[e]);return n}parseSceneChild(e,t,r=0){const i={id:e.id+"",type:e.type,name:e.name,order:e.order,data:Object.assign(Object.assign({},e.data),{props:void 0}),depth:r,bPrimitive:e instanceof S.Z,props:{},parent_id:t},n=e.getProps(),s=Object.keys(n);for(let e=0,t=s.length;e<t;e++)n[s[e]]=h.dL.parse(n[s[e]]);if(i.props=Object.assign(Object.assign({},n),e.data.props),e instanceof k.Z&&(i.shape=e.shape),e instanceof x.Z&&(i.bUseParent=e.bUseParent),e instanceof S.Z)i.adaptMode=e.adaptMode,i.bCloseShape=e.bCloseShape,i.vertexCallback=h.dL.parse(e.vertexCallback);else if(e instanceof w.Z||e instanceof y.Z){const t=[],n=a.Z.getChildren(e);for(let i=0;i<n.length;i++)t.push(this.parseSceneChild(n[i],e.id,r+1));i.children=t}return i}},A={size:1080,quality:1,time:0,noBackground:!0};class E{parse(e,t){t=Object.assign(Object.assign({},A),t);const r=e.getScene(),i=e.getTimeline(),n=Math.floor(4*t.quality),s=[],a=Object.assign({},e.getOptions());if(a.ghosts){const t=i.getTime(),o=i.getSequenceEndTime();for(let i=1;i<=a.ghosts;i++){const h=t-(a.ghost_skip_function?a.ghost_skip_function(i):i*(a.ghost_skip_time||30));a.clearCanvas=1==i,a.ghost_index=i,a.time=h<0?h+o:h>o?h%o:h,s.push(E.draw(r,a,e.getResolution(),n))}a.clearCanvas=!1,a.ghost_index=void 0,a.time=i.getTime(),s.push(E.draw(r,a,e.getResolution(),n))}else if(a.clearCanvas)a.time=i.getTime(),a.clearCanvas=a.clearCanvas||i.getCurrentFrame()<=0,s.push(E.draw(r,a,e.getResolution(),n));else{const o=i.getSequence(),h=t.time>=o.end?o.frames:i.getFrameAtTime(t.time);for(let t=0;t<=h;t++)i.setFrame(t),a.time=i.getTime(),s.push(E.draw(r,a,e.getResolution(),n))}const o=[];return o.push(`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${r.width.toFixed(n)} ${r.height.toFixed(n)}" width="${r.width.toFixed(n)}" height="${r.height.toFixed(n)}">`),t.noBackground||o.push(`\t<rect width="${r.width.toFixed(n)}" height="${r.height.toFixed(n)}" fill="${r.background}" />`),o.push(s.map((e=>`<g>${e.join("\t\t")}</g>`)).join("\t")),o.push("</svg>"),o.join("\n")}static draw(e,t,r,i){var n,s,a;const o=null!==(n=t.scale)&&void 0!==n?n:1,h=null!==(s=t.translate)&&void 0!==s?s:[0,0],l=null!==(a=t.time)&&void 0!==a?a:0,c=void 0!==t.ghosts&&t.ghosts>0&&void 0!==t.ghost_index&&t.ghost_index>0,u=c?1-t.ghost_index/(t.ghosts+.5):1,d=e.width,f=e.height,p=[d/((r=r||d)/(d>f?1:f/d))*o,f/(r/(d>f?d/f:1))*o],m=[d/2-(o>1?h[0]*d/(1/((o-1)/2)):0),f/2-(o>1?h[1]*f/(1/((o-1)/2)):0)];e.current_time=l,e.getChildren().forEach((e=>{var t,r;!1===(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.visible)||c&&!0===(null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.disableGhost)||e.generate(l,!0)}));const g=[];return e.stream((({lineWidth:e,strokeColor:t,fillColor:r,shape:n,buffer:s,frame_length:a,frame_buffer_index:o})=>{var h,l;if(0==(null===(h=null==n?void 0:n.data)||void 0===h?void 0:h.visible)||c&&1==(null===(l=null==n?void 0:n.data)||void 0===l?void 0:l.disableGhost))return;const _=[];for(let e=0;e<a;e+=2){const t=(s[o+e]-d/2)*p[0]+m[0],r=(s[o+e+1]-f/2)*p[1]+m[1];_.push(t.toFixed(i)+" "+r.toFixed(i))}if(r&&c){const e=/\((.+),(.+),(.+),(.+)\)/g.exec(r);if(e){let[,t,i,n,s]=e;const a=s?parseFloat(s):1,o=a<=0?0:a*u;r=r.indexOf("rgb")>=0?`rgba(${t},${i},${n},${o})`:`hsla(${t},${i},${n},${o})`}}if(t&&e&&c){const r=/\((.+),(.+),(.+),(.+)\)/g.exec(t);if(r){let[,e,i,n,s]=r;const a=s?parseFloat(s):1,o=a<=0?0:a*u;t=t.indexOf("rgb")>=0?`rgba(${e},${i},${n},${o})`:`hsla(${e},${i},${n},${o})`}e*=u}g.push(`<path fill="${r||"none"}" ${t?`stroke="${t}"`:""} ${e?`stroke-width="${e}"`:""} d="M${_.join(" L")} ${n&&n.isClosed()?"Z":""}" />`)})),g}}const P=E},6958:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _scene_utilities_ScenePropUtilities__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1485),_Simple__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4471);const Animation={composeAnimation:(drawer,prop_name,animation)=>{switch(animation.type){case"simple":{const e=Object.assign({},animation.value);return e.from=_scene_utilities_ScenePropUtilities__WEBPACK_IMPORTED_MODULE_0__.Z.getTransformedValue(drawer,prop_name,e.from),e.to=_scene_utilities_ScenePropUtilities__WEBPACK_IMPORTED_MODULE_0__.Z.getTransformedValue(drawer,prop_name,e.to),_Simple__WEBPACK_IMPORTED_MODULE_1__.Z.compose(e)}case"raw":{const rawValue=animation.value;return eval(rawValue.raw)}}}},__WEBPACK_DEFAULT_EXPORT__=Animation},4471:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var i=r(4598);const n={linear:(e,t,r,i)=>r*e/i+t,quadraticIn:(e,t,r,i)=>r*(e/=i)*e+t,quadraticOut:(e,t,r,i)=>-r*(e/=i)*(e-2)+t,quadraticInOut:(e,t,r,i)=>(e/=i/2)<1?r/2*e*e+t:-r/2*(--e*(e-2)-1)+t,cubicIn:(e,t,r,i)=>r*(e/=i)*e*e+t,cubicOut:(e,t,r,i)=>(e/=i,r*(--e*e*e+1)+t),cubicInOut:(e,t,r,i)=>(e/=i/2)<1?r/2*e*e*e+t:r/2*((e-=2)*e*e+2)+t,quarticIn:(e,t,r,i)=>r*(e/=i)*e*e*e+t,quarticOut:(e,t,r,i)=>(e/=i,-r*(--e*e*e*e-1)+t),quarticInOut:(e,t,r,i)=>(e/=i/2)<1?r/2*e*e*e*e+t:-r/2*((e-=2)*e*e*e-2)+t,quinticIn:(e,t,r,i)=>r*(e/=i)*e*e*e*e+t,quinticOut:(e,t,r,i)=>(e/=i,r*(--e*e*e*e*e+1)+t),quinticInOut:(e,t,r,i)=>(e/=i/2)<1?r/2*e*e*e*e*e+t:r/2*((e-=2)*e*e*e*e+2)+t,sinusoidalIn:(e,t,r,i)=>-r*Math.cos(e/i*(Math.PI/2))+r+t,sinusoidalOut:(e,t,r,i)=>r*Math.sin(e/i*(Math.PI/2))+t,sinusoidalInOut:(e,t,r,i)=>-r/2*(Math.cos(Math.PI*e/i)-1)+t,exponentialIn:(e,t,r,i)=>r*Math.pow(2,10*(e/i-1))+t,exponentialOut:(e,t,r,i)=>r*(1-Math.pow(2,-10*e/i))+t,exponentialInOut:(e,t,r,i)=>(e/=i/2)<1?r/2*Math.pow(2,10*(e-1))+t:(e--,r/2*(2-Math.pow(2,-10*e))+t),circularIn:(e,t,r,i)=>(e/=i,-r*(Math.sqrt(1-e*e)-1)+t),circularOut:(e,t,r,i)=>(e/=i,e--,r*Math.sqrt(1-e*e)+t),circularInOut:(e,t,r,i)=>(e/=i/2)<1?-r/2*(Math.sqrt(1-e*e)-1)+t:(e-=2,r/2*(Math.sqrt(1-e*e)+1)+t),elasticIn:function(e,t,r,i,n,s){if(0==e)return t;if(1==(e/=i))return t+r;if(s||(s=.3*i),!n||n<Math.abs(r)){n=r;var a=s/4}else a=s/(2*Math.PI)*Math.asin(r/n);return-n*Math.pow(2,10*(e-=1))*Math.sin((e*i-a)*(2*Math.PI)/s)+t},elasticOut:function(e,t,r,i,n,s){if(0==e)return t;if(1==(e/=i))return t+r;if(s||(s=.3*i),!n||n<Math.abs(r)){n=r;var a=s/4}else a=s/(2*Math.PI)*Math.asin(r/n);return n*Math.pow(2,-10*e)*Math.sin((e*i-a)*(2*Math.PI)/s)+r+t},elasticBoth:function(e,t,r,i,n,s){if(0==e)return t;if(2==(e/=i/2))return t+r;if(s||(s=i*(.3*1.5)),!n||n<Math.abs(r)){n=r;var a=s/4}else a=s/(2*Math.PI)*Math.asin(r/n);return e<1?n*Math.pow(2,10*(e-=1))*Math.sin((e*i-a)*(2*Math.PI)/s)*-.5+t:n*Math.pow(2,-10*(e-=1))*Math.sin((e*i-a)*(2*Math.PI)/s)*.5+r+t},backIn:function(e,t,r,i,n){return void 0===n&&(n=1.70158),r*(e/=i)*e*((n+1)*e-n)+t},backOut:function(e,t,r,i,n){return void 0===n&&(n=1.70158),r*((e=e/i-1)*e*((n+1)*e+n)+1)+t},backBoth:function(e,t,r,i,n){return void 0===n&&(n=1.70158),(e/=i/2)<1?r/2*(e*e*((1+(n*=1.525))*e-n))+t:r/2*((e-=2)*e*((1+(n*=1.525))*e+n)+2)+t},bounceIn:function(e,t,r,i){return r-n.bounceOut(i-e,0,r,i)+t},bounceOut:function(e,t,r,i){return(e/=i)<1/2.75?r*(7.5625*e*e)+t:e<2/2.75?r*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?r*(7.5625*(e-=2.25/2.75)*e+.9375)+t:r*(7.5625*(e-=2.625/2.75)*e+.984375)+t},bounceBoth:function(e,t,r,i){return e<i/2?.5*n.bounceIn(2*e,0,r,i)+t:.5*n.bounceOut(2*e-i,0,r,i)+.5*r+t}},s=n;var a=r(9277);const o={loop:e=>o.compose(Object.assign(Object.assign({mode:"sinusoidal",mode_function:"cos"},e),{type:"loop",delay:void 0})),uncontrolledLoop:e=>o.compose(Object.assign(Object.assign({mode:"easing",mode_function:"linear"},e),{type:"uncontrolled-loop"})),static:e=>o.compose(Object.assign(Object.assign({mode:"easing",mode_function:"linear"},e),{type:"static"})),compose:e=>{if("string"!=typeof e.from&&"string"!=typeof e.to){const t=Array.isArray(e.from)||Array.isArray(e.to),r=t?(0,a.qo)(e.from):e.from,i=t?(0,a.qo)(e.to):e.to,n=t?(t,n)=>{const s=e.invertOdd&&t%2==1?i:r,a=e.invertOdd&&t%2==1?r:i;return"int"===e.type_value?[Math.round(s[0]+n*(a[0]-s[0])),Math.round(s[1]+n*(a[1]-s[1]))]:[s[0]+n*(a[0]-s[0]),s[1]+n*(a[1]-s[1])]}:(t,n)=>{const s=e.invertOdd&&t%2==1?i:r,a=e.invertOdd&&t%2==1?r:i;return"int"===e.type_value?Math.round(s+n*(a-s)):s+n*(a-s)};return h(e,((e,t)=>n(e.repetition.index,t)))}{const t=new i.Z(e.from),r=new i.Z(e.to),n="hue"==e.colorTransitionMode?c:l;return h(e,((i,s)=>{const a=e.invertOdd&&i.repetition.index%2==1?r:t,o=e.invertOdd&&i.repetition.index%2==1?t:r;return n(a,o,s)}))}}};function h(e,t){let{durate:r,type:i,mode:n,mode_function:a,delay:o}=e;return"static"===i?o&&o>0?function(e){return t(e,e.time<=o?0:e.time-o>=r?1:s[a](e.time-o,0,1,r))}:function(e){return t(e,e.time<=r?s[a](e.time,0,1,r):1)}:"loop"===i?"sinusoidal"==n?function(e){const i=2*(e.time||0)*Math.PI/r;return t(e,.5+.5*Math[a](i))}:function(e){const i=r/2,n=e.time%r;return t(e,n<=i?s[a](n,0,1,i):s[a](i-(n-i),0,1,i))}:"sinusoidal"==n?function(e){let i=e.time%(r+o);i=i<=o?0:i-o;const n=2*(i||0)*Math.PI/r;return t(e,.5+.5*Math[a](n))}:o&&o>0?function(e){const i=e.time%(r+o);return t(e,i<=o?0:i-o>=r?1:s[a](i-o,0,1,r))}:function(e){const i=e.time%r;return t(e,i<=r?s[a](i,0,1,r):1)}}function l(e,t,r){const i=e.getAlpha(),n=t.getAlpha(),s=e.getRgb(),a=t.getRgb(),o=s.r+r*(a.r-s.r),h=s.g+r*(a.g-s.g),l=s.b+r*(a.b-s.b),c=i+r*(n-i);return`rgba(${Math.floor(o)},${Math.floor(h)},${Math.floor(l)},${c<=0?0:c>=1?1:c})`}function c(e,t,r){const i=e.getAlpha(),n=t.getAlpha(),s=e.getHsl(),a=t.getHsl(),o=s.h+r*(a.h-s.h),h=s.s+r*(a.s-s.s),l=s.l+r*(a.l-s.l),c=i+r*(n-i);return`hsla(${Math.floor(360*o)},${Math.floor(100*h)}%,${Math.floor(100*l)}%,${c<=0?0:c>=1?1:c})`}const u=o},1710:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var i=r(817),n=r(7131);class s extends n.Z{constructor(){super(),this.sequence={start:0,end:6e4,durate:6e4,framerate:60,frames:360},this.fps=this.sequence.framerate,this.fps_samples_size=30,this.fps_samples=[],this.fps_samples_index=0,this.b_sequence_started=!1,this.current_frame=-1,this.last_tick=0,this.accumulator=0,this.calculateTickAndSequence()}getSequence(){return Object.assign({},this.sequence)}setSequence(e,t,r){this.sequence.start=e,this.sequence.end=t,this.sequence.framerate=r,this.calculateTickAndSequence(),this.dispatch("timeline:update_sequence",this.getSequence())}getFramerate(){return this.sequence.framerate}setFramerate(e){this.sequence.framerate=e,this.calculateTickAndSequence(),this.dispatch("timeline:update_sequence",this.getSequence())}calculateTickAndSequence(){this.tick_time=1e3/this.sequence.framerate,this.sequence.frames=Math.floor((this.sequence.end-this.sequence.start)/1e3*this.sequence.framerate),this.sequence.durate=this.sequence.end-this.sequence.start}getSequenceStartTime(){return this.sequence.start}setSequenceStartTime(e){this.sequence.start=e,this.calculateTickAndSequence(),this.dispatch("timeline:update_sequence",this.getSequence())}getSequenceEndTime(){return this.sequence.end}setSequenceEndTime(e){this.sequence.end=e,this.calculateTickAndSequence(),this.dispatch("timeline:update_sequence",this.getSequence())}getSequenceDuration(){return this.sequence.end-this.sequence.start}getFramesCount(){return this.sequence.frames}start(){this.b_sequence_started||(this.b_sequence_started=!0,this.last_tick=0,this.accumulator=0,this.dispatch("timeline:change_status",s.START))}pause(){this.b_sequence_started&&(this.b_sequence_started=!1,this.dispatch("timeline:change_status",s.PAUSE))}stop(){(1!=this.current_frame||this.b_sequence_started)&&(this.b_sequence_started=!1,this.current_frame=-1,this.dispatch("timeline:progress",{current_frame:this.current_frame,current_time:0,fps:this.fps}),this.dispatch("timeline:change_status",s.STOP))}tick(e){if(this.b_sequence_started){const t=e,r=t-this.last_tick;if(this.accumulator+=r,this.accumulator>=this.tick_time){const e=(t-this.last_tick)/1e3;return this.calculateFPS(1/e),this.last_tick=t,this.current_frame=this.getFrameAtTime(this.last_tick),this.accumulator-=this.tick_time,this.dispatch("timeline:progress",{current_frame:this.current_frame,current_time:this.last_tick,fps:this.fps}),!0}}return!1}calculateFPS(e){const t=this.fps_samples.length;if(t>0){let e=0;for(let r=0;r<t;r++)e+=this.fps_samples[r];this.fps=Math.round(e/t)}this.fps_samples[this.fps_samples_index]=Math.round(e),this.fps_samples_index=(this.fps_samples_index+1)%this.fps_samples_size}bSequenceStarted(){return this.b_sequence_started}getCurrentFrame(){return this.current_frame}getFrameTime(e){return e=e<0?this.sequence.frames-e%this.sequence.frames:e%this.sequence.frames,(this.sequence.start+e*this.tick_time)%this.sequence.end}getFrameAtTime(e){return Math.round((this.sequence.start+e)%this.sequence.end/this.tick_time)}setFrame(e){this.current_frame=e-1}getTickTime(){return this.tick_time}getTime(){return(this.sequence.start+(this.current_frame<=0?0:this.current_frame)*this.tick_time)%this.sequence.end}setTime(e){e=e<=this.sequence.start?this.sequence.start:e>=this.sequence.end?this.sequence.end:e,this.current_frame=Math.floor(e/this.tick_time)-1,this.dispatch("timeline:progress",{current_frame:this.current_frame,current_time:e,fps:this.fps})}}s.START="start",s.PAUSE="pause",s.STOP="stop";const a=s;var o=r(4559);var h=r(9277),l=r(1437);class c extends n.Z{constructor(e,t,r={},i,n=0,s=!1){var o,h,l,c,u,d,f;if(super(),this.bBuffering=!1,this.timeline=new a,this.resolution=n||(e&&e.width?e.width:0),this.ratio=i||(e&&e.width&&e.height?e.width/e.height:1),this.bBuffering=s,this.buffer=new class{constructor(){this.frames={}}exist(e){return e in this.frames}get(e){return this.exist(e)?this.frames[e]:null}count(){return Object.keys(this.frames).length}push(e,t){this.frames[e]=t.getImageData(0,0,t.canvas.width,t.canvas.height)}flush(){this.frames={}}getRenderedFrames(){return Object.keys(this.frames).map((e=>+e))}},e){const t=this.ratio>=1?e.width:e.width*this.ratio,r=this.ratio>=1?e.height/this.ratio:e.height;e.resize(t,r),this.setScene(e)}if("undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas){const e=t;this.setCanvas(e)}else if(t){const e=document.createElement("canvas");t.appendChild(e),this.setCanvas(e)}this.drawOptions={scale:null!==(o=r.scale)&&void 0!==o?o:1,translate:null!==(h=r.translate)&&void 0!==h?h:[0,0],time:null!==(l=r.time)&&void 0!==l?l:0,simmetricLine:null!==(c=r.simmetricLine)&&void 0!==c?c:0,clearCanvas:null===(u=r.clearCanvas)||void 0===u||u,fixedLineWidth:null!==(d=r.fixedLineWidth)&&void 0!==d&&d,noBackground:null!==(f=r.noBackground)&&void 0!==f&&f,ghosts:r.ghosts||0,ghost_skip_time:r.ghost_skip_time||0,ghost_skip_function:r.ghost_skip_function,backgroundImage:r.backgroundImage},this.draw_id=null,this.redraw_id=null,this.animation_id=null,this.draw=this.draw.bind(this),this.animate=this.animate.bind(this),this.startAnimation=this.startAnimation.bind(this)}setBuffering(e){this.bBuffering=e,this.flushBuffer()}getBBuffering(){return this.bBuffering}setScene(e){this.scene=e,!this.resolution&&this.scene.width&&(this.resolution=this.scene.width),this.canvas&&this.setCanvas(this.canvas)}getScene(){return this.scene}getTimeline(){return this.timeline}setCanvas(e){let t;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)if("undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement)t=e;else{for(t=this.canvas||document.createElement("canvas");e.lastChild;)e.removeChild(e.lastChild);e.appendChild(t)}else t=e;this.canvas=t,this.context=this.canvas.getContext("2d",{alpha:!0,desynchronized:!1}),this.scene&&this.resize(this.scene.width,this.scene.height)}getCanvas(){return this.canvas}getContext(){return this.context}resize(e,t,r,n){r=r||this.ratio||e/t;const s=Math.max(e,t);e=r>=1?s:s*r,t=r>=1?s/r:s,this.ratio=r,this.scene&&this.scene.resize(e,t),this.canvas&&(this.canvas.width=1*e,this.canvas.height=1*t,"undefined"!=typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement&&(this.canvas.style.width=e+"px",this.canvas.style.height=t+"px")),n&&n!=this.resolution&&this.scene&&(this.resolution=n,i.Z.walk((e=>{const t=e.data.props;Object.keys(t).forEach((r=>{o.Z.setProp(e,r,t[r],this)}))}),this.scene)),this.flushBuffer(),this.dispatch("drawer-canvas:resize")}flushBuffer(){this.bBuffering&&(this.buffer.flush(),this.dispatch("drawer-canvas:buffer_flush"))}getRenderedFrames(){return this.bBuffering?this.buffer.getRenderedFrames():[]}setRatio(e){this.resize(this.scene.width,this.scene.height,e)}getRatio(){return this.ratio}getResolution(){return this.resolution}setResolution(e){this.resize(this.scene.width,this.scene.height,this.ratio,e)}getValueFromResolution(e){return e*this.resolution/200}getValueFromResolutionScaled(e){return 200*e/this.resolution}setOption(e,t){if("object"==typeof e){const t=Object.keys(e);for(let r=0,i=t.length;r<i;r++)this.drawOptions[t[r]]=e[t[r]]}else this.drawOptions[e]=t;this.flushBuffer()}getOption(e,t){var r;return null!==(r=this.drawOptions[e])&&void 0!==r?r:t}getOptions(){return this.drawOptions}animate(e){this.timeline.bSequenceStarted()&&(this.animation_id=requestAnimationFrame(this.animate),this.timeline.tick(e)&&this.draw())}startAnimation(){this.stopAnimation(),this.timeline.start(),this.animation_id=requestAnimationFrame(this.animate)}stopAnimation(){this.timeline.stop(),this.animation_id&&cancelAnimationFrame(this.animation_id)}pauseAnimation(){this.timeline.pause(),this.animation_id&&cancelAnimationFrame(this.animation_id)}playAnimation(){this.timeline.start(),requestAnimationFrame(this.animate)}draw(){var e,t;let r=0;const i=Object.assign({},this.drawOptions);i.ghost_index=void 0;const n=this.drawOptions.clearCanvas||this.timeline.getCurrentFrame()<=0;i.clearCanvas=this.drawOptions.clearCanvas||this.timeline.getCurrentFrame()<=0,i.time=this.timeline.getTime();const s=this.timeline.getFrameAtTime(i.time);if(this.dispatch("drawer-canvas:before_draw",{current_frame:s,current_time:i.time}),this.bBuffering&&this.buffer.exist(s))null===(e=this.context)||void 0===e||e.putImageData(this.buffer.get(s),0,0);else{if(i.ghosts){const e=Object.assign({},i),s=this.timeline.getTime(),a=this.timeline.getSequenceEndTime();for(let o=1;o<=e.ghosts;o++){const h=s-(i.ghost_skip_function?i.ghost_skip_function(o):o*(null!==(t=i.ghost_skip_time)&&void 0!==t?t:30));e.clearCanvas=n&&1===o,e.ghost_index=o,e.time=h<0?h+a:h>a?h%a:h,r+=c.draw(this.scene,this.context,e,this.resolution)}i.clearCanvas=!1}r+=c.draw(this.scene,this.context,i,this.resolution),this.bBuffering&&this.context&&(this.buffer.push(s,this.context),this.buffer.count()>=this.timeline.getFramesCount()&&this.dispatch("drawer-canvas:buffer_loaded"))}return r}redraw(){this.timeline.bSequenceStarted()?this.drawOptions.clearCanvas||null!=typeof this.drawOptions.ghosts&&0!=this.drawOptions.ghosts||(this.stopAnimation(),this.redraw_id&&cancelAnimationFrame(this.redraw_id),this.redraw_id=requestAnimationFrame(this.startAnimation)):(this.draw_id&&cancelAnimationFrame(this.draw_id),!this.drawOptions.clearCanvas&&(null==typeof this.drawOptions.ghosts||0==this.drawOptions.ghosts)&&this.timeline.stop(),this.draw_id=requestAnimationFrame(this.draw))}static draw(e,t,r,i){var n,s,a,o;const c=(0,h.zO)();if(t){const h=null!==(n=r.scale)&&void 0!==n?n:1,c=null!==(s=r.translate)&&void 0!==s?s:[0,0],u=null!==(a=r.time)&&void 0!==a?a:0,d=null!==(o=r.simmetricLine)&&void 0!==o?o:0,f=r.fixedLineWidth,p=r.clearCanvas,m=r.noBackground,g=r.backgroundImage,_=void 0!==r.ghosts&&r.ghosts>0&&void 0!==r.ghost_index&&r.ghost_index>0,b=_?1-r.ghost_index/(r.ghosts+.5):1,v=e.width,y=e.height,w=[v/((i=i||v)/(v>y?1:y/v))*h,y/(i/(v>y?v/y:1))*h],x=[v/2-(h>1?c[0]*v/(1/((h-1)/2)):0),y/2-(h>1?c[1]*y/(1/((h-1)/2)):0)];if(e.current_time=u,e.getChildren().forEach((e=>{e.data&&!1===e.data.visible&&_&&!0===e.data.disableGhost||e.generate(u,!0)})),p&&(m?t.clearRect(0,0,v,y):(t.fillStyle=e.background,t.fillRect(0,0,v,y),g&&t.drawImage(g,0,0,v,y))),d>0){const r=Math.PI/d,i=Math.max(v,y)/2,n=l.al(i/2,i/2);for(let s=0;s<d;s++){const a=l.al(-i,-i),o=l.al(2*i,2*i),h=s*r+Math.PI/4;l.U1(a,a,n,h),l.U1(o,o,n,h),t.beginPath(),t.strokeStyle=e.mainColor,t.lineWidth=1,t.moveTo((a[0]-i/2)*w[0]+x[0],(a[1]-i/2)*w[1]+x[1]),t.lineTo((o[0]-i/2)*w[0]+x[0],(o[1]-i/2)*w[1]+x[1]),t.stroke()}}let k=!1,S=!1;e.stream((({lineWidth:r,strokeColor:i,fillColor:n,shape:s,buffer:a,frame_length:o,frame_buffer_index:l})=>{if(!s.data||!(!1===s.data.visible||_&&!0===s.data.disableGhost)){t.beginPath(),t.moveTo((a[l]-v/2)*w[0]+x[0],(a[l+1]-y/2)*w[1]+x[1]);for(let e=2;e<o;e+=2)t.lineTo((a[l+e]-v/2)*w[0]+x[0],(a[l+e+1]-y/2)*w[1]+x[1]);if(s&&s.isClosed()&&t.closePath(),s&&s.data&&s.data.highlighted)return t.lineWidth=3*(r||1)*h,t.strokeStyle=e.mainColor,void t.stroke();if(n){if(_){const e=/\((.+),(.+),(.+),(.+)?\)/g.exec(n);if(e){let[,t,r,i,s]=e;const a=s?parseFloat(s):1,o=a<=0?0:a*b;n=n.indexOf("rgb")>=0?`rgba(${t},${r},${i},${o})`:`hsla(${t},${r},${i},${o})`}else k||(console.warn(`[Urpflanze:DrawerCanvas] Unable ghost fill color '${n}', \n\t\t\t\t\t\t\tplease enter a rgba or hsla color`),k=!0)}t.fillStyle=n,t.fill()}if(i&&r){if(_){const e=/\((.+),(.+),(.+),(.+)?\)/g.exec(i);if(e){let[,t,r,n,s]=e;const a=s?parseFloat(s):1,o=a<=0?0:a*b;i=i.indexOf("rgb")>=0?`rgba(${t},${r},${n},${o})`:`hsla(${t},${r},${n},${o})`}else S||(console.warn(`[Urpflanze:DrawerCanvas] Unable ghost stroke color '${n}', \n\t\t\t\t\t\t\tplease enter a rgba or hsla color`),S=!0);r*=b}t.lineWidth=f?r:r*h,t.strokeStyle=i,t.stroke()}}}))}return(0,h.zO)()-c}}const u=c},7131:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});const i=class{constructor(){this.callbacks={}}attach(e,t){e in this.callbacks||(this.callbacks[e]=[]),this.callbacks[e].push(t)}detach(e,t){if(e in this.callbacks){const r=this.callbacks[e].indexOf(t);r>=0&&this.callbacks[e].splice(r,1)}}dispatch(e,t){if(e in this.callbacks)for(let r=0,i=this.callbacks[e].length;r<i&&!1!==this.callbacks[e][r](t);r++);}}},7216:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(1590),n=r(6669);const s={repetitions:{animable:!0,name:"repetitions",label:"Repetitions",type:"range",min:1,max:100,step:1,default:1,default_animate:20,canBArray:!0,transformation:"none",type_value:"int"},distance:{animable:!0,name:"distance",label:"Distance",type:"range",min:-200,max:200,step:1,default:0,canBArray:!0,default_animate:50,transformation:"resolution-based"},displace:{animable:!0,name:"displace",label:"Displace",type:"range",min:-360,max:360,step:1,default:0,default_animate:360,transformation:"angle"},squeezeX:{animable:!0,name:"squeezeX",label:"SqueezeX",type:"range",min:-.2,max:.2,step:.001,default:0,default_animate:.01,transformation:"resolution-scaled-based"},squeezeY:{animable:!0,name:"squeezeY",label:"SqueezeY",type:"range",min:-.2,max:.2,step:.001,default:0,default_animate:.01,transformation:"resolution-scaled-based"},rotateX:{animable:!0,name:"rotateX",label:"RotateX",type:"range",min:-360,max:360,step:1,default:0,default_animate:360,transformation:"angle"},rotateY:{animable:!0,name:"rotateY",label:"RotateY",type:"range",min:-360,max:360,step:1,default:0,default_animate:360,transformation:"angle"},rotateZ:{animable:!0,name:"rotateZ",label:"RotateZ",type:"range",min:-360,max:360,step:1,default:0,default_animate:360,transformation:"angle"},skewX:{animable:!0,name:"skewX",label:"SkewX",type:"range",min:-90,max:90,step:1,default:0,default_animate:1,transformation:"angle"},skewY:{animable:!0,name:"skewY",label:"SkewY",type:"range",min:-90,max:90,step:1,default:0,default_animate:1,transformation:"angle"},translate:{animable:!0,name:"translate",label:"Translate",type:"multiple-range",min:-200,max:200,step:1,default:[0,0],default_animate:0,transformation:"resolution-based"},scale:{animable:!0,name:"scale",label:"Scale",type:"multiple-range",min:-5,max:5,step:.01,default:[1,1],default_animate:3,transformation:"none"},fillColor:{animable:!0,name:"fillColor",label:"Fill",type:"color",default:"#000",default_animate:"#fff",transformation:"none"},strokeColor:{animable:!0,name:"strokeColor",label:"Stroke",type:"color",default:"#fff",default_animate:"#000",transformation:"none"},lineWidth:{animable:!0,name:"lineWidth",label:"Stroke weight",type:"slider",min:0,max:30,step:.1,default:1,default_animate:3,transformation:"none"},bCloseShape:{name:"bCloseShape",label:"Closed",type:"checkbox",default:void 0,transformation:"none"},bUseParent:{name:"bbUseParent",label:"Use parent repetition",type:"checkbox",default:!1,transformation:"none"},adaptMode:{name:"adaptMode",label:"Adapt",type:"radio",options:[{key:"None",value:n._.None},{key:"Scale",value:n._.Scale},{key:"Center",value:n._.Center},{key:"Fill",value:n._.Fill}],default:void 0,transformation:"none"},sideLength:{animable:!0,name:"sideLength",label:"Side Length",type:"multiple-range",min:.1,max:100,step:.1,default:[10,10],default_animate:20,transformation:"resolution-based"},sideNumber:{animable:!0,name:"sideNumber",label:"Side Number",type:"range",min:1,max:20,step:1,default:5,default_animate:2,transformation:"none"},n:{animable:!0,name:"n",label:"n",type:"range",min:1,max:10,step:1,default:1,default_animate:3,transformation:"none"},d:{animable:!0,name:"d",label:"d",type:"range",min:1,max:10,step:1,default:2,default_animate:4,transformation:"none"},wx:{animable:!0,name:"wx",label:"wx",type:"range",min:1,max:10,step:1,default:1,default_animate:3,transformation:"none"},wy:{animable:!0,name:"wy",label:"wy",type:"range",min:1,max:10,step:1,default:2,default_animate:4,transformation:"none"},wz:{animable:!0,name:"wz",label:"wz",type:"range",min:-360,max:360,step:1,default:0,default_animate:360,transformation:"angle"},twists:{animable:!0,name:"twists",label:"Twists",type:"range",min:1,max:60,step:.1,default:1,default_animate:3,transformation:"none"},twists_start:{animable:!0,name:"twists_start",label:"Twists start",type:"range",min:1,max:60,step:.1,default:0,default_animate:1,transformation:"none"},spiral:{name:"spiral",label:"Spiral type",type:"select",options:[{key:"ARCHIMEDE",value:i.Z.types.ARCHIMEDE},{key:"FERMAT",value:i.Z.types.FERMAT},{key:"HYPERBOLIC",value:i.Z.types.HYPERBOLIC},{key:"LITUUS",value:i.Z.types.LITUUS},{key:"LOGARITHMIC",value:i.Z.types.LOGARITHMIC}],default:i.Z.types.ARCHIMEDE,transformation:"none"},"loop.start":{name:"loop.start",label:"start",type:"range",default:void 0,min:0,max:100,step:.01,transformation:"none"},"loop.end":{name:"loop.end",label:"end",type:"range",default:void 0,min:0,max:100,step:.01,transformation:"none"},"loop.inc":{name:"loop.inc",label:"inc",type:"range",default:void 0,min:.01,max:100,step:.01,transformation:"none"}}},1485:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(9277),n=r(7216);class s{static bValueLoop(e){return"object"==typeof e&&"start"in e&&"end"in e&&"inc"in e&&"vertex"in e&&e.vertex.raw&&e.vertex.raw.length>0}static bValueVertexCallback(e){return e&&e.raw&&e.raw.length>0}static composeVertexCallback(e){if(e&&e.raw)return new Function("vertex",s.RAW_ARGUMENTS,"vertex_index","vertex_lenght","return "+e.raw)}static composeLoop(e){const t=e.vertex.raw?new Function("index",s.RAW_ARGUMENTS,"return "+e.vertex.raw):void 0;return{start:e.start,end:e.end,inc:e.inc,vertex:t}}static bValueAnimation(e){return e&&"object"==typeof e&&e.type&&("simple"===e.type||"raw"===e.type)}static bValueDrawer(e){return e&&"object"==typeof e&&e.type&&"drawer-transformation"===e.type}static bPropTransformable(e,t){const r=n.Z[e];return r&&"none"!==r.transformation&&void 0!==t&&"function"!=typeof t&&!s.bValueAnimation(t)}static getValueDrawerTransformationType(e){const t=n.Z[e];return t&&"none"!==t.transformation?t.transformation:null}static getTransformedValue(e,t,r){const a=n.Z[t];if(s.bPropTransformable(t,r)){let t;switch(a.transformation){case"angle":t=i.Yr;break;case"resolution-based":t=e.getValueFromResolution.bind(e);break;case"resolution-scaled-based":t=e.getValueFromResolutionScaled.bind(e)}return t?Array.isArray(r)?[t(r[0]),t(r[1])]:t(r):r}return r}static getTransformedValueInverse(e,t,r){const a=n.Z[t];if(s.bPropTransformable(t,r)){let t;switch(a.transformation){case"angle":t=i.Ux;break;case"resolution-based":t=e.getValueFromResolutionScaled.bind(e);break;case"resolution-scaled-based":t=e.getValueFromResolution.bind(e)}if(t)return Array.isArray(r)?[t(r[0]),t(r[1])]:t(r)}return r}}s.RAW_ARGUMENTS="{ context, repetition, time, shape, shape_loop, data }",s.RAW_ARGUMENTS_WITH_PARENT="{ context, repetition, parent, time, shape, shape_loop, data }";const a=s},4559:(e,t,r)=>{"use strict";r.d(t,{Z:()=>k});var i=r(3639),n=r(9213),s=r(1010),a=r(4068),o=r(178),h=r(7490),l=r(9668),c=r(5589),u=r(1590),d=r(6863),f=r(8227),p=r(6591),m=r(1315),g=r(3969),_=r(817),b=r(5631),v=r(5282),y=r(7216),w=r(1485),x=r(6958);const k=new class{constructor(){this.registeredSceneChilds={},this.registeredSceneChilds={},this.registeredSceneChilds={Line:s.Z,Triangle:a.Z,Rect:o.Z,RegularPolygon:h.Z,Circle:l.Z,Rose:c.Z,Spiral:u.Z,Lissajous:d.Z,Group:b.Z,Shape:f.Z,ShapeLoop:m.Z,ShapeBuffer:g.Z}}getRegistered(){return Object.keys(this.registeredSceneChilds)}register(e,t){e in this.registeredSceneChilds?console.warn(`SceneUtilities: SceneChild "${e}" is already registered`):this.registeredSceneChilds[e]=t}unregister(e){e in this.registeredSceneChilds?delete this.registeredSceneChilds[e]:console.warn(`SceneUtilities: SceneChild "${e}" is not registered`)}create(e,t,r,s){var a;if(r=r||("string"!=typeof e?e.scene:void 0),e instanceof n.Z)return this.getChildren(e).forEach((e=>this.create(e,void 0,r,s))),e;if(e in this.registeredSceneChilds){t||(t={}),t.id=t.id||(0,i.Z)(),!t.name&&r&&(t.name=e+"_"+(this.getCountSceneChildOfType(r,e)+1)),t.data||(t.data={}),"props"in t.data||(t.data.props={}),"visible"in t.data||(t.data.visible=!0),"highlighted"in t.data||(t.data.highlighted=!1),"disableGhost"in t.data||(t.data.disableGhost=!1),"ShapeLoop"===e&&("loop"in t||(t.loop={start:0,end:2*Math.PI,inc:2*Math.PI/20}));const n=new this.registeredSceneChilds[e](t);if(n&&s&&this.isAPrimitive(n)){const e=null===(a=y.Z.sideLength)||void 0===a?void 0:a.default;n.setProp("sideLength",w.Z.getTransformedValue(s,"sideLength",e)),n.data.props.sideLength=e}return this.getChildren(n).forEach((e=>this.create(e))),n}return console.warn(`SceneUtilities: Creation failed. SceneChild "${e}" is not registered`),null}getCountSceneChildOfType(e,t){let r=0;return _.Z.walk((e=>{r+=e.type==t?1:0}),e),r}copy(e,t,r,i=!1){const n=e.getProps();e instanceof v.Z&&(n.bUseParent=e.bUseParent),e instanceof g.Z&&(n.shape=e.shape),e instanceof p.Z&&(n.bCloseShape=e.bCloseShape,n.adaptMode=e.adaptMode,n.vertexCallback=e.vertexCallback),e instanceof m.Z&&(n.shapeLoopPropsDependencies=e.shapeLoopPropsDependencies),e instanceof m.Z&&(n.shapeLoopPropsDependencies=e.shapeLoopPropsDependencies),i&&(n.id=e.id,n.name=e.name,n.order=e.order,n.data=JSON.parse(JSON.stringify(e.data||{})));const s=this.create(e.type,n,t,r);if(s){if(e instanceof b.Z)e.getChildren().forEach((e=>{const i=this.copy(e,t,r);i&&s.add(i)}));else if(e instanceof f.Z&&e.shape){const i=e.shape instanceof Float32Array?e.shape:this.copy(e.shape,t,r);i&&(s.shape=i)}else e instanceof g.Z&&e.shape&&s.setShape(new Float32Array(e.shape));return s}return console.warn("SceneUtilities: Copy failed.",e),null}add(e,t,r,i){let n=null;if(e instanceof b.Z||e instanceof _.Z)n=this.create(t,r,i),n&&e.add(n);else if(e instanceof f.Z)if(null==e.shape)n=this.create(t,r,i),n&&e.setShape(n);else if(e.shape instanceof v.Z){if(n=this.create(t,r,i),n){const t=this.create("Group",void 0,i),r=e.shape;this.remove(e,r),e.setShape(t),t.add(r),t.add(n)}}else e.shape instanceof b.Z&&this.add(e.shape,t,void 0,i);return n}remove(e,t){if(t)e instanceof b.Z?e.removeFromId(t.id):e instanceof f.Z&&e.setShape(void 0);else if(e.scene){const t=this.getParent(e);t?this.remove(t,e):e.scene.removeFromId(e.id)}else console.warn("SceneUtilities: Remove failed. SceneChild is not added into scene",e)}getRootParent(e){const t=this.getParents(e);return t.length>0?t[0]:null}getParent(e){const t=this.getParents(e);return t.length>0?t[t.length-1]:null}getParents(e){return e&&e.scene?e.scene.getParentsOfSceneChild(e):[]}getChildren(e){return e instanceof b.Z?e.getChildren():e instanceof f.Z&&e.shape?[e.shape]:[]}getChildrenPrimitives(e){let t=[];const r=this.getChildren(e);for(let e=0,i=r.length;e<i;e++)r[e]instanceof p.Z?t.push(r[e]):t=t.concat(...this.getChildrenPrimitives(r[e]));return t}getNeighbors(e){if(e.scene){const t=this.getParent(e);return null==t?e.scene.getChildren():this.getChildren(t)}return[]}getCountOfSceneChildType(e,t){let r=0;return _.Z.walk((e=>{r+=e.type==t?1:0}),e),r}walk(e,t){t(e),this.getChildren(e).forEach((e=>t(e)))}isGroup(e){return e instanceof b.Z}hasShapeChild(e){return e instanceof f.Z&&void 0!==e.shape}hasShapeBuffer(e){return e instanceof g.Z}isAPrimitive(e){return e instanceof p.Z}hasLoop(e){return e instanceof m.Z}setProp(e,t,r,i){if(w.Z.bValueAnimation(r))return e.data.props[t]=r,void e.setProp(t,x.Z.composeAnimation(i,t,r));if("loop"!==t)if("vertexCallback"!==t)if(w.Z.bPropTransformable(t,r))w.Z.bValueDrawer(r)?(e.data.props[t]=r,e.setProp(t,w.Z.getTransformedValue(i,t,r.value))):e.setProp(t,r);else switch(t in y.Z&&"none"!==y.Z[t].transformation&&(e.data.props[t]=r),t){case"bUseParent":e instanceof v.Z&&(e.bUseParent=r);break;case"bCloseShape":e.setClosed(r);break;case"bAdaptBuffer":e.adapt(r);break;default:if(t.indexOf(".")>0){const i=t.split(".");e.setProp({[i[0]]:{[i[1]]:r}})}else e.setProp(t,r)}else e instanceof v.Z&&w.Z.bValueVertexCallback(r)&&(e.data.props.vertexCallback=r,e.vertexCallback=w.Z.composeVertexCallback(r),e.bUseParent=!0,e.clearBuffer(!0,!0));else if(e instanceof m.Z&&w.Z.bValueLoop(r)){e.data.props.loop=r,e.setProp("loop",w.Z.composeLoop(r));const t=r.dynamyc;if(t!==e.shapeLoopPropsDependencies.indexOf("prop_argumens")>=0){const r=[...e.shapeLoopPropsDependencies];t?!(r.indexOf("prop_argumens")>=0)&&r.push("prop_arguments"):r.indexOf("prop_argumens")>=0&&r.splice(r.indexOf("prop_arguments",1)),e.shapeLoopPropsDependencies=r}e.clearBuffer(!0,!0)}}}},6090:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{static rgbToHex(e){return`#${r.toHex(e.r)}${r.toHex(e.g)}${r.toHex(e.b)}`}static toHex(e){const t=e.toString(16);return 2==t.length?t:"0"+t}static hexToRgb(e){return e="string"==typeof e?e.match(/[a-zA-Z0-9]{2}/gi):e,{r:r.hexToDec(e[0]),g:r.hexToDec(e[1]),b:r.hexToDec(e[2])}}static hexToDec(e){return parseInt(r.fill2(e),16)}static fill2(e){return 1==e.length?e+e:e}static rgbToHsl(e){let t=e.r/255,r=e.g/255,i=e.b/255;const n=Math.max(t,r,i),s=Math.min(t,r,i);let a,o,h=(n+s)/2;if(n==s)a=o=0;else{const e=n-s;switch(o=h>.5?e/(2-n-s):e/(n+s),n){case t:a=(r-i)/e+(r<i?6:0);break;case r:a=(i-t)/e+2;break;case i:a=(t-r)/e+4}a/=6}return{h:a,s:o,l:h}}static hslToRgb(e){let t,r,i,n=e.h,s=e.s,a=e.l;if(0==s)t=r=i=a;else{const e=(e,t,r)=>(r+=r<0?1:r>1?-1:0)<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e,o=a<.5?a*(1+s):a+s-a*s,h=2*a-o;t=e(h,o,n+1/3),r=e(h,o,n),i=e(h,o,n-1/3)}return{r:Math.round(255*t),g:Math.round(255*r),b:Math.round(255*i)}}static rgbToHsv(e){let t=e.r/255,r=e.g/255,i=e.b/255;const n=Math.max(t,r,i),s=Math.min(t,r,i);let a,o,h=n;const l=n-s;if(o=0==n?0:l/n,n==s)a=0;else{switch(n){case t:a=(r-i)/l+(r<i?6:0);break;case r:a=(i-t)/l+2;break;case i:a=(t-r)/l+4}a/=6}return{h:a,s:o,v:h}}static hsvToRgb(e){let t,r,i,n=e.h,s=e.s,a=e.v;const o=Math.floor(6*n),h=6*n-o,l=a*(1-s),c=a*(1-h*s),u=a*(1-(1-h)*s);switch(o%6){case 0:t=a,r=u,i=l;break;case 1:t=c,r=a,i=l;break;case 2:t=l,r=a,i=u;break;case 3:t=l,r=c,i=a;break;case 4:t=u,r=l,i=a;break;case 5:t=a,r=l,i=c}return{r:Math.round(255*t),g:Math.round(255*r),b:Math.round(255*i)}}static rgbToCmyk(e){let t=e.r/255,r=e.g/255,i=e.b/255,n={k:null,c:null,m:null,y:null};return n.k=+(1-Math.max.call(null,t,r,i)),n.c=+(1-t-n.k)/(1-n.k),n.m=+(1-r-n.k)/(1-n.k),n.y=+(1-i-n.k)/(1-n.k),n}static cmykToRgb(e){return{r:255*(1-e.c)*(1-e.k),g:255*(1-e.m)*(1-e.k),b:255*(1-e.y)*(1-e.k)}}}t.default=r},9145:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r extends Error{constructor(e,t){super(`Il colore '${e}' non è valido.\nI formati supportati sono: ${t.map((e=>e.type)).join(", ")}`)}}t.ColorNotValidException=r;class i extends Error{constructor(e){super(`Impossibile convertire il colore '${e}'`)}}t.ColorParsingException=i},4598:(e,t,r)=>{"use strict";const i=r(100),n=r(1631),s=r(3493),a=r(6090);t.Z=class{constructor(e){const t=s.default.parse(e);this.rgb=this.getRgbFromMath(t),this.hsl=a.default.rgbToHsl(this.rgb),this.hsv=a.default.rgbToHsv(this.rgb),this.hex=a.default.rgbToHex(this.rgb),this.cmyk=a.default.rgbToCmyk(this.rgb),this.setAlpha(["rgba","hsla","hsva"].indexOf(t.type)>=0&&t.value.length>=3?t.value[3]:1)}setAlpha(e){this.alpha=e,this.alpha=this.alpha>1?this.alpha/255:this.alpha}getAlpha(){return this.alpha}getRgbFromMath(e){switch(e.type){case"rgb":case"rgba":const t=n.toFloat(e.value);return{r:t[0],g:t[1],b:t[2]};case"hsl":case"hsla":const r=n.toFloat(e.value);return a.default.hslToRgb({h:r[0],s:r[1],l:r[2]});case"hsv":case"hsva":const i=n.toFloat(e.value);return a.default.hsvToRgb({h:i[0],s:i[1],v:i[2]});case"cmyk":const s=n.toFloat(e.value);return a.default.cmykToRgb({c:s[0],m:s[1],y:s[2],k:s[3]});case"hex3":case"hex4":case"hex6":case"hex8":return a.default.hexToRgb(e.value)}}getRgb(){return Object.assign({},this.rgb)}getHsl(){return Object.assign({},this.hsl)}getHsv(){return Object.assign({},this.hsv)}getCmyk(){return Object.assign({},this.cmyk)}toString(e,t,r,i,n=!1,s=!1){const a=s?"%":"";return`${e+(n?"a":"")}(${Math.round(t)}, ${Math.round(r)+a}, ${Math.round(i)+a}${n?", "+this.alpha:""})`}toRGB(e=!1){return this.toString("rgb",this.rgb.r,this.rgb.g,this.rgb.b,e,!1)}toHSL(e=!1){return this.toString.call(this,"hsl",i.relativeClamp(this.hsl.h,0,1,0,360),100*this.hsl.s,100*this.hsl.l,e,!0)}toHSV(e=!1){return this.toString.call(this,"hsv",i.relativeClamp(this.hsv.h,0,1,0,360),100*this.hsv.s,100*this.hsv.v,e,!0)}toCMYK(){return`cmyk(${i.fix(100*this.cmyk.c,2)}%, ${i.fix(100*this.cmyk.m,2)}%, ${i.fix(100*this.cmyk.y,2)}%, ${i.fix(100*this.cmyk.k,2)}%)`}toHEX(){return this.hex}toRGBA(){return this.toRGB(!0)}toHSLA(){return this.toHSL(!0)}toHSVA(){return this.toHSV(!0)}}},3493:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(9145),n=r(1631),s=r(100);class a{static parse(e){return"string"==typeof e?a.fromString(e):a.fromObject(e)}static fromString(e){let t,r=null;for(let i=a.MATCHES.length-1;i>=0;i--)(t=a.MATCHES[i].regexp.exec(e))&&(r={type:a.MATCHES[i].type,value:t.slice(1)});if(!r)throw new i.ColorNotValidException(e,a.MATCHES);if(-1!=r.type.indexOf("hex"))return r;r.value=n.toFloat(r.value);const s="string"==typeof a.MATCH_VALUES[r.type]?a.MATCH_VALUES[a.MATCH_VALUES[r.type]]:a.MATCH_VALUES[r.type];for(let e in s.possibilities)if(a.isFromZeroTo(r.value,s.possibilities[e]))return s.possibilities[e]!=s.want&&(r.value=a.scaleToFromZeroTo(r.value,s.possibilities[e],s.want)),r;throw new i.ColorParsingException(e)}static fromObject(e){if("r"in e)return{type:"rgba",value:[e.r,e.g,e.b,e.a]};if("l"in e)return{type:"hsla",value:[e.h,e.s,e.l,e.a]};if("v"in e)return{type:"hsva",value:[e.h,e.s,e.v,e.a]};if("c"in e)return{type:"cmyk",value:[e.c,e.m,e.y,e.k]};throw new i.ColorParsingException(JSON.stringify(e))}static isFromZeroToOne(e){for(let t in e)if(e[t]>1)return!1;return!0}static isFromZeroTo(e,t){if((Array.isArray(t)&&t!=a.ZERO_TO_ONE||!Array.isArray(t)&&1==t)&&a.isFromZeroToOne(e))return!1;for(let r in e)if(e[r]>(Array.isArray(t)?t[r]:t))return!1;return!0}static scaleToFromZeroToOne(e,t){if(a.isFromZeroToOne(e))return e;const r=[];for(let i in e)r.push(s.clamp01(e[i]/(Array.isArray(t)?t[i]:t)));return r}static scaleToFromZeroTo(e,t,r){const i=[];for(let n in e)i.push(s.clamp(0,Array.isArray(r)?r[n]:r,e[n]/(Array.isArray(t)?t[n]:t)*(Array.isArray(r)?r[n]:r)));return i}}a.CSS_INTEGER="[-\\+]?\\d+%?",a.CSS_NUMBER="[-\\+]?\\d*\\.\\d+%?",a.CSS_UNIT="(?:"+a.CSS_NUMBER+")|(?:"+a.CSS_INTEGER+")",a.PERMISSIVE_MATCH3="[\\s|\\(]+("+a.CSS_UNIT+")[,|\\s]+("+a.CSS_UNIT+")[,|\\s]+("+a.CSS_UNIT+")\\s*\\)?",a.PERMISSIVE_MATCH4="[\\s|\\(]+("+a.CSS_UNIT+")[,|\\s]+("+a.CSS_UNIT+")[,|\\s]+("+a.CSS_UNIT+")[,|\\s]+("+a.CSS_UNIT+")\\s*\\)?",a.ZERO_TO_ONE=[1,1,1,1],a.ZERO_TO_255=[255,255,255,1],a.MATCH_VALUES={rgb:{possibilities:[a.ZERO_TO_ONE,a.ZERO_TO_255],want:a.ZERO_TO_255},rgba:"rgb",cmyk:{possibilities:[[100,100,100,100],a.ZERO_TO_ONE],want:a.ZERO_TO_ONE},hsl:{possibilities:[[360,100,100,1],a.ZERO_TO_ONE],want:a.ZERO_TO_ONE},hsla:"hsl",hsv:"hsl",hsva:"hsl"},a.MATCHES=[{type:"rgb",regexp:new RegExp("rgb"+a.PERMISSIVE_MATCH3)},{type:"rgba",regexp:new RegExp("rgba"+a.PERMISSIVE_MATCH4)},{type:"hsl",regexp:new RegExp("hsl"+a.PERMISSIVE_MATCH3)},{type:"hsla",regexp:new RegExp("hsla"+a.PERMISSIVE_MATCH4)},{type:"hsv",regexp:new RegExp("hsv"+a.PERMISSIVE_MATCH3)},{type:"hsva",regexp:new RegExp("hsva"+a.PERMISSIVE_MATCH4)},{type:"cmyk",regexp:new RegExp("cmyk"+a.PERMISSIVE_MATCH4)},{type:"hex3",regexp:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/},{type:"hex6",regexp:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/},{type:"hex4",regexp:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/},{type:"hex8",regexp:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}],t.default=a},1631:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(4943),n=r(100);t.toInt=e=>e.map((e=>parseInt(e))),t.toFloat=e=>e.map((e=>parseFloat(e))),t.hasObjectProperty=(e,r,i)=>t.indexOfObjectProperty(e,r,i)>=0,t.indexOfObjectProperty=(e,t,r)=>{for(let n=e.length-1;n>=0;n--)if("function"==typeof r?r(i.getProperty(e[n],t,"Nil"),e[n]):i.getProperty(e[n],t)===r)return n;return-1},t.intersect=(e,t)=>{var r=0,i=0;const n=new Array;for(;r<e.length&&i<t.length;)e[r]<t[i]?r++:(e[r]>t[i]||(n.push(e[r]),r++),i++);return n},t.nextElement=(e,t)=>e[n.nextNumber(t,e.length)],t.prevElement=(e,t)=>e[n.prevNumber(t,e.length)],t.randomElement=e=>e[n.randomInt(0,e.length-1)]},100:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=0;t.newId=(e=0)=>++r+e,t.twoDigits=e=>(e<=9?"0":"")+e,t.clamp01=e=>t.clamp(0,1,e),t.clamp=(e,t,r)=>r<=e?e:r>=t?t:r,t.relativeClamp=(e,r,i,n,s)=>t.clamp(n,s,(e-r)/(i-r)*(s-n)+n),t.fix=(e,t=20)=>+parseFloat(e).toFixed(t),t.nextNumber=(e,t,r=1)=>(e+r)%t,t.prevNumber=(e,t,r=1)=>((e-=r)<0?e+t:e)%t,t.randomFloat=(e,t)=>Math.random()*(t-e)+e,t.randomInt=(e,t)=>Math.trunc(Math.random()*(t-e+1))+e,t.lerp=(e,r,i)=>e+(r-e)*t.clamp01(i),t.round=e=>~~(e+.5)},4943:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDef=e=>void 0!==e,t.isUndef=e=>!t.isDef(e),t.isEqual=(e,r)=>{if("object"!=typeof e||null===e||null===r)return e===r;{const i=Object.keys(e);for(let n=0,s=i.length;n<s;n++)if(void 0===r[i[n]]||!t.isEqual(e[i[n]],r[i[n]]))return!1}return!0},t.map=(e,t)=>(Object.keys(e).forEach(((r,i)=>{e[r]=t(e[r],r,i)})),e),t.each=(e,t)=>{Object.keys(e).forEach(((r,i)=>{t(e[r],r,i)}))},t.hasProperty=(e,t)=>void 0!==this.getProperty(e,t,void 0),t.getProperty=(e,t,r=null)=>{const i=t.split("."),n=i.length;for(let t=0;t<n;t++){const n=i[t],s=parseInt(n);if("*"==n&&Array.isArray(e))return e.map((e=>this.getProperty(e,i.slice(t+1).join("."),r)));if(!isNaN(s)&&Array.isArray(e))return this.getProperty(e[t],i.slice(t+1).join("."),r);if(!e.hasOwnProperty(n))return r;if(void 0===(e=e[n]))return r}return e},t.setProperties=(e,t,r)=>{t.forEach(((t,i)=>{let n=e;const s=t.split("."),a=s.pop();s.forEach((e=>{n=n[e]||{}})),n[a]=Array.isArray(r)?r[i]:"function"==typeof r?r(n[a]):r}))}},9685:(e,t,r)=>{"use strict";r.d(t,{WT:()=>i,ZR:()=>n});var i="undefined"!=typeof Float32Array?Float32Array:Array;function n(e){i=e}Math.random,Math.PI,Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)})},1437:(e,t,r)=>{"use strict";r.d(t,{al:()=>s,TE:()=>a,U1:()=>o});var i,n=r(9685);function s(e,t){var r=new n.WT(2);return r[0]=e,r[1]=t,r}function a(e,t){var r=t[0]-e[0],i=t[1]-e[1];return Math.hypot(r,i)}function o(e,t,r,i){var n=t[0]-r[0],s=t[1]-r[1],a=Math.sin(i),o=Math.cos(i);return e[0]=n*o-s*a+r[0],e[1]=n*a+s*o+r[1],e}i=new n.WT(2),n.WT!=Float32Array&&(i[0]=0,i[1]=0)},5705:(e,t,r)=>{"use strict";var i,n,s=r.g.MutationObserver||r.g.WebKitMutationObserver;if(s){var a=0,o=new s(u),h=r.g.document.createTextNode("");o.observe(h,{characterData:!0}),i=function(){h.data=a=++a%2}}else if(r.g.setImmediate||void 0===r.g.MessageChannel)i="document"in r.g&&"onreadystatechange"in r.g.document.createElement("script")?function(){var e=r.g.document.createElement("script");e.onreadystatechange=function(){u(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},r.g.document.documentElement.appendChild(e)}:function(){setTimeout(u,0)};else{var l=new r.g.MessageChannel;l.port1.onmessage=u,i=function(){l.port2.postMessage(0)}}var c=[];function u(){var e,t;n=!0;for(var r=c.length;r;){for(t=c,c=[],e=-1;++e<r;)t[e]();r=c.length}n=!1}e.exports=function(e){1!==c.push(e)||n||i()}},8458:(e,t,r)=>{"use strict";var i=r(8910),n=r(3790),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.encode=function(e){for(var t,r,n,a,o,h,l,c=[],u=0,d=e.length,f=d,p="string"!==i.getTypeOf(e);u<e.length;)f=d-u,p?(t=e[u++],r=u<d?e[u++]:0,n=u<d?e[u++]:0):(t=e.charCodeAt(u++),r=u<d?e.charCodeAt(u++):0,n=u<d?e.charCodeAt(u++):0),a=t>>2,o=(3&t)<<4|r>>4,h=f>1?(15&r)<<2|n>>6:64,l=f>2?63&n:64,c.push(s.charAt(a)+s.charAt(o)+s.charAt(h)+s.charAt(l));return c.join("")},t.decode=function(e){var t,r,i,a,o,h,l=0,c=0,u="data:";if(e.substr(0,u.length)===u)throw new Error("Invalid base64 input, it looks like a data url.");var d,f=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===s.charAt(64)&&f--,e.charAt(e.length-2)===s.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(d=n.uint8array?new Uint8Array(0|f):new Array(0|f);l<e.length;)t=s.indexOf(e.charAt(l++))<<2|(a=s.indexOf(e.charAt(l++)))>>4,r=(15&a)<<4|(o=s.indexOf(e.charAt(l++)))>>2,i=(3&o)<<6|(h=s.indexOf(e.charAt(l++))),d[c++]=t,64!==o&&(d[c++]=r),64!==h&&(d[c++]=i);return d}},7326:(e,t,r)=>{"use strict";var i=r(8565),n=r(5301),s=r(5977),a=r(2541);function o(e,t,r,i,n){this.compressedSize=e,this.uncompressedSize=t,this.crc32=r,this.compression=i,this.compressedContent=n}s=r(5977),o.prototype={getContentWorker:function(){var e=new n(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new n(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},o.createWorkerFrom=function(e,t,r){return e.pipe(new a).pipe(new s("uncompressedSize")).pipe(t.compressWorker(r)).pipe(new s("compressedSize")).withStreamInfo("compression",t)},e.exports=o},1678:(e,t,r)=>{"use strict";var i=r(3718);t.STORE={magic:"\0\0",compressWorker:function(e){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},t.DEFLATE=r(1033)},6988:(e,t,r)=>{"use strict";var i=r(8910),n=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();e.exports=function(e,t){return void 0!==e&&e.length?"string"!==i.getTypeOf(e)?function(e,t,r,i){var s=n,a=0+r;e^=-1;for(var o=0;o<a;o++)e=e>>>8^s[255&(e^t[o])];return-1^e}(0|t,e,e.length):function(e,t,r,i){var s=n,a=0+r;e^=-1;for(var o=0;o<a;o++)e=e>>>8^s[255&(e^t.charCodeAt(o))];return-1^e}(0|t,e,e.length):0}},6032:(e,t)=>{"use strict";t.base64=!1,t.binary=!1,t.dir=!1,t.createFolders=!0,t.date=null,t.compression=null,t.compressionOptions=null,t.comment=null,t.unixPermissions=null,t.dosPermissions=null},8565:(e,t,r)=>{"use strict";var i;i="undefined"!=typeof Promise?Promise:r(3389),e.exports={Promise:i}},1033:(e,t,r)=>{"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,n=r(9591),s=r(8910),a=r(3718),o=i?"uint8array":"array";function h(e,t){a.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}t.magic="\b\0",s.inherits(h,a),h.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(s.transformTo(o,e.data),!1)},h.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new n[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},t.compressWorker=function(e){return new h("Deflate",e)},t.uncompressWorker=function(){return new h("Inflate",{})}},4979:(e,t,r)=>{"use strict";var i=r(8910),n=r(3718),s=r(3600),a=r(6988),o=r(1141),h=function(e,t){var r,i="";for(r=0;r<t;r++)i+=String.fromCharCode(255&e),e>>>=8;return i},l=function(e,t,r,n,l,c){var u,d,f=e.file,p=e.compression,m=c!==s.utf8encode,g=i.transformTo("string",c(f.name)),_=i.transformTo("string",s.utf8encode(f.name)),b=f.comment,v=i.transformTo("string",c(b)),y=i.transformTo("string",s.utf8encode(b)),w=_.length!==f.name.length,x=y.length!==b.length,k="",S="",C="",A=f.dir,E=f.date,P={crc32:0,compressedSize:0,uncompressedSize:0};t&&!r||(P.crc32=e.crc32,P.compressedSize=e.compressedSize,P.uncompressedSize=e.uncompressedSize);var O=0;t&&(O|=8),m||!w&&!x||(O|=2048);var I,T,M=0,R=0;A&&(M|=16),"UNIX"===l?(R=798,M|=(T=I=f.unixPermissions,I||(T=A?16893:33204),(65535&T)<<16)):(R=20,M|=63&(f.dosPermissions||0)),u=E.getUTCHours(),u<<=6,u|=E.getUTCMinutes(),u<<=5,u|=E.getUTCSeconds()/2,d=E.getUTCFullYear()-1980,d<<=4,d|=E.getUTCMonth()+1,d<<=5,d|=E.getUTCDate(),w&&(S=h(1,1)+h(a(g),4)+_,k+="up"+h(S.length,2)+S),x&&(C=h(1,1)+h(a(v),4)+y,k+="uc"+h(C.length,2)+C);var B="";return B+="\n\0",B+=h(O,2),B+=p.magic,B+=h(u,2),B+=h(d,2),B+=h(P.crc32,4),B+=h(P.compressedSize,4),B+=h(P.uncompressedSize,4),B+=h(g.length,2),B+=h(k.length,2),{fileRecord:o.LOCAL_FILE_HEADER+B+g+k,dirRecord:o.CENTRAL_FILE_HEADER+h(R,2)+B+h(v.length,2)+"\0\0\0\0"+h(M,4)+h(n,4)+g+k+v}},c=function(e){return o.DATA_DESCRIPTOR+h(e.crc32,4)+h(e.compressedSize,4)+h(e.uncompressedSize,4)};function u(e,t,r,i){n.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=r,this.encodeFileName=i,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}i.inherits(u,n),u.prototype.push=function(e){var t=e.meta.percent||0,r=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,n.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:r?(t+100*(r-i-1))/r:100}}))},u.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var r=l(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},u.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,r=l(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),t)this.push({data:c(e),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var r=this.bytesWritten-e,n=function(e,t,r,n,s){var a=i.transformTo("string",s(n));return o.CENTRAL_DIRECTORY_END+"\0\0\0\0"+h(e,2)+h(e,2)+h(t,4)+h(r,4)+h(a.length,2)+a}(this.dirRecords.length,r,e,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},u.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(e){var t=this._sources;if(!n.prototype.error.call(this,e))return!1;for(var r=0;r<t.length;r++)try{t[r].error(e)}catch(e){}return!0},u.prototype.lock=function(){n.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},e.exports=u},7834:(e,t,r)=>{"use strict";var i=r(1678),n=r(4979);t.generateWorker=function(e,t,r){var s=new n(t.streamFiles,r,t.platform,t.encodeFileName),a=0;try{e.forEach((function(e,r){a++;var n=function(e,t){var r=e||t,n=i[r];if(!n)throw new Error(r+" is not a valid compression method !");return n}(r.options.compression,t.compression),o=r.options.compressionOptions||t.compressionOptions||{},h=r.dir,l=r.date;r._compressWorker(n,o).withStreamInfo("file",{name:e,dir:h,date:l,comment:r.comment||"",unixPermissions:r.unixPermissions,dosPermissions:r.dosPermissions}).pipe(s)})),s.entriesCount=a}catch(e){s.error(e)}return s}},6085:(e,t,r)=>{"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new i;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}i.prototype=r(7132),i.prototype.loadAsync=r(1062),i.support=r(3790),i.defaults=r(6032),i.version="3.5.0",i.loadAsync=function(e,t){return(new i).loadAsync(e,t)},i.external=r(8565),e.exports=i},1062:(e,t,r)=>{"use strict";var i=r(8910),n=r(8565),s=r(3600),a=(i=r(8910),r(6624)),o=r(2541),h=r(2182);function l(e){return new n.Promise((function(t,r){var i=e.decompressed.getContentWorker().pipe(new o);i.on("error",(function(e){r(e)})).on("end",(function(){i.streamInfo.crc32!==e.decompressed.crc32?r(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}e.exports=function(e,t){var r=this;return t=i.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),h.isNode&&h.isStream(e)?n.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var r=new a(t);return r.load(e),r})).then((function(e){var r=[n.Promise.resolve(e)],i=e.files;if(t.checkCRC32)for(var s=0;s<i.length;s++)r.push(l(i[s]));return n.Promise.all(r)})).then((function(e){for(var i=e.shift(),n=i.files,s=0;s<n.length;s++){var a=n[s];r.file(a.fileNameStr,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:t.createFolders})}return i.zipComment.length&&(r.comment=i.zipComment),r}))}},2182:e=>{"use strict";e.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},660:(e,t,r)=>{"use strict";var i=r(8910),n=r(3718);function s(e,t){n.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}i.inherits(s,n),s.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},s.prototype.pause=function(){return!!n.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=s},1220:(e,t,r)=>{"use strict";var i=r(749).Readable;function n(e,t,r){i.call(this,t),this._helper=e;var n=this;e.on("data",(function(e,t){n.push(e)||n._helper.pause(),r&&r(t)})).on("error",(function(e){n.emit("error",e)})).on("end",(function(){n.push(null)}))}r(8910).inherits(n,i),n.prototype._read=function(){this._helper.resume()},e.exports=n},7132:(e,t,r)=>{"use strict";var i=r(3600),n=r(8910),s=r(3718),a=r(1285),o=r(6032),h=r(7326),l=r(6859),c=r(7834),u=r(2182),d=r(660),f=function(e,t,r){var i,a=n.getTypeOf(t),c=n.extend(r||{},o);c.date=c.date||new Date,null!==c.compression&&(c.compression=c.compression.toUpperCase()),"string"==typeof c.unixPermissions&&(c.unixPermissions=parseInt(c.unixPermissions,8)),c.unixPermissions&&16384&c.unixPermissions&&(c.dir=!0),c.dosPermissions&&16&c.dosPermissions&&(c.dir=!0),c.dir&&(e=m(e)),c.createFolders&&(i=p(e))&&g.call(this,i,!0);var f="string"===a&&!1===c.binary&&!1===c.base64;r&&void 0!==r.binary||(c.binary=!f),(t instanceof h&&0===t.uncompressedSize||c.dir||!t||0===t.length)&&(c.base64=!1,c.binary=!0,t="",c.compression="STORE",a="string");var _;_=t instanceof h||t instanceof s?t:u.isNode&&u.isStream(t)?new d(e,t):n.prepareContent(e,t,c.binary,c.optimizedBinaryString,c.base64);var b=new l(e,_,c);this.files[e]=b},p=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},m=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},g=function(e,t){return t=void 0!==t?t:o.createFolders,e=m(e),this.files[e]||f.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function _(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var b={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,r,i;for(t in this.files)this.files.hasOwnProperty(t)&&(i=this.files[t],(r=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(r,i))},filter:function(e){var t=[];return this.forEach((function(r,i){e(r,i)&&t.push(i)})),t},file:function(e,t,r){if(1===arguments.length){if(_(e)){var i=e;return this.filter((function(e,t){return!t.dir&&i.test(e)}))}var n=this.files[this.root+e];return n&&!n.dir?n:null}return e=this.root+e,f.call(this,e,t,r),this},folder:function(e){if(!e)return this;if(_(e))return this.filter((function(t,r){return r.dir&&e.test(t)}));var t=this.root+e,r=g.call(this,t),i=this.clone();return i.root=r.name,i},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var r=this.filter((function(t,r){return r.name.slice(0,e.length)===e})),i=0;i<r.length;i++)delete this.files[r[i].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,r={};try{if((r=n.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),"binarystring"===r.type&&(r.type="string"),!r.type)throw new Error("No output type specified.");n.checkSupport(r.type),"darwin"!==r.platform&&"freebsd"!==r.platform&&"linux"!==r.platform&&"sunos"!==r.platform||(r.platform="UNIX"),"win32"===r.platform&&(r.platform="DOS");var o=r.comment||this.comment||"";t=c.generateWorker(this,r,o)}catch(e){(t=new s("error")).error(e)}return new a(t,r.type||"string",r.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};e.exports=b},749:(e,t,r)=>{e.exports=r(791)},2370:(e,t,r)=>{"use strict";var i=r(8542);function n(e){i.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}r(8910).inherits(n,i),n.prototype.byteAt=function(e){return this.data[this.zero+e]},n.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),r=e.charCodeAt(1),i=e.charCodeAt(2),n=e.charCodeAt(3),s=this.length-4;s>=0;--s)if(this.data[s]===t&&this.data[s+1]===r&&this.data[s+2]===i&&this.data[s+3]===n)return s-this.zero;return-1},n.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),i=e.charCodeAt(2),n=e.charCodeAt(3),s=this.readData(4);return t===s[0]&&r===s[1]&&i===s[2]&&n===s[3]},n.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=n},8542:(e,t,r)=>{"use strict";var i=r(8910);function n(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}n.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,r=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)r=(r<<8)+this.byteAt(t);return this.index+=e,r},readString:function(e){return i.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},e.exports=n},9583:(e,t,r)=>{"use strict";var i=r(414);function n(e){i.call(this,e)}r(8910).inherits(n,i),n.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=n},9226:(e,t,r)=>{"use strict";var i=r(8542);function n(e){i.call(this,e)}r(8910).inherits(n,i),n.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},n.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},n.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},n.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=n},414:(e,t,r)=>{"use strict";var i=r(2370);function n(e){i.call(this,e)}r(8910).inherits(n,i),n.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=n},8435:(e,t,r)=>{"use strict";var i=r(8910),n=r(3790),s=r(2370),a=r(9226),o=r(9583),h=r(414);e.exports=function(e){var t=i.getTypeOf(e);return i.checkSupport(t),"string"!==t||n.uint8array?"nodebuffer"===t?new o(e):n.uint8array?new h(i.transformTo("uint8array",e)):new s(i.transformTo("array",e)):new a(e)}},1141:(e,t)=>{"use strict";t.LOCAL_FILE_HEADER="PK",t.CENTRAL_FILE_HEADER="PK",t.CENTRAL_DIRECTORY_END="PK",t.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",t.ZIP64_CENTRAL_DIRECTORY_END="PK",t.DATA_DESCRIPTOR="PK\b"},4293:(e,t,r)=>{"use strict";var i=r(3718),n=r(8910);function s(e){i.call(this,"ConvertWorker to "+e),this.destType=e}n.inherits(s,i),s.prototype.processChunk=function(e){this.push({data:n.transformTo(this.destType,e.data),meta:e.meta})},e.exports=s},2541:(e,t,r)=>{"use strict";var i=r(3718),n=r(6988);function s(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r(8910).inherits(s,i),s.prototype.processChunk=function(e){this.streamInfo.crc32=n(e.data,this.streamInfo.crc32||0),this.push(e)},e.exports=s},5977:(e,t,r)=>{"use strict";var i=r(8910),n=r(3718);function s(e){n.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}i.inherits(s,n),s.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}n.prototype.processChunk.call(this,e)},e.exports=s},5301:(e,t,r)=>{"use strict";var i=r(8910),n=r(3718);function s(e){n.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=i.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}i.inherits(s,n),s.prototype.cleanUp=function(){n.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=s},3718:e=>{"use strict";function t(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}t.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var r=0;r<this._listeners[e].length;r++)this._listeners[e][r].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},e.exports=t},1285:(e,t,r)=>{"use strict";var i=r(8910),n=r(4293),s=r(3718),a=r(8458),o=r(3790),h=r(8565),l=null;if(o.nodestream)try{l=r(1220)}catch(e){}function c(e,t,r){var a=t;switch(t){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=t,this._mimeType=r,i.checkSupport(a),this._worker=e.pipe(new n(a)),e.lock()}catch(e){this._worker=new s("error"),this._worker.error(e)}}c.prototype={accumulate:function(e){return t=this,r=e,new h.Promise((function(e,n){var s=[],o=t._internalType,h=t._outputType,l=t._mimeType;t.on("data",(function(e,t){s.push(e),r&&r(t)})).on("error",(function(e){s=[],n(e)})).on("end",(function(){try{var t=function(e,t,r){switch(e){case"blob":return i.newBlob(i.transformTo("arraybuffer",t),r);case"base64":return a.encode(t);default:return i.transformTo(e,t)}}(h,function(e,t){var r,i=0,n=null,s=0;for(r=0;r<t.length;r++)s+=t[r].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(n=new Uint8Array(s),r=0;r<t.length;r++)n.set(t[r],i),i+=t[r].length;return n;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(o,s),l);e(t)}catch(e){n(e)}s=[]})).resume()}));var t,r},on:function(e,t){var r=this;return"data"===e?this._worker.on(e,(function(e){t.call(r,e.data,e.meta)})):this._worker.on(e,(function(){i.delay(t,arguments,r)})),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new l(this,{objectMode:"nodebuffer"!==this._outputType},e)}},e.exports=c},3790:(e,t,r)=>{"use strict";if(t.base64=!0,t.array=!0,t.string=!0,t.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,t.nodebuffer="undefined"!=typeof Buffer,t.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)t.blob=!1;else{var i=new ArrayBuffer(0);try{t.blob=0===new Blob([i],{type:"application/zip"}).size}catch(e){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);n.append(i),t.blob=0===n.getBlob("application/zip").size}catch(e){t.blob=!1}}}try{t.nodestream=!!r(749).Readable}catch(e){t.nodestream=!1}},3600:(e,t,r)=>{"use strict";for(var i=r(8910),n=r(3790),s=r(2182),a=r(3718),o=new Array(256),h=0;h<256;h++)o[h]=h>=252?6:h>=248?5:h>=240?4:h>=224?3:h>=192?2:1;function l(){a.call(this,"utf-8 decode"),this.leftOver=null}function c(){a.call(this,"utf-8 encode")}o[254]=o[254]=1,t.utf8encode=function(e){return n.nodebuffer?s.newBufferFrom(e,"utf-8"):function(e){var t,r,i,s,a,o=e.length,h=0;for(s=0;s<o;s++)55296==(64512&(r=e.charCodeAt(s)))&&s+1<o&&56320==(64512&(i=e.charCodeAt(s+1)))&&(r=65536+(r-55296<<10)+(i-56320),s++),h+=r<128?1:r<2048?2:r<65536?3:4;for(t=n.uint8array?new Uint8Array(h):new Array(h),a=0,s=0;a<h;s++)55296==(64512&(r=e.charCodeAt(s)))&&s+1<o&&56320==(64512&(i=e.charCodeAt(s+1)))&&(r=65536+(r-55296<<10)+(i-56320),s++),r<128?t[a++]=r:r<2048?(t[a++]=192|r>>>6,t[a++]=128|63&r):r<65536?(t[a++]=224|r>>>12,t[a++]=128|r>>>6&63,t[a++]=128|63&r):(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63,t[a++]=128|r>>>6&63,t[a++]=128|63&r);return t}(e)},t.utf8decode=function(e){return n.nodebuffer?i.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,r,n,s,a=e.length,h=new Array(2*a);for(r=0,t=0;t<a;)if((n=e[t++])<128)h[r++]=n;else if((s=o[n])>4)h[r++]=65533,t+=s-1;else{for(n&=2===s?31:3===s?15:7;s>1&&t<a;)n=n<<6|63&e[t++],s--;s>1?h[r++]=65533:n<65536?h[r++]=n:(n-=65536,h[r++]=55296|n>>10&1023,h[r++]=56320|1023&n)}return h.length!==r&&(h.subarray?h=h.subarray(0,r):h.length=r),i.applyFromCharCode(h)}(e=i.transformTo(n.uint8array?"uint8array":"array",e))},i.inherits(l,a),l.prototype.processChunk=function(e){var r=i.transformTo(n.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(n.uint8array){var s=r;(r=new Uint8Array(s.length+this.leftOver.length)).set(this.leftOver,0),r.set(s,this.leftOver.length)}else r=this.leftOver.concat(r);this.leftOver=null}var a=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;r>=0&&128==(192&e[r]);)r--;return r<0||0===r?t:r+o[e[r]]>t?r:t}(r),h=r;a!==r.length&&(n.uint8array?(h=r.subarray(0,a),this.leftOver=r.subarray(a,r.length)):(h=r.slice(0,a),this.leftOver=r.slice(a,r.length))),this.push({data:t.utf8decode(h),meta:e.meta})},l.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:t.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},t.Utf8DecodeWorker=l,i.inherits(c,a),c.prototype.processChunk=function(e){this.push({data:t.utf8encode(e.data),meta:e.meta})},t.Utf8EncodeWorker=c},8910:(e,t,r)=>{"use strict";var i=r(3790),n=r(8458),s=r(2182),a=r(1623),o=r(8565);function h(e){return e}function l(e,t){for(var r=0;r<e.length;++r)t[r]=255&e.charCodeAt(r);return t}t.newBlob=function(e,r){t.checkSupport("blob");try{return new Blob([e],{type:r})}catch(t){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(e),i.getBlob(r)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(e,t,r){var i=[],n=0,s=e.length;if(s<=r)return String.fromCharCode.apply(null,e);for(;n<s;)"array"===t||"nodebuffer"===t?i.push(String.fromCharCode.apply(null,e.slice(n,Math.min(n+r,s)))):i.push(String.fromCharCode.apply(null,e.subarray(n,Math.min(n+r,s)))),n+=r;return i.join("")},stringifyByChar:function(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&1===String.fromCharCode.apply(null,s.allocBuffer(1)).length}catch(e){return!1}}()}};function u(e){var r=65536,i=t.getTypeOf(e),n=!0;if("uint8array"===i?n=c.applyCanBeUsed.uint8array:"nodebuffer"===i&&(n=c.applyCanBeUsed.nodebuffer),n)for(;r>1;)try{return c.stringifyByChunk(e,i,r)}catch(e){r=Math.floor(r/2)}return c.stringifyByChar(e)}function d(e,t){for(var r=0;r<e.length;r++)t[r]=e[r];return t}t.applyFromCharCode=u;var f={};f.string={string:h,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return f.string.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:function(e){return l(e,s.allocBuffer(e.length))}},f.array={string:u,array:h,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return s.newBufferFrom(e)}},f.arraybuffer={string:function(e){return u(new Uint8Array(e))},array:function(e){return d(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:h,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return s.newBufferFrom(new Uint8Array(e))}},f.uint8array={string:u,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:h,nodebuffer:function(e){return s.newBufferFrom(e)}},f.nodebuffer={string:u,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return f.nodebuffer.uint8array(e).buffer},uint8array:function(e){return d(e,new Uint8Array(e.length))},nodebuffer:h},t.transformTo=function(e,r){if(r||(r=""),!e)return r;t.checkSupport(e);var i=t.getTypeOf(r);return f[i][e](r)},t.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":i.nodebuffer&&s.isBuffer(e)?"nodebuffer":i.uint8array&&e instanceof Uint8Array?"uint8array":i.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},t.checkSupport=function(e){if(!i[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(e){var t,r,i="";for(r=0;r<(e||"").length;r++)i+="\\x"+((t=e.charCodeAt(r))<16?"0":"")+t.toString(16).toUpperCase();return i},t.delay=function(e,t,r){a((function(){e.apply(r||null,t||[])}))},t.inherits=function(e,t){var r=function(){};r.prototype=t.prototype,e.prototype=new r},t.extend=function(){var e,t,r={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===r[t]&&(r[t]=arguments[e][t]);return r},t.prepareContent=function(e,r,s,a,h){return o.Promise.resolve(r).then((function(e){return i.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new o.Promise((function(t,r){var i=new FileReader;i.onload=function(e){t(e.target.result)},i.onerror=function(e){r(e.target.error)},i.readAsArrayBuffer(e)})):e})).then((function(r){var c,u=t.getTypeOf(r);return u?("arraybuffer"===u?r=t.transformTo("uint8array",r):"string"===u&&(h?r=n.decode(r):s&&!0!==a&&(r=l(c=r,i.uint8array?new Uint8Array(c.length):new Array(c.length)))),r):o.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},6624:(e,t,r)=>{"use strict";var i=r(8435),n=r(8910),s=r(1141),a=r(9392),o=(r(3600),r(3790));function h(e){this.files=[],this.loadOptions=e}h.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+n.pretty(t)+", expected "+n.pretty(e)+")")}},isSignature:function(e,t){var r=this.reader.index;this.reader.setIndex(e);var i=this.reader.readString(4)===t;return this.reader.setIndex(r),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=o.uint8array?"uint8array":"array",r=n.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,r,i=this.zip64EndOfCentralSize-44;0<i;)e=this.reader.readInt(2),t=this.reader.readInt(4),r=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===n.MAX_VALUE_16BITS||this.diskWithCentralDirStart===n.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===n.MAX_VALUE_16BITS||this.centralDirRecords===n.MAX_VALUE_16BITS||this.centralDirSize===n.MAX_VALUE_32BITS||this.centralDirOffset===n.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var i=t-r;if(i>0)this.isSignature(t,s.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(e){this.reader=i(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=h},9392:(e,t,r)=>{"use strict";var i=r(8435),n=r(8910),s=r(7326),a=r(6988),o=r(3600),h=r(1678),l=r(3790);function c(e,t){this.options=e,this.loadOptions=t}c.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,r;if(e.skip(22),this.fileNameLength=e.readInt(2),r=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in h)if(h.hasOwnProperty(t)&&h[t].magic===e)return h[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+n.pretty(this.compressionMethod)+" unknown (inner file : "+n.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===e&&(this.dosPermissions=63&this.externalFileAttributes),3===e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=i(this.extraFields[1].value);this.uncompressedSize===n.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===n.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===n.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===n.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,r,i,n=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<n;)t=e.readInt(2),r=e.readInt(2),i=e.readData(r),this.extraFields[t]={id:t,length:r,value:i};e.setIndex(n)},handleUTF8:function(){var e=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var r=n.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var s=n.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(s)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=i(e.value);return 1!==t.readInt(1)||a(this.fileName)!==t.readInt(4)?null:o.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=i(e.value);return 1!==t.readInt(1)||a(this.fileComment)!==t.readInt(4)?null:o.utf8decode(t.readData(e.length-5))}return null}},e.exports=c},6859:(e,t,r)=>{"use strict";var i=r(1285),n=r(5301),s=r(3600),a=r(7326),o=r(3718),h=function(e,t,r){this.name=e,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=t,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}};h.prototype={internalStream:function(e){var t=null,r="string";try{if(!e)throw new Error("No output type specified.");var n="string"===(r=e.toLowerCase())||"text"===r;"binarystring"!==r&&"text"!==r||(r="string"),t=this._decompressWorker();var a=!this._dataBinary;a&&!n&&(t=t.pipe(new s.Utf8EncodeWorker)),!a&&n&&(t=t.pipe(new s.Utf8DecodeWorker))}catch(e){(t=new o("error")).error(e)}return new i(t,r,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof a&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new s.Utf8EncodeWorker)),a.createWorkerFrom(r,e,t)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof o?this._data:new n(this._data)}};for(var l=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],c=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},u=0;u<l.length;u++)h.prototype[l[u]]=c;e.exports=h},3389:(e,t,r)=>{"use strict";var i=r(5705);function n(){}var s={},a=["REJECTED"],o=["FULFILLED"],h=["PENDING"];function l(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,e!==n&&f(this,e)}function c(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function u(e,t,r){i((function(){var i;try{i=t(r)}catch(t){return s.reject(e,t)}i===e?s.reject(e,new TypeError("Cannot resolve promise with itself")):s.resolve(e,i)}))}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function f(e,t){var r=!1;function i(t){r||(r=!0,s.reject(e,t))}function n(t){r||(r=!0,s.resolve(e,t))}var a=p((function(){t(n,i)}));"error"===a.status&&i(a.value)}function p(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}e.exports=l,l.prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(r){return t.resolve(e()).then((function(){return r}))}),(function(r){return t.resolve(e()).then((function(){throw r}))}))},l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,t){if("function"!=typeof e&&this.state===o||"function"!=typeof t&&this.state===a)return this;var r=new this.constructor(n);return this.state!==h?u(r,this.state===o?e:t,this.outcome):this.queue.push(new c(r,e,t)),r},c.prototype.callFulfilled=function(e){s.resolve(this.promise,e)},c.prototype.otherCallFulfilled=function(e){u(this.promise,this.onFulfilled,e)},c.prototype.callRejected=function(e){s.reject(this.promise,e)},c.prototype.otherCallRejected=function(e){u(this.promise,this.onRejected,e)},s.resolve=function(e,t){var r=p(d,t);if("error"===r.status)return s.reject(e,r.value);var i=r.value;if(i)f(e,i);else{e.state=o,e.outcome=t;for(var n=-1,a=e.queue.length;++n<a;)e.queue[n].callFulfilled(t)}return e},s.reject=function(e,t){e.state=a,e.outcome=t;for(var r=-1,i=e.queue.length;++r<i;)e.queue[r].callRejected(t);return e},l.resolve=function(e){return e instanceof this?e:s.resolve(new this(n),e)},l.reject=function(e){var t=new this(n);return s.reject(t,e)},l.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,i=!1;if(!r)return this.resolve([]);for(var a=new Array(r),o=0,h=-1,l=new this(n);++h<r;)c(e[h],h);return l;function c(e,n){t.resolve(e).then((function(e){a[n]=e,++o!==r||i||(i=!0,s.resolve(l,a))}),(function(e){i||(i=!0,s.reject(l,e))}))}},l.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,r=!1;if(!t)return this.resolve([]);for(var i,a=-1,o=new this(n);++a<t;)i=e[a],this.resolve(i).then((function(e){r||(r=!0,s.resolve(o,e))}),(function(e){r||(r=!0,s.reject(o,e))}));return o}},9591:(e,t,r)=>{"use strict";var i={};(0,r(4236).assign)(i,r(4555),r(8843),r(1619)),e.exports=i},4555:(e,t,r)=>{"use strict";var i=r(405),n=r(4236),s=r(9373),a=r(8898),o=r(2292),h=Object.prototype.toString;function l(e){if(!(this instanceof l))return new l(e);this.options=n.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var r=i.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==r)throw new Error(a[r]);if(t.header&&i.deflateSetHeader(this.strm,t.header),t.dictionary){var c;if(c="string"==typeof t.dictionary?s.string2buf(t.dictionary):"[object ArrayBuffer]"===h.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(r=i.deflateSetDictionary(this.strm,c)))throw new Error(a[r]);this._dict_set=!0}}function c(e,t){var r=new l(t);if(r.push(e,!0),r.err)throw r.msg||a[r.err];return r.result}l.prototype.push=function(e,t){var r,a,o=this.strm,l=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?o.input=s.string2buf(e):"[object ArrayBuffer]"===h.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new n.Buf8(l),o.next_out=0,o.avail_out=l),1!==(r=i.deflate(o,a))&&0!==r)return this.onEnd(r),this.ended=!0,!1;0!==o.avail_out&&(0!==o.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(s.buf2binstring(n.shrinkBuf(o.output,o.next_out))):this.onData(n.shrinkBuf(o.output,o.next_out)))}while((o.avail_in>0||0===o.avail_out)&&1!==r);return 4===a?(r=i.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,0===r):2!==a||(this.onEnd(0),o.avail_out=0,!0)},l.prototype.onData=function(e){this.chunks.push(e)},l.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=l,t.deflate=c,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,c(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,c(e,t)}},8843:(e,t,r)=>{"use strict";var i=r(7948),n=r(4236),s=r(9373),a=r(1619),o=r(8898),h=r(2292),l=r(2401),c=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=n.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var r=i.inflateInit2(this.strm,t.windowBits);if(r!==a.Z_OK)throw new Error(o[r]);if(this.header=new l,i.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=s.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=i.inflateSetDictionary(this.strm,t.dictionary))!==a.Z_OK))throw new Error(o[r])}function d(e,t){var r=new u(t);if(r.push(e,!0),r.err)throw r.msg||o[r.err];return r.result}u.prototype.push=function(e,t){var r,o,h,l,u,d=this.strm,f=this.options.chunkSize,p=this.options.dictionary,m=!1;if(this.ended)return!1;o=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?d.input=s.binstring2buf(e):"[object ArrayBuffer]"===c.call(e)?d.input=new Uint8Array(e):d.input=e,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new n.Buf8(f),d.next_out=0,d.avail_out=f),(r=i.inflate(d,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&p&&(r=i.inflateSetDictionary(this.strm,p)),r===a.Z_BUF_ERROR&&!0===m&&(r=a.Z_OK,m=!1),r!==a.Z_STREAM_END&&r!==a.Z_OK)return this.onEnd(r),this.ended=!0,!1;d.next_out&&(0!==d.avail_out&&r!==a.Z_STREAM_END&&(0!==d.avail_in||o!==a.Z_FINISH&&o!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(h=s.utf8border(d.output,d.next_out),l=d.next_out-h,u=s.buf2string(d.output,h),d.next_out=l,d.avail_out=f-l,l&&n.arraySet(d.output,d.output,h,l,0),this.onData(u)):this.onData(n.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(m=!0)}while((d.avail_in>0||0===d.avail_out)&&r!==a.Z_STREAM_END);return r===a.Z_STREAM_END&&(o=a.Z_FINISH),o===a.Z_FINISH?(r=i.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===a.Z_OK):o!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),d.avail_out=0,!0)},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=u,t.inflate=d,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},t.ungzip=d},4236:(e,t)=>{"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)i(r,n)&&(e[n]=r[n])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var n={arraySet:function(e,t,r,i,n){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+i),n);else for(var s=0;s<i;s++)e[n+s]=t[r+s]},flattenChunks:function(e){var t,r,i,n,s,a;for(i=0,t=0,r=e.length;t<r;t++)i+=e[t].length;for(a=new Uint8Array(i),n=0,t=0,r=e.length;t<r;t++)s=e[t],a.set(s,n),n+=s.length;return a}},s={arraySet:function(e,t,r,i,n){for(var s=0;s<i;s++)e[n+s]=t[r+s]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,n)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,s))},t.setTyped(r)},9373:(e,t,r)=>{"use strict";var i=r(4236),n=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(e){n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){s=!1}for(var a=new i.Buf8(256),o=0;o<256;o++)a[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;function h(e,t){if(t<65534&&(e.subarray&&s||!e.subarray&&n))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var r="",a=0;a<t;a++)r+=String.fromCharCode(e[a]);return r}a[254]=a[254]=1,t.string2buf=function(e){var t,r,n,s,a,o=e.length,h=0;for(s=0;s<o;s++)55296==(64512&(r=e.charCodeAt(s)))&&s+1<o&&56320==(64512&(n=e.charCodeAt(s+1)))&&(r=65536+(r-55296<<10)+(n-56320),s++),h+=r<128?1:r<2048?2:r<65536?3:4;for(t=new i.Buf8(h),a=0,s=0;a<h;s++)55296==(64512&(r=e.charCodeAt(s)))&&s+1<o&&56320==(64512&(n=e.charCodeAt(s+1)))&&(r=65536+(r-55296<<10)+(n-56320),s++),r<128?t[a++]=r:r<2048?(t[a++]=192|r>>>6,t[a++]=128|63&r):r<65536?(t[a++]=224|r>>>12,t[a++]=128|r>>>6&63,t[a++]=128|63&r):(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63,t[a++]=128|r>>>6&63,t[a++]=128|63&r);return t},t.buf2binstring=function(e){return h(e,e.length)},t.binstring2buf=function(e){for(var t=new i.Buf8(e.length),r=0,n=t.length;r<n;r++)t[r]=e.charCodeAt(r);return t},t.buf2string=function(e,t){var r,i,n,s,o=t||e.length,l=new Array(2*o);for(i=0,r=0;r<o;)if((n=e[r++])<128)l[i++]=n;else if((s=a[n])>4)l[i++]=65533,r+=s-1;else{for(n&=2===s?31:3===s?15:7;s>1&&r<o;)n=n<<6|63&e[r++],s--;s>1?l[i++]=65533:n<65536?l[i++]=n:(n-=65536,l[i++]=55296|n>>10&1023,l[i++]=56320|1023&n)}return h(l,i)},t.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;r>=0&&128==(192&e[r]);)r--;return r<0||0===r?t:r+a[e[r]]>t?r:t}},6069:e=>{"use strict";e.exports=function(e,t,r,i){for(var n=65535&e|0,s=e>>>16&65535|0,a=0;0!==r;){r-=a=r>2e3?2e3:r;do{s=s+(n=n+t[i++]|0)|0}while(--a);n%=65521,s%=65521}return n|s<<16|0}},1619:e=>{"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},2869:e=>{"use strict";var t=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();e.exports=function(e,r,i,n){var s=t,a=n+i;e^=-1;for(var o=n;o<a;o++)e=e>>>8^s[255&(e^r[o])];return-1^e}},405:(e,t,r)=>{"use strict";var i,n=r(4236),s=r(342),a=r(6069),o=r(2869),h=r(8898),l=-2,c=258,u=262,d=103,f=113,p=666;function m(e,t){return e.msg=h[t],t}function g(e){return(e<<1)-(e>4?9:0)}function _(e){for(var t=e.length;--t>=0;)e[t]=0}function b(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(n.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function v(e,t){s._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,b(e.strm)}function y(e,t){e.pending_buf[e.pending++]=t}function w(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function x(e,t){var r,i,n=e.max_chain_length,s=e.strstart,a=e.prev_length,o=e.nice_match,h=e.strstart>e.w_size-u?e.strstart-(e.w_size-u):0,l=e.window,d=e.w_mask,f=e.prev,p=e.strstart+c,m=l[s+a-1],g=l[s+a];e.prev_length>=e.good_match&&(n>>=2),o>e.lookahead&&(o=e.lookahead);do{if(l[(r=t)+a]===g&&l[r+a-1]===m&&l[r]===l[s]&&l[++r]===l[s+1]){s+=2,r++;do{}while(l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&s<p);if(i=c-(p-s),s=p-c,i>a){if(e.match_start=t,a=i,i>=o)break;m=l[s+a-1],g=l[s+a]}}}while((t=f[t&d])>h&&0!=--n);return a<=e.lookahead?a:e.lookahead}function k(e){var t,r,i,s,h,l,c,d,f,p,m=e.w_size;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=m+(m-u)){n.arraySet(e.window,e.window,m,m,0),e.match_start-=m,e.strstart-=m,e.block_start-=m,t=r=e.hash_size;do{i=e.head[--t],e.head[t]=i>=m?i-m:0}while(--r);t=r=m;do{i=e.prev[--t],e.prev[t]=i>=m?i-m:0}while(--r);s+=m}if(0===e.strm.avail_in)break;if(l=e.strm,c=e.window,d=e.strstart+e.lookahead,f=s,p=void 0,(p=l.avail_in)>f&&(p=f),r=0===p?0:(l.avail_in-=p,n.arraySet(c,l.input,l.next_in,p,d),1===l.state.wrap?l.adler=a(l.adler,c,p,d):2===l.state.wrap&&(l.adler=o(l.adler,c,p,d)),l.next_in+=p,l.total_in+=p,p),e.lookahead+=r,e.lookahead+e.insert>=3)for(h=e.strstart-e.insert,e.ins_h=e.window[h],e.ins_h=(e.ins_h<<e.hash_shift^e.window[h+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[h+3-1])&e.hash_mask,e.prev[h&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=h,h++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<u&&0!==e.strm.avail_in)}function S(e,t){for(var r,i;;){if(e.lookahead<u){if(k(e),e.lookahead<u&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-u&&(e.match_length=x(e,r)),e.match_length>=3)if(i=s._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(v(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(v(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(v(e,!1),0===e.strm.avail_out)?1:2}function C(e,t){for(var r,i,n;;){if(e.lookahead<u){if(k(e),e.lookahead<u&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-u&&(e.match_length=x(e,r),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){n=e.strstart+e.lookahead-3,i=s._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=n&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(v(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((i=s._tr_tally(e,0,e.window[e.strstart-1]))&&v(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=s._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(v(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(v(e,!1),0===e.strm.avail_out)?1:2}function A(e,t,r,i,n){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=i,this.func=n}function E(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new n.Buf16(1146),this.dyn_dtree=new n.Buf16(122),this.bl_tree=new n.Buf16(78),_(this.dyn_ltree),_(this.dyn_dtree),_(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new n.Buf16(16),this.heap=new n.Buf16(573),_(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new n.Buf16(573),_(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function P(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:f,e.adler=2===t.wrap?0:1,t.last_flush=0,s._tr_init(t),0):m(e,l)}function O(e){var t,r=P(e);return 0===r&&((t=e.state).window_size=2*t.w_size,_(t.head),t.max_lazy_match=i[t.level].max_lazy,t.good_match=i[t.level].good_length,t.nice_match=i[t.level].nice_length,t.max_chain_length=i[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),r}function I(e,t,r,i,s,a){if(!e)return l;var o=1;if(-1===t&&(t=6),i<0?(o=0,i=-i):i>15&&(o=2,i-=16),s<1||s>9||8!==r||i<8||i>15||t<0||t>9||a<0||a>4)return m(e,l);8===i&&(i=9);var h=new E;return e.state=h,h.strm=e,h.wrap=o,h.gzhead=null,h.w_bits=i,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=s+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+3-1)/3),h.window=new n.Buf8(2*h.w_size),h.head=new n.Buf16(h.hash_size),h.prev=new n.Buf16(h.w_size),h.lit_bufsize=1<<s+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new n.Buf8(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=t,h.strategy=a,h.method=r,O(e)}i=[new A(0,0,0,0,(function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(k(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+r;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,v(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-u&&(v(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(v(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(v(e,!1),e.strm.avail_out),1)})),new A(4,4,8,4,S),new A(4,5,16,8,S),new A(4,6,32,32,S),new A(4,4,16,16,C),new A(8,16,32,32,C),new A(8,16,128,128,C),new A(8,32,128,256,C),new A(32,128,258,1024,C),new A(32,258,258,4096,C)],t.deflateInit=function(e,t){return I(e,t,8,15,8,0)},t.deflateInit2=I,t.deflateReset=O,t.deflateResetKeep=P,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?l:(e.state.gzhead=t,0):l},t.deflate=function(e,t){var r,n,a,h;if(!e||!e.state||t>5||t<0)return e?m(e,l):l;if(n=e.state,!e.output||!e.input&&0!==e.avail_in||n.status===p&&4!==t)return m(e,0===e.avail_out?-5:l);if(n.strm=e,r=n.last_flush,n.last_flush=t,42===n.status)if(2===n.wrap)e.adler=0,y(n,31),y(n,139),y(n,8),n.gzhead?(y(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),y(n,255&n.gzhead.time),y(n,n.gzhead.time>>8&255),y(n,n.gzhead.time>>16&255),y(n,n.gzhead.time>>24&255),y(n,9===n.level?2:n.strategy>=2||n.level<2?4:0),y(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(y(n,255&n.gzhead.extra.length),y(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=o(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(y(n,0),y(n,0),y(n,0),y(n,0),y(n,0),y(n,9===n.level?2:n.strategy>=2||n.level<2?4:0),y(n,3),n.status=f);else{var u=8+(n.w_bits-8<<4)<<8;u|=(n.strategy>=2||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(u|=32),u+=31-u%31,n.status=f,w(n,u),0!==n.strstart&&(w(n,e.adler>>>16),w(n,65535&e.adler)),e.adler=1}if(69===n.status)if(n.gzhead.extra){for(a=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>a&&(e.adler=o(e.adler,n.pending_buf,n.pending-a,a)),b(e),a=n.pending,n.pending!==n.pending_buf_size));)y(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>a&&(e.adler=o(e.adler,n.pending_buf,n.pending-a,a)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){a=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>a&&(e.adler=o(e.adler,n.pending_buf,n.pending-a,a)),b(e),a=n.pending,n.pending===n.pending_buf_size)){h=1;break}h=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,y(n,h)}while(0!==h);n.gzhead.hcrc&&n.pending>a&&(e.adler=o(e.adler,n.pending_buf,n.pending-a,a)),0===h&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){a=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>a&&(e.adler=o(e.adler,n.pending_buf,n.pending-a,a)),b(e),a=n.pending,n.pending===n.pending_buf_size)){h=1;break}h=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,y(n,h)}while(0!==h);n.gzhead.hcrc&&n.pending>a&&(e.adler=o(e.adler,n.pending_buf,n.pending-a,a)),0===h&&(n.status=d)}else n.status=d;if(n.status===d&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&b(e),n.pending+2<=n.pending_buf_size&&(y(n,255&e.adler),y(n,e.adler>>8&255),e.adler=0,n.status=f)):n.status=f),0!==n.pending){if(b(e),0===e.avail_out)return n.last_flush=-1,0}else if(0===e.avail_in&&g(t)<=g(r)&&4!==t)return m(e,-5);if(n.status===p&&0!==e.avail_in)return m(e,-5);if(0!==e.avail_in||0!==n.lookahead||0!==t&&n.status!==p){var x=2===n.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(k(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,r=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(v(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(v(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(v(e,!1),0===e.strm.avail_out)?1:2}(n,t):3===n.strategy?function(e,t){for(var r,i,n,a,o=e.window;;){if(e.lookahead<=c){if(k(e),e.lookahead<=c&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=o[n=e.strstart-1])===o[++n]&&i===o[++n]&&i===o[++n]){a=e.strstart+c;do{}while(i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&n<a);e.match_length=c-(a-n),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=s._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(v(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(v(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(v(e,!1),0===e.strm.avail_out)?1:2}(n,t):i[n.level].func(n,t);if(3!==x&&4!==x||(n.status=p),1===x||3===x)return 0===e.avail_out&&(n.last_flush=-1),0;if(2===x&&(1===t?s._tr_align(n):5!==t&&(s._tr_stored_block(n,0,0,!1),3===t&&(_(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),b(e),0===e.avail_out))return n.last_flush=-1,0}return 4!==t?0:n.wrap<=0?1:(2===n.wrap?(y(n,255&e.adler),y(n,e.adler>>8&255),y(n,e.adler>>16&255),y(n,e.adler>>24&255),y(n,255&e.total_in),y(n,e.total_in>>8&255),y(n,e.total_in>>16&255),y(n,e.total_in>>24&255)):(w(n,e.adler>>>16),w(n,65535&e.adler)),b(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&t!==d&&t!==f&&t!==p?m(e,l):(e.state=null,t===f?m(e,-3):0):l},t.deflateSetDictionary=function(e,t){var r,i,s,o,h,c,u,d,f=t.length;if(!e||!e.state)return l;if(2===(o=(r=e.state).wrap)||1===o&&42!==r.status||r.lookahead)return l;for(1===o&&(e.adler=a(e.adler,t,f,0)),r.wrap=0,f>=r.w_size&&(0===o&&(_(r.head),r.strstart=0,r.block_start=0,r.insert=0),d=new n.Buf8(r.w_size),n.arraySet(d,t,f-r.w_size,r.w_size,0),t=d,f=r.w_size),h=e.avail_in,c=e.next_in,u=e.input,e.avail_in=f,e.next_in=0,e.input=t,k(r);r.lookahead>=3;){i=r.strstart,s=r.lookahead-2;do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+3-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++}while(--s);r.strstart=i,r.lookahead=2,k(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=c,e.input=u,e.avail_in=h,r.wrap=o,0},t.deflateInfo="pako deflate (from Nodeca project)"},2401:e=>{"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},4264:e=>{"use strict";e.exports=function(e,t){var r,i,n,s,a,o,h,l,c,u,d,f,p,m,g,_,b,v,y,w,x,k,S,C,A;r=e.state,i=e.next_in,C=e.input,n=i+(e.avail_in-5),s=e.next_out,A=e.output,a=s-(t-e.avail_out),o=s+(e.avail_out-257),h=r.dmax,l=r.wsize,c=r.whave,u=r.wnext,d=r.window,f=r.hold,p=r.bits,m=r.lencode,g=r.distcode,_=(1<<r.lenbits)-1,b=(1<<r.distbits)-1;e:do{p<15&&(f+=C[i++]<<p,p+=8,f+=C[i++]<<p,p+=8),v=m[f&_];t:for(;;){if(f>>>=y=v>>>24,p-=y,0==(y=v>>>16&255))A[s++]=65535&v;else{if(!(16&y)){if(0==(64&y)){v=m[(65535&v)+(f&(1<<y)-1)];continue t}if(32&y){r.mode=12;break e}e.msg="invalid literal/length code",r.mode=30;break e}w=65535&v,(y&=15)&&(p<y&&(f+=C[i++]<<p,p+=8),w+=f&(1<<y)-1,f>>>=y,p-=y),p<15&&(f+=C[i++]<<p,p+=8,f+=C[i++]<<p,p+=8),v=g[f&b];r:for(;;){if(f>>>=y=v>>>24,p-=y,!(16&(y=v>>>16&255))){if(0==(64&y)){v=g[(65535&v)+(f&(1<<y)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(x=65535&v,p<(y&=15)&&(f+=C[i++]<<p,(p+=8)<y&&(f+=C[i++]<<p,p+=8)),(x+=f&(1<<y)-1)>h){e.msg="invalid distance too far back",r.mode=30;break e}if(f>>>=y,p-=y,x>(y=s-a)){if((y=x-y)>c&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(k=0,S=d,0===u){if(k+=l-y,y<w){w-=y;do{A[s++]=d[k++]}while(--y);k=s-x,S=A}}else if(u<y){if(k+=l+u-y,(y-=u)<w){w-=y;do{A[s++]=d[k++]}while(--y);if(k=0,u<w){w-=y=u;do{A[s++]=d[k++]}while(--y);k=s-x,S=A}}}else if(k+=u-y,y<w){w-=y;do{A[s++]=d[k++]}while(--y);k=s-x,S=A}for(;w>2;)A[s++]=S[k++],A[s++]=S[k++],A[s++]=S[k++],w-=3;w&&(A[s++]=S[k++],w>1&&(A[s++]=S[k++]))}else{k=s-x;do{A[s++]=A[k++],A[s++]=A[k++],A[s++]=A[k++],w-=3}while(w>2);w&&(A[s++]=A[k++],w>1&&(A[s++]=A[k++]))}break}}break}}while(i<n&&s<o);i-=w=p>>3,f&=(1<<(p-=w<<3))-1,e.next_in=i,e.next_out=s,e.avail_in=i<n?n-i+5:5-(i-n),e.avail_out=s<o?o-s+257:257-(s-o),r.hold=f,r.bits=p}},7948:(e,t,r)=>{"use strict";var i=r(4236),n=r(6069),s=r(2869),a=r(4264),o=r(9241),h=-2,l=12,c=30;function u(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function d(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function f(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new i.Buf32(852),t.distcode=t.distdyn=new i.Buf32(592),t.sane=1,t.back=-1,0):h}function p(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,f(e)):h}function m(e,t){var r,i;return e&&e.state?(i=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?h:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=r,i.wbits=t,p(e))):h}function g(e,t){var r,i;return e?(i=new d,e.state=i,i.window=null,0!==(r=m(e,t))&&(e.state=null),r):h}var _,b,v=!0;function y(e){if(v){var t;for(_=new i.Buf32(512),b=new i.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(o(1,e.lens,0,288,_,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;o(2,e.lens,0,32,b,0,e.work,{bits:5}),v=!1}e.lencode=_,e.lenbits=9,e.distcode=b,e.distbits=5}function w(e,t,r,n){var s,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new i.Buf8(a.wsize)),n>=a.wsize?(i.arraySet(a.window,t,r-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((s=a.wsize-a.wnext)>n&&(s=n),i.arraySet(a.window,t,r-n,s,a.wnext),(n-=s)?(i.arraySet(a.window,t,r-n,n,0),a.wnext=n,a.whave=a.wsize):(a.wnext+=s,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=s))),0}t.inflateReset=p,t.inflateReset2=m,t.inflateResetKeep=f,t.inflateInit=function(e){return g(e,15)},t.inflateInit2=g,t.inflate=function(e,t){var r,d,f,p,m,g,_,b,v,x,k,S,C,A,E,P,O,I,T,M,R,B,Z,L,z=0,F=new i.Buf8(4),U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return h;(r=e.state).mode===l&&(r.mode=13),m=e.next_out,f=e.output,_=e.avail_out,p=e.next_in,d=e.input,g=e.avail_in,b=r.hold,v=r.bits,x=g,k=_,B=0;e:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;v<16;){if(0===g)break e;g--,b+=d[p++]<<v,v+=8}if(2&r.wrap&&35615===b){r.check=0,F[0]=255&b,F[1]=b>>>8&255,r.check=s(r.check,F,2,0),b=0,v=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&b)<<8)+(b>>8))%31){e.msg="incorrect header check",r.mode=c;break}if(8!=(15&b)){e.msg="unknown compression method",r.mode=c;break}if(v-=4,R=8+(15&(b>>>=4)),0===r.wbits)r.wbits=R;else if(R>r.wbits){e.msg="invalid window size",r.mode=c;break}r.dmax=1<<R,e.adler=r.check=1,r.mode=512&b?10:l,b=0,v=0;break;case 2:for(;v<16;){if(0===g)break e;g--,b+=d[p++]<<v,v+=8}if(r.flags=b,8!=(255&r.flags)){e.msg="unknown compression method",r.mode=c;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=c;break}r.head&&(r.head.text=b>>8&1),512&r.flags&&(F[0]=255&b,F[1]=b>>>8&255,r.check=s(r.check,F,2,0)),b=0,v=0,r.mode=3;case 3:for(;v<32;){if(0===g)break e;g--,b+=d[p++]<<v,v+=8}r.head&&(r.head.time=b),512&r.flags&&(F[0]=255&b,F[1]=b>>>8&255,F[2]=b>>>16&255,F[3]=b>>>24&255,r.check=s(r.check,F,4,0)),b=0,v=0,r.mode=4;case 4:for(;v<16;){if(0===g)break e;g--,b+=d[p++]<<v,v+=8}r.head&&(r.head.xflags=255&b,r.head.os=b>>8),512&r.flags&&(F[0]=255&b,F[1]=b>>>8&255,r.check=s(r.check,F,2,0)),b=0,v=0,r.mode=5;case 5:if(1024&r.flags){for(;v<16;){if(0===g)break e;g--,b+=d[p++]<<v,v+=8}r.length=b,r.head&&(r.head.extra_len=b),512&r.flags&&(F[0]=255&b,F[1]=b>>>8&255,r.check=s(r.check,F,2,0)),b=0,v=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((S=r.length)>g&&(S=g),S&&(r.head&&(R=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),i.arraySet(r.head.extra,d,p,S,R)),512&r.flags&&(r.check=s(r.check,d,S,p)),g-=S,p+=S,r.length-=S),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===g)break e;S=0;do{R=d[p+S++],r.head&&R&&r.length<65536&&(r.head.name+=String.fromCharCode(R))}while(R&&S<g);if(512&r.flags&&(r.check=s(r.check,d,S,p)),g-=S,p+=S,R)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===g)break e;S=0;do{R=d[p+S++],r.head&&R&&r.length<65536&&(r.head.comment+=String.fromCharCode(R))}while(R&&S<g);if(512&r.flags&&(r.check=s(r.check,d,S,p)),g-=S,p+=S,R)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;v<16;){if(0===g)break e;g--,b+=d[p++]<<v,v+=8}if(b!==(65535&r.check)){e.msg="header crc mismatch",r.mode=c;break}b=0,v=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=l;break;case 10:for(;v<32;){if(0===g)break e;g--,b+=d[p++]<<v,v+=8}e.adler=r.check=u(b),b=0,v=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=m,e.avail_out=_,e.next_in=p,e.avail_in=g,r.hold=b,r.bits=v,2;e.adler=r.check=1,r.mode=l;case l:if(5===t||6===t)break e;case 13:if(r.last){b>>>=7&v,v-=7&v,r.mode=27;break}for(;v<3;){if(0===g)break e;g--,b+=d[p++]<<v,v+=8}switch(r.last=1&b,v-=1,3&(b>>>=1)){case 0:r.mode=14;break;case 1:if(y(r),r.mode=20,6===t){b>>>=2,v-=2;break e}break;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=c}b>>>=2,v-=2;break;case 14:for(b>>>=7&v,v-=7&v;v<32;){if(0===g)break e;g--,b+=d[p++]<<v,v+=8}if((65535&b)!=(b>>>16^65535)){e.msg="invalid stored block lengths",r.mode=c;break}if(r.length=65535&b,b=0,v=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(S=r.length){if(S>g&&(S=g),S>_&&(S=_),0===S)break e;i.arraySet(f,d,p,S,m),g-=S,p+=S,_-=S,m+=S,r.length-=S;break}r.mode=l;break;case 17:for(;v<14;){if(0===g)break e;g--,b+=d[p++]<<v,v+=8}if(r.nlen=257+(31&b),b>>>=5,v-=5,r.ndist=1+(31&b),b>>>=5,v-=5,r.ncode=4+(15&b),b>>>=4,v-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=c;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;v<3;){if(0===g)break e;g--,b+=d[p++]<<v,v+=8}r.lens[U[r.have++]]=7&b,b>>>=3,v-=3}for(;r.have<19;)r.lens[U[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,Z={bits:r.lenbits},B=o(0,r.lens,0,19,r.lencode,0,r.work,Z),r.lenbits=Z.bits,B){e.msg="invalid code lengths set",r.mode=c;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;P=(z=r.lencode[b&(1<<r.lenbits)-1])>>>16&255,O=65535&z,!((E=z>>>24)<=v);){if(0===g)break e;g--,b+=d[p++]<<v,v+=8}if(O<16)b>>>=E,v-=E,r.lens[r.have++]=O;else{if(16===O){for(L=E+2;v<L;){if(0===g)break e;g--,b+=d[p++]<<v,v+=8}if(b>>>=E,v-=E,0===r.have){e.msg="invalid bit length repeat",r.mode=c;break}R=r.lens[r.have-1],S=3+(3&b),b>>>=2,v-=2}else if(17===O){for(L=E+3;v<L;){if(0===g)break e;g--,b+=d[p++]<<v,v+=8}v-=E,R=0,S=3+(7&(b>>>=E)),b>>>=3,v-=3}else{for(L=E+7;v<L;){if(0===g)break e;g--,b+=d[p++]<<v,v+=8}v-=E,R=0,S=11+(127&(b>>>=E)),b>>>=7,v-=7}if(r.have+S>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=c;break}for(;S--;)r.lens[r.have++]=R}}if(r.mode===c)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=c;break}if(r.lenbits=9,Z={bits:r.lenbits},B=o(1,r.lens,0,r.nlen,r.lencode,0,r.work,Z),r.lenbits=Z.bits,B){e.msg="invalid literal/lengths set",r.mode=c;break}if(r.distbits=6,r.distcode=r.distdyn,Z={bits:r.distbits},B=o(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,Z),r.distbits=Z.bits,B){e.msg="invalid distances set",r.mode=c;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(g>=6&&_>=258){e.next_out=m,e.avail_out=_,e.next_in=p,e.avail_in=g,r.hold=b,r.bits=v,a(e,k),m=e.next_out,f=e.output,_=e.avail_out,p=e.next_in,d=e.input,g=e.avail_in,b=r.hold,v=r.bits,r.mode===l&&(r.back=-1);break}for(r.back=0;P=(z=r.lencode[b&(1<<r.lenbits)-1])>>>16&255,O=65535&z,!((E=z>>>24)<=v);){if(0===g)break e;g--,b+=d[p++]<<v,v+=8}if(P&&0==(240&P)){for(I=E,T=P,M=O;P=(z=r.lencode[M+((b&(1<<I+T)-1)>>I)])>>>16&255,O=65535&z,!(I+(E=z>>>24)<=v);){if(0===g)break e;g--,b+=d[p++]<<v,v+=8}b>>>=I,v-=I,r.back+=I}if(b>>>=E,v-=E,r.back+=E,r.length=O,0===P){r.mode=26;break}if(32&P){r.back=-1,r.mode=l;break}if(64&P){e.msg="invalid literal/length code",r.mode=c;break}r.extra=15&P,r.mode=22;case 22:if(r.extra){for(L=r.extra;v<L;){if(0===g)break e;g--,b+=d[p++]<<v,v+=8}r.length+=b&(1<<r.extra)-1,b>>>=r.extra,v-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;P=(z=r.distcode[b&(1<<r.distbits)-1])>>>16&255,O=65535&z,!((E=z>>>24)<=v);){if(0===g)break e;g--,b+=d[p++]<<v,v+=8}if(0==(240&P)){for(I=E,T=P,M=O;P=(z=r.distcode[M+((b&(1<<I+T)-1)>>I)])>>>16&255,O=65535&z,!(I+(E=z>>>24)<=v);){if(0===g)break e;g--,b+=d[p++]<<v,v+=8}b>>>=I,v-=I,r.back+=I}if(b>>>=E,v-=E,r.back+=E,64&P){e.msg="invalid distance code",r.mode=c;break}r.offset=O,r.extra=15&P,r.mode=24;case 24:if(r.extra){for(L=r.extra;v<L;){if(0===g)break e;g--,b+=d[p++]<<v,v+=8}r.offset+=b&(1<<r.extra)-1,b>>>=r.extra,v-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=c;break}r.mode=25;case 25:if(0===_)break e;if(S=k-_,r.offset>S){if((S=r.offset-S)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=c;break}S>r.wnext?(S-=r.wnext,C=r.wsize-S):C=r.wnext-S,S>r.length&&(S=r.length),A=r.window}else A=f,C=m-r.offset,S=r.length;S>_&&(S=_),_-=S,r.length-=S;do{f[m++]=A[C++]}while(--S);0===r.length&&(r.mode=21);break;case 26:if(0===_)break e;f[m++]=r.length,_--,r.mode=21;break;case 27:if(r.wrap){for(;v<32;){if(0===g)break e;g--,b|=d[p++]<<v,v+=8}if(k-=_,e.total_out+=k,r.total+=k,k&&(e.adler=r.check=r.flags?s(r.check,f,k,m-k):n(r.check,f,k,m-k)),k=_,(r.flags?b:u(b))!==r.check){e.msg="incorrect data check",r.mode=c;break}b=0,v=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;v<32;){if(0===g)break e;g--,b+=d[p++]<<v,v+=8}if(b!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=c;break}b=0,v=0}r.mode=29;case 29:B=1;break e;case c:B=-3;break e;case 31:return-4;case 32:default:return h}return e.next_out=m,e.avail_out=_,e.next_in=p,e.avail_in=g,r.hold=b,r.bits=v,(r.wsize||k!==e.avail_out&&r.mode<c&&(r.mode<27||4!==t))&&w(e,e.output,e.next_out,k-e.avail_out)?(r.mode=31,-4):(x-=e.avail_in,k-=e.avail_out,e.total_in+=x,e.total_out+=k,r.total+=k,r.wrap&&k&&(e.adler=r.check=r.flags?s(r.check,f,k,e.next_out-k):n(r.check,f,k,e.next_out-k)),e.data_type=r.bits+(r.last?64:0)+(r.mode===l?128:0)+(20===r.mode||15===r.mode?256:0),(0===x&&0===k||4===t)&&0===B&&(B=-5),B)},t.inflateEnd=function(e){if(!e||!e.state)return h;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?h:(r.head=t,t.done=!1,0):h},t.inflateSetDictionary=function(e,t){var r,i=t.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?h:11===r.mode&&n(1,t,i,0)!==r.check?-3:w(e,t,i,i)?(r.mode=31,-4):(r.havedict=1,0):h},t.inflateInfo="pako inflate (from Nodeca project)"},9241:(e,t,r)=>{"use strict";var i=r(4236),n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,r,h,l,c,u,d){var f,p,m,g,_,b,v,y,w,x=d.bits,k=0,S=0,C=0,A=0,E=0,P=0,O=0,I=0,T=0,M=0,R=null,B=0,Z=new i.Buf16(16),L=new i.Buf16(16),z=null,F=0;for(k=0;k<=15;k++)Z[k]=0;for(S=0;S<h;S++)Z[t[r+S]]++;for(E=x,A=15;A>=1&&0===Z[A];A--);if(E>A&&(E=A),0===A)return l[c++]=20971520,l[c++]=20971520,d.bits=1,0;for(C=1;C<A&&0===Z[C];C++);for(E<C&&(E=C),I=1,k=1;k<=15;k++)if(I<<=1,(I-=Z[k])<0)return-1;if(I>0&&(0===e||1!==A))return-1;for(L[1]=0,k=1;k<15;k++)L[k+1]=L[k]+Z[k];for(S=0;S<h;S++)0!==t[r+S]&&(u[L[t[r+S]]++]=S);if(0===e?(R=z=u,b=19):1===e?(R=n,B-=257,z=s,F-=257,b=256):(R=a,z=o,b=-1),M=0,S=0,k=C,_=c,P=E,O=0,m=-1,g=(T=1<<E)-1,1===e&&T>852||2===e&&T>592)return 1;for(;;){v=k-O,u[S]<b?(y=0,w=u[S]):u[S]>b?(y=z[F+u[S]],w=R[B+u[S]]):(y=96,w=0),f=1<<k-O,C=p=1<<P;do{l[_+(M>>O)+(p-=f)]=v<<24|y<<16|w|0}while(0!==p);for(f=1<<k-1;M&f;)f>>=1;if(0!==f?(M&=f-1,M+=f):M=0,S++,0==--Z[k]){if(k===A)break;k=t[r+u[S]]}if(k>E&&(M&g)!==m){for(0===O&&(O=E),_+=C,I=1<<(P=k-O);P+O<A&&!((I-=Z[P+O])<=0);)P++,I<<=1;if(T+=1<<P,1===e&&T>852||2===e&&T>592)return 1;l[m=M&g]=E<<24|P<<16|_-c|0}}return 0!==M&&(l[_+M]=k-O<<24|64<<16|0),d.bits=E,0}},8898:e=>{"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},342:(e,t,r)=>{"use strict";var i=r(4236);function n(e){for(var t=e.length;--t>=0;)e[t]=0}var s=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],h=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],l=new Array(576);n(l);var c=new Array(60);n(c);var u=new Array(512);n(u);var d=new Array(256);n(d);var f=new Array(29);n(f);var p,m,g,_=new Array(30);function b(e,t,r,i,n){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=i,this.max_length=n,this.has_stree=e&&e.length}function v(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function y(e){return e<256?u[e]:u[256+(e>>>7)]}function w(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function x(e,t,r){e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,w(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function k(e,t,r){x(e,r[2*t],r[2*t+1])}function S(e,t){var r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1}function C(e,t,r){var i,n,s=new Array(16),a=0;for(i=1;i<=15;i++)s[i]=a=a+r[i-1]<<1;for(n=0;n<=t;n++){var o=e[2*n+1];0!==o&&(e[2*n]=S(s[o]++,o))}}function A(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function E(e){e.bi_valid>8?w(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function P(e,t,r,i){var n=2*t,s=2*r;return e[n]<e[s]||e[n]===e[s]&&i[t]<=i[r]}function O(e,t,r){for(var i=e.heap[r],n=r<<1;n<=e.heap_len&&(n<e.heap_len&&P(t,e.heap[n+1],e.heap[n],e.depth)&&n++,!P(t,i,e.heap[n],e.depth));)e.heap[r]=e.heap[n],r=n,n<<=1;e.heap[r]=i}function I(e,t,r){var i,n,o,h,l=0;if(0!==e.last_lit)do{i=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],n=e.pending_buf[e.l_buf+l],l++,0===i?k(e,n,t):(k(e,(o=d[n])+256+1,t),0!==(h=s[o])&&x(e,n-=f[o],h),k(e,o=y(--i),r),0!==(h=a[o])&&x(e,i-=_[o],h))}while(l<e.last_lit);k(e,256,t)}function T(e,t){var r,i,n,s=t.dyn_tree,a=t.stat_desc.static_tree,o=t.stat_desc.has_stree,h=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=573,r=0;r<h;r++)0!==s[2*r]?(e.heap[++e.heap_len]=l=r,e.depth[r]=0):s[2*r+1]=0;for(;e.heap_len<2;)s[2*(n=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[n]=0,e.opt_len--,o&&(e.static_len-=a[2*n+1]);for(t.max_code=l,r=e.heap_len>>1;r>=1;r--)O(e,s,r);n=h;do{r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],O(e,s,1),i=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=i,s[2*n]=s[2*r]+s[2*i],e.depth[n]=(e.depth[r]>=e.depth[i]?e.depth[r]:e.depth[i])+1,s[2*r+1]=s[2*i+1]=n,e.heap[1]=n++,O(e,s,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,i,n,s,a,o,h=t.dyn_tree,l=t.max_code,c=t.stat_desc.static_tree,u=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(s=0;s<=15;s++)e.bl_count[s]=0;for(h[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<573;r++)(s=h[2*h[2*(i=e.heap[r])+1]+1]+1)>p&&(s=p,m++),h[2*i+1]=s,i>l||(e.bl_count[s]++,a=0,i>=f&&(a=d[i-f]),o=h[2*i],e.opt_len+=o*(s+a),u&&(e.static_len+=o*(c[2*i+1]+a)));if(0!==m){do{for(s=p-1;0===e.bl_count[s];)s--;e.bl_count[s]--,e.bl_count[s+1]+=2,e.bl_count[p]--,m-=2}while(m>0);for(s=p;0!==s;s--)for(i=e.bl_count[s];0!==i;)(n=e.heap[--r])>l||(h[2*n+1]!==s&&(e.opt_len+=(s-h[2*n+1])*h[2*n],h[2*n+1]=s),i--)}}(e,t),C(s,l,e.bl_count)}function M(e,t,r){var i,n,s=-1,a=t[1],o=0,h=7,l=4;for(0===a&&(h=138,l=3),t[2*(r+1)+1]=65535,i=0;i<=r;i++)n=a,a=t[2*(i+1)+1],++o<h&&n===a||(o<l?e.bl_tree[2*n]+=o:0!==n?(n!==s&&e.bl_tree[2*n]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,s=n,0===a?(h=138,l=3):n===a?(h=6,l=3):(h=7,l=4))}function R(e,t,r){var i,n,s=-1,a=t[1],o=0,h=7,l=4;for(0===a&&(h=138,l=3),i=0;i<=r;i++)if(n=a,a=t[2*(i+1)+1],!(++o<h&&n===a)){if(o<l)do{k(e,n,e.bl_tree)}while(0!=--o);else 0!==n?(n!==s&&(k(e,n,e.bl_tree),o--),k(e,16,e.bl_tree),x(e,o-3,2)):o<=10?(k(e,17,e.bl_tree),x(e,o-3,3)):(k(e,18,e.bl_tree),x(e,o-11,7));o=0,s=n,0===a?(h=138,l=3):n===a?(h=6,l=3):(h=7,l=4)}}n(_);var B=!1;function Z(e,t,r,n){x(e,0+(n?1:0),3),function(e,t,r,n){E(e),w(e,r),w(e,~r),i.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r)}t._tr_init=function(e){B||(function(){var e,t,r,i,n,h=new Array(16);for(r=0,i=0;i<28;i++)for(f[i]=r,e=0;e<1<<s[i];e++)d[r++]=i;for(d[r-1]=i,n=0,i=0;i<16;i++)for(_[i]=n,e=0;e<1<<a[i];e++)u[n++]=i;for(n>>=7;i<30;i++)for(_[i]=n<<7,e=0;e<1<<a[i]-7;e++)u[256+n++]=i;for(t=0;t<=15;t++)h[t]=0;for(e=0;e<=143;)l[2*e+1]=8,e++,h[8]++;for(;e<=255;)l[2*e+1]=9,e++,h[9]++;for(;e<=279;)l[2*e+1]=7,e++,h[7]++;for(;e<=287;)l[2*e+1]=8,e++,h[8]++;for(C(l,287,h),e=0;e<30;e++)c[2*e+1]=5,c[2*e]=S(e,5);p=new b(l,s,257,286,15),m=new b(c,a,0,30,15),g=new b(new Array(0),o,0,19,7)}(),B=!0),e.l_desc=new v(e.dyn_ltree,p),e.d_desc=new v(e.dyn_dtree,m),e.bl_desc=new v(e.bl_tree,g),e.bi_buf=0,e.bi_valid=0,A(e)},t._tr_stored_block=Z,t._tr_flush_block=function(e,t,r,i){var n,s,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),T(e,e.l_desc),T(e,e.d_desc),a=function(e){var t;for(M(e,e.dyn_ltree,e.l_desc.max_code),M(e,e.dyn_dtree,e.d_desc.max_code),T(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*h[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),n=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=n&&(n=s)):n=s=r+5,r+4<=n&&-1!==t?Z(e,t,r,i):4===e.strategy||s===n?(x(e,2+(i?1:0),3),I(e,l,c)):(x(e,4+(i?1:0),3),function(e,t,r,i){var n;for(x(e,t-257,5),x(e,r-1,5),x(e,i-4,4),n=0;n<i;n++)x(e,e.bl_tree[2*h[n]+1],3);R(e,e.dyn_ltree,t-1),R(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),I(e,e.dyn_ltree,e.dyn_dtree)),A(e),i&&E(e)},t._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(d[r]+256+1)]++,e.dyn_dtree[2*y(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){x(e,2,3),k(e,256,l),function(e){16===e.bi_valid?(w(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},2292:e=>{"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},1623:e=>{"use strict";e.exports="function"==typeof setImmediate?setImmediate:function(){var e=[].slice.apply(arguments);e.splice(1,0,0),setTimeout.apply(null,e)}},21:(e,t,r)=>{var i;!function(){"use strict";var n=.5*(Math.sqrt(3)-1),s=(3-Math.sqrt(3))/6,a=1/6,o=(Math.sqrt(5)-1)/4,h=(5-Math.sqrt(5))/20;function l(e){var t;t="function"==typeof e?e:e?function(){var e=0,t=0,r=0,i=1,n=u();e=n(" "),t=n(" "),r=n(" ");for(var s=0;s<arguments.length;s++)(e-=n(arguments[s]))<0&&(e+=1),(t-=n(arguments[s]))<0&&(t+=1),(r-=n(arguments[s]))<0&&(r+=1);return n=null,function(){var n=2091639*e+2.3283064365386963e-10*i;return e=t,t=r,r=n-(i=0|n)}}(e):Math.random,this.p=c(t),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var r=0;r<512;r++)this.perm[r]=this.p[255&r],this.permMod12[r]=this.perm[r]%12}function c(e){var t,r=new Uint8Array(256);for(t=0;t<256;t++)r[t]=t;for(t=0;t<255;t++){var i=t+~~(e()*(256-t)),n=r[t];r[t]=r[i],r[i]=n}return r}function u(){var e=4022871197;return function(t){t=t.toString();for(var r=0;r<t.length;r++){var i=.02519603282416938*(e+=t.charCodeAt(r));i-=e=i>>>0,e=(i*=e)>>>0,e+=4294967296*(i-=e)}return 2.3283064365386963e-10*(e>>>0)}}l.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(e,t){var r,i,a=this.permMod12,o=this.perm,h=this.grad3,l=0,c=0,u=0,d=(e+t)*n,f=Math.floor(e+d),p=Math.floor(t+d),m=(f+p)*s,g=e-(f-m),_=t-(p-m);g>_?(r=1,i=0):(r=0,i=1);var b=g-r+s,v=_-i+s,y=g-1+2*s,w=_-1+2*s,x=255&f,k=255&p,S=.5-g*g-_*_;if(S>=0){var C=3*a[x+o[k]];l=(S*=S)*S*(h[C]*g+h[C+1]*_)}var A=.5-b*b-v*v;if(A>=0){var E=3*a[x+r+o[k+i]];c=(A*=A)*A*(h[E]*b+h[E+1]*v)}var P=.5-y*y-w*w;if(P>=0){var O=3*a[x+1+o[k+1]];u=(P*=P)*P*(h[O]*y+h[O+1]*w)}return 70*(l+c+u)},noise3D:function(e,t,r){var i,n,s,o,h,l,c,u,d,f,p=this.permMod12,m=this.perm,g=this.grad3,_=.3333333333333333*(e+t+r),b=Math.floor(e+_),v=Math.floor(t+_),y=Math.floor(r+_),w=(b+v+y)*a,x=e-(b-w),k=t-(v-w),S=r-(y-w);x>=k?k>=S?(h=1,l=0,c=0,u=1,d=1,f=0):x>=S?(h=1,l=0,c=0,u=1,d=0,f=1):(h=0,l=0,c=1,u=1,d=0,f=1):k<S?(h=0,l=0,c=1,u=0,d=1,f=1):x<S?(h=0,l=1,c=0,u=0,d=1,f=1):(h=0,l=1,c=0,u=1,d=1,f=0);var C=x-h+a,A=k-l+a,E=S-c+a,P=x-u+2*a,O=k-d+2*a,I=S-f+2*a,T=x-1+.5,M=k-1+.5,R=S-1+.5,B=255&b,Z=255&v,L=255&y,z=.6-x*x-k*k-S*S;if(z<0)i=0;else{var F=3*p[B+m[Z+m[L]]];i=(z*=z)*z*(g[F]*x+g[F+1]*k+g[F+2]*S)}var U=.6-C*C-A*A-E*E;if(U<0)n=0;else{var N=3*p[B+h+m[Z+l+m[L+c]]];n=(U*=U)*U*(g[N]*C+g[N+1]*A+g[N+2]*E)}var D=.6-P*P-O*O-I*I;if(D<0)s=0;else{var q=3*p[B+u+m[Z+d+m[L+f]]];s=(D*=D)*D*(g[q]*P+g[q+1]*O+g[q+2]*I)}var j=.6-T*T-M*M-R*R;if(j<0)o=0;else{var H=3*p[B+1+m[Z+1+m[L+1]]];o=(j*=j)*j*(g[H]*T+g[H+1]*M+g[H+2]*R)}return 32*(i+n+s+o)},noise4D:function(e,t,r,i){var n,s,a,l,c,u,d,f,p,m,g,_,b,v,y,w,x,k=this.perm,S=this.grad4,C=(e+t+r+i)*o,A=Math.floor(e+C),E=Math.floor(t+C),P=Math.floor(r+C),O=Math.floor(i+C),I=(A+E+P+O)*h,T=e-(A-I),M=t-(E-I),R=r-(P-I),B=i-(O-I),Z=0,L=0,z=0,F=0;T>M?Z++:L++,T>R?Z++:z++,T>B?Z++:F++,M>R?L++:z++,M>B?L++:F++,R>B?z++:F++;var U=T-(u=Z>=3?1:0)+h,N=M-(d=L>=3?1:0)+h,D=R-(f=z>=3?1:0)+h,q=B-(p=F>=3?1:0)+h,j=T-(m=Z>=2?1:0)+2*h,H=M-(g=L>=2?1:0)+2*h,$=R-(_=z>=2?1:0)+2*h,V=B-(b=F>=2?1:0)+2*h,W=T-(v=Z>=1?1:0)+3*h,Y=M-(y=L>=1?1:0)+3*h,X=R-(w=z>=1?1:0)+3*h,G=B-(x=F>=1?1:0)+3*h,K=T-1+4*h,J=M-1+4*h,Q=R-1+4*h,ee=B-1+4*h,te=255&A,re=255&E,ie=255&P,ne=255&O,se=.6-T*T-M*M-R*R-B*B;if(se<0)n=0;else{var ae=k[te+k[re+k[ie+k[ne]]]]%32*4;n=(se*=se)*se*(S[ae]*T+S[ae+1]*M+S[ae+2]*R+S[ae+3]*B)}var oe=.6-U*U-N*N-D*D-q*q;if(oe<0)s=0;else{var he=k[te+u+k[re+d+k[ie+f+k[ne+p]]]]%32*4;s=(oe*=oe)*oe*(S[he]*U+S[he+1]*N+S[he+2]*D+S[he+3]*q)}var le=.6-j*j-H*H-$*$-V*V;if(le<0)a=0;else{var ce=k[te+m+k[re+g+k[ie+_+k[ne+b]]]]%32*4;a=(le*=le)*le*(S[ce]*j+S[ce+1]*H+S[ce+2]*$+S[ce+3]*V)}var ue=.6-W*W-Y*Y-X*X-G*G;if(ue<0)l=0;else{var de=k[te+v+k[re+y+k[ie+w+k[ne+x]]]]%32*4;l=(ue*=ue)*ue*(S[de]*W+S[de+1]*Y+S[de+2]*X+S[de+3]*G)}var fe=.6-K*K-J*J-Q*Q-ee*ee;if(fe<0)c=0;else{var pe=k[te+1+k[re+1+k[ie+1+k[ne+1]]]]%32*4;c=(fe*=fe)*fe*(S[pe]*K+S[pe+1]*J+S[pe+2]*Q+S[pe+3]*ee)}return 27*(n+s+a+l+c)}},l._buildPermutationTable=c,void 0===(i=function(){return l}.call(t,r,t,e))||(e.exports=i),t.SimplexNoise=l,e.exports=l}()},3639:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),n=new Uint8Array(16);function s(){if(!i)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(n)}const a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,o=function(e){return"string"==typeof e&&a.test(e)};for(var h=[],l=0;l<256;++l)h.push((l+256).toString(16).substr(1));var c,u,d=0,f=0;const p=function(e,t,r){var i=t&&r||0,n=t||new Array(16),a=(e=e||{}).node||c,l=void 0!==e.clockseq?e.clockseq:u;if(null==a||null==l){var p=e.random||(e.rng||s)();null==a&&(a=c=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==l&&(l=u=16383&(p[6]<<8|p[7]))}var m=void 0!==e.msecs?e.msecs:Date.now(),g=void 0!==e.nsecs?e.nsecs:f+1,_=m-d+(g-f)/1e4;if(_<0&&void 0===e.clockseq&&(l=l+1&16383),(_<0||m>d)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d=m,f=g,u=l;var b=(1e4*(268435455&(m+=122192928e5))+g)%4294967296;n[i++]=b>>>24&255,n[i++]=b>>>16&255,n[i++]=b>>>8&255,n[i++]=255&b;var v=m/4294967296*1e4&268435455;n[i++]=v>>>8&255,n[i++]=255&v,n[i++]=v>>>24&15|16,n[i++]=v>>>16&255,n[i++]=l>>>8|128,n[i++]=255&l;for(var y=0;y<6;++y)n[i+y]=a[y];return t||function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(h[e[t+0]]+h[e[t+1]]+h[e[t+2]]+h[e[t+3]]+"-"+h[e[t+4]]+h[e[t+5]]+"-"+h[e[t+6]]+h[e[t+7]]+"-"+h[e[t+8]]+h[e[t+9]]+"-"+h[e[t+10]]+h[e[t+11]]+h[e[t+12]]+h[e[t+13]]+h[e[t+14]]+h[e[t+15]]).toLowerCase();if(!o(r))throw TypeError("Stringified UUID is invalid");return r}(n)}},791:()=>{}},__webpack_module_cache__={};function __webpack_require__(e){if(__webpack_module_cache__[e])return __webpack_module_cache__[e].exports;var t=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(t.exports,t,t.exports,__webpack_require__),t.exports}return __webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__(4206)})()}));
//# sourceMappingURL=urpflanze.min.js.map